var Io=Object.defineProperty;var Do=(A,$,H)=>$ in A?Io(A,$,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[$]=H;var On=(A,$,H)=>(Do(A,typeof $!="symbol"?$+"":$,H),H),bi=(A,$,H)=>{if(!$.has(A))throw TypeError("Cannot "+H)};var V=(A,$,H)=>(bi(A,$,"read from private field"),H?H.call(A):$.get(A)),Te=(A,$,H)=>{if($.has(A))throw TypeError("Cannot add the same private member more than once");$ instanceof WeakSet?$.add(A):$.set(A,H)},it=(A,$,H,O)=>(bi(A,$,"write to private field"),O?O.call(A,H):$.set(A,H),H);var Tr=(A,$,H,O)=>({set _(R){it(A,$,R,H)},get _(){return V(A,$,O)}}),ze=(A,$,H)=>(bi(A,$,"access private method"),H);import{E as getAugmentedNamespace,g as getDefaultExportFromCjs,r as reactExports,F as reactDomExports,H as He,j as jsxRuntimeExports,b as useNavigate}from"./index-x6LSmLxk.js";import{M as Modal,C as CloseRounded}from"./CloseRounded-E52heGVS.js";function _mergeNamespaces(A,$){for(var H=0;H<$.length;H++){const O=$[H];if(typeof O!="string"&&!Array.isArray(O)){for(const R in O)if(R!=="default"&&!(R in A)){const B=Object.getOwnPropertyDescriptor(O,R);B&&Object.defineProperty(A,R,B.get?B:{enumerable:!0,get:()=>O[R]})}}}return Object.freeze(Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}))}var lib$h={exports:{}},core_min={};function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,H){module.exports=$.pdfjsLib=H()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,$)=>{var un;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=rt,$.bytesToString=Re,$.createValidAbsoluteUrl=ft,$.getModificationDate=Pt,$.getUuid=an,$.getVerbosityLevel=$e,$.info=Ve,$.isArrayBuffer=lt,$.isArrayEqual=Ct,$.isNodeJS=void 0,$.normalizeUnicode=en,$.objectFromMap=ct,$.objectSize=nt,$.setVerbosityLevel=be,$.shadow=St,$.string32=qe,$.stringToBytes=Ke,$.stringToPDFString=st,$.stringToUTF8String=Ue,$.unreachable=Fe,$.utf8StringToString=Ge,$.warn=et;const H=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=H;const O=[1,0,0,1,0,0];$.IDENTITY_MATRIX=O;const R=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=R;const B=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=B;const Y=1.35;$.LINE_FACTOR=Y;const ve=.35;$.LINE_DESCENT_FACTOR=ve;const fe=ve/Y;$.BASELINE_FACTOR=fe;const de={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=de;const K={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=K;const Ee="pdfjs_internal_editor_";$.AnnotationEditorPrefix=Ee;const le={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=le;const ne={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=ne;const re={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=re;const Q={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Q;const q={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=q;const oe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=oe;const se={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=se;const ue={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=ue;const pe={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=pe;const ee={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=ee;const ae={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=ae;const Ae={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=Ae;const ge={O:"PageOpen",C:"PageClose"};$.PageActionEventType=ge;const te={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=te;const _e={NONE:0,BINARY:1};$.CMapCompressionType=_e;const he={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=he;const Pe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=Pe;let De=te.WARNINGS;function be(ut){Number.isInteger(ut)&&(De=ut)}function $e(){return De}function Ve(ut){De>=te.INFOS&&console.log(`Info: ${ut}`)}function et(ut){De>=te.WARNINGS&&console.log(`Warning: ${ut}`)}function Fe(ut){throw new Error(ut)}function rt(ut,We){ut||Fe(We)}function ot(ut){switch(ut==null?void 0:ut.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ft(ut,We=null,Ne=null){if(!ut)return null;try{if(Ne&&typeof ut=="string"){if(Ne.addDefaultProtocol&&ut.startsWith("www.")){const ht=ut.match(/\./g);(ht==null?void 0:ht.length)>=2&&(ut=`http://${ut}`)}if(Ne.tryConvertEncoding)try{ut=Ue(ut)}catch{}}const wt=We?new URL(ut,We):new URL(ut);if(ot(wt))return wt}catch{}return null}function St(ut,We,Ne,wt=!1){return Object.defineProperty(ut,We,{value:Ne,enumerable:!wt,configurable:!0,writable:!1}),Ne}const we=function(){function We(Ne,wt){this.constructor===We&&Fe("Cannot initialize BaseException."),this.message=Ne,this.name=wt}return We.prototype=new Error,We.constructor=We,We}();$.BaseException=we;class W extends we{constructor(We,Ne){super(We,"PasswordException"),this.code=Ne}}$.PasswordException=W;class J extends we{constructor(We,Ne){super(We,"UnknownErrorException"),this.details=Ne}}$.UnknownErrorException=J;class G extends we{constructor(We){super(We,"InvalidPDFException")}}$.InvalidPDFException=G;class ie extends we{constructor(We){super(We,"MissingPDFException")}}$.MissingPDFException=ie;class ce extends we{constructor(We,Ne){super(We,"UnexpectedResponseException"),this.status=Ne}}$.UnexpectedResponseException=ce;class ye extends we{constructor(We){super(We,"FormatError")}}$.FormatError=ye;class Ce extends we{constructor(We){super(We,"AbortException")}}$.AbortException=Ce;function Re(ut){(typeof ut!="object"||(ut==null?void 0:ut.length)===void 0)&&Fe("Invalid argument for bytesToString");const We=ut.length,Ne=8192;if(We<Ne)return String.fromCharCode.apply(null,ut);const wt=[];for(let ht=0;ht<We;ht+=Ne){const vn=Math.min(ht+Ne,We),kn=ut.subarray(ht,vn);wt.push(String.fromCharCode.apply(null,kn))}return wt.join("")}function Ke(ut){typeof ut!="string"&&Fe("Invalid argument for stringToBytes");const We=ut.length,Ne=new Uint8Array(We);for(let wt=0;wt<We;++wt)Ne[wt]=ut.charCodeAt(wt)&255;return Ne}function qe(ut){return String.fromCharCode(ut>>24&255,ut>>16&255,ut>>8&255,ut&255)}function nt(ut){return Object.keys(ut).length}function ct(ut){const We=Object.create(null);for(const[Ne,wt]of ut)We[Ne]=wt;return We}function bt(){const ut=new Uint8Array(4);return ut[0]=1,new Uint32Array(ut.buffer,0,1)[0]===1}function dt(){try{return new Function(""),!0}catch{return!1}}class pt{static get isLittleEndian(){return St(this,"isLittleEndian",bt())}static get isEvalSupported(){return St(this,"isEvalSupported",dt())}static get isOffscreenCanvasSupported(){return St(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?St(this,"platform",{isWin:!1,isMac:!1}):St(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var We,Ne;return St(this,"isCSSRoundSupported",(Ne=(We=globalThis.CSS)==null?void 0:We.supports)==null?void 0:Ne.call(We,"width: round(1.5px, 1px)"))}}$.FeatureTest=pt;const vt=[...Array(256).keys()].map(ut=>ut.toString(16).padStart(2,"0"));class mt{static makeHexColor(We,Ne,wt){return`#${vt[We]}${vt[Ne]}${vt[wt]}`}static scaleMinMax(We,Ne){let wt;We[0]?(We[0]<0&&(wt=Ne[0],Ne[0]=Ne[1],Ne[1]=wt),Ne[0]*=We[0],Ne[1]*=We[0],We[3]<0&&(wt=Ne[2],Ne[2]=Ne[3],Ne[3]=wt),Ne[2]*=We[3],Ne[3]*=We[3]):(wt=Ne[0],Ne[0]=Ne[2],Ne[2]=wt,wt=Ne[1],Ne[1]=Ne[3],Ne[3]=wt,We[1]<0&&(wt=Ne[2],Ne[2]=Ne[3],Ne[3]=wt),Ne[2]*=We[1],Ne[3]*=We[1],We[2]<0&&(wt=Ne[0],Ne[0]=Ne[1],Ne[1]=wt),Ne[0]*=We[2],Ne[1]*=We[2]),Ne[0]+=We[4],Ne[1]+=We[4],Ne[2]+=We[5],Ne[3]+=We[5]}static transform(We,Ne){return[We[0]*Ne[0]+We[2]*Ne[1],We[1]*Ne[0]+We[3]*Ne[1],We[0]*Ne[2]+We[2]*Ne[3],We[1]*Ne[2]+We[3]*Ne[3],We[0]*Ne[4]+We[2]*Ne[5]+We[4],We[1]*Ne[4]+We[3]*Ne[5]+We[5]]}static applyTransform(We,Ne){const wt=We[0]*Ne[0]+We[1]*Ne[2]+Ne[4],ht=We[0]*Ne[1]+We[1]*Ne[3]+Ne[5];return[wt,ht]}static applyInverseTransform(We,Ne){const wt=Ne[0]*Ne[3]-Ne[1]*Ne[2],ht=(We[0]*Ne[3]-We[1]*Ne[2]+Ne[2]*Ne[5]-Ne[4]*Ne[3])/wt,vn=(-We[0]*Ne[1]+We[1]*Ne[0]+Ne[4]*Ne[1]-Ne[5]*Ne[0])/wt;return[ht,vn]}static getAxialAlignedBoundingBox(We,Ne){const wt=this.applyTransform(We,Ne),ht=this.applyTransform(We.slice(2,4),Ne),vn=this.applyTransform([We[0],We[3]],Ne),kn=this.applyTransform([We[2],We[1]],Ne);return[Math.min(wt[0],ht[0],vn[0],kn[0]),Math.min(wt[1],ht[1],vn[1],kn[1]),Math.max(wt[0],ht[0],vn[0],kn[0]),Math.max(wt[1],ht[1],vn[1],kn[1])]}static inverseTransform(We){const Ne=We[0]*We[3]-We[1]*We[2];return[We[3]/Ne,-We[1]/Ne,-We[2]/Ne,We[0]/Ne,(We[2]*We[5]-We[4]*We[3])/Ne,(We[4]*We[1]-We[5]*We[0])/Ne]}static singularValueDecompose2dScale(We){const Ne=[We[0],We[2],We[1],We[3]],wt=We[0]*Ne[0]+We[1]*Ne[2],ht=We[0]*Ne[1]+We[1]*Ne[3],vn=We[2]*Ne[0]+We[3]*Ne[2],kn=We[2]*Ne[1]+We[3]*Ne[3],Ze=(wt+kn)/2,kt=Math.sqrt((wt+kn)**2-4*(wt*kn-vn*ht))/2,Bt=Ze+kt||1,$t=Ze-kt||1;return[Math.sqrt(Bt),Math.sqrt($t)]}static normalizeRect(We){const Ne=We.slice(0);return We[0]>We[2]&&(Ne[0]=We[2],Ne[2]=We[0]),We[1]>We[3]&&(Ne[1]=We[3],Ne[3]=We[1]),Ne}static intersect(We,Ne){const wt=Math.max(Math.min(We[0],We[2]),Math.min(Ne[0],Ne[2])),ht=Math.min(Math.max(We[0],We[2]),Math.max(Ne[0],Ne[2]));if(wt>ht)return null;const vn=Math.max(Math.min(We[1],We[3]),Math.min(Ne[1],Ne[3])),kn=Math.min(Math.max(We[1],We[3]),Math.max(Ne[1],Ne[3]));return vn>kn?null:[wt,vn,ht,kn]}static bezierBoundingBox(We,Ne,wt,ht,vn,kn,Ze,kt){const Bt=[],$t=[[],[]];let jt,Ht,yn,At,pn,Nt,xe,U;for(let Xe=0;Xe<2;++Xe){if(Xe===0?(Ht=6*We-12*wt+6*vn,jt=-3*We+9*wt-9*vn+3*Ze,yn=3*wt-3*We):(Ht=6*Ne-12*ht+6*kn,jt=-3*Ne+9*ht-9*kn+3*kt,yn=3*ht-3*Ne),Math.abs(jt)<1e-12){if(Math.abs(Ht)<1e-12)continue;At=-yn/Ht,0<At&&At<1&&Bt.push(At);continue}xe=Ht*Ht-4*yn*jt,U=Math.sqrt(xe),!(xe<0)&&(pn=(-Ht+U)/(2*jt),0<pn&&pn<1&&Bt.push(pn),Nt=(-Ht-U)/(2*jt),0<Nt&&Nt<1&&Bt.push(Nt))}let Se=Bt.length,Me;const Be=Se;for(;Se--;)At=Bt[Se],Me=1-At,$t[0][Se]=Me*Me*Me*We+3*Me*Me*At*wt+3*Me*At*At*vn+At*At*At*Ze,$t[1][Se]=Me*Me*Me*Ne+3*Me*Me*At*ht+3*Me*At*At*kn+At*At*At*kt;return $t[0][Be]=We,$t[1][Be]=Ne,$t[0][Be+1]=Ze,$t[1][Be+1]=kt,$t[0].length=$t[1].length=Be+2,[Math.min(...$t[0]),Math.min(...$t[1]),Math.max(...$t[0]),Math.max(...$t[1])]}}$.Util=mt;const Lt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function st(ut){if(ut[0]>="ï"){let Ne;if(ut[0]==="þ"&&ut[1]==="ÿ"?Ne="utf-16be":ut[0]==="ÿ"&&ut[1]==="þ"?Ne="utf-16le":ut[0]==="ï"&&ut[1]==="»"&&ut[2]==="¿"&&(Ne="utf-8"),Ne)try{const wt=new TextDecoder(Ne,{fatal:!0}),ht=Ke(ut);return wt.decode(ht)}catch(wt){et(`stringToPDFString: "${wt}".`)}}const We=[];for(let Ne=0,wt=ut.length;Ne<wt;Ne++){const ht=Lt[ut.charCodeAt(Ne)];We.push(ht?String.fromCharCode(ht):ut.charAt(Ne))}return We.join("")}function Ue(ut){return decodeURIComponent(escape(ut))}function Ge(ut){return unescape(encodeURIComponent(ut))}function lt(ut){return typeof ut=="object"&&(ut==null?void 0:ut.byteLength)!==void 0}function Ct(ut,We){if(ut.length!==We.length)return!1;for(let Ne=0,wt=ut.length;Ne<wt;Ne++)if(ut[Ne]!==We[Ne])return!1;return!0}function Pt(ut=new Date){return[ut.getUTCFullYear().toString(),(ut.getUTCMonth()+1).toString().padStart(2,"0"),ut.getUTCDate().toString().padStart(2,"0"),ut.getUTCHours().toString().padStart(2,"0"),ut.getUTCMinutes().toString().padStart(2,"0"),ut.getUTCSeconds().toString().padStart(2,"0")].join("")}class Vt{constructor(){Te(this,un,!1);this.promise=new Promise((We,Ne)=>{this.resolve=wt=>{it(this,un,!0),We(wt)},this.reject=wt=>{it(this,un,!0),Ne(wt)}})}get settled(){return V(this,un)}}un=new WeakMap,$.PromiseCapability=Vt;let Jt=null,Xt=null;function en(ut){return Jt||(Jt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Xt=new Map([["ﬅ","ſt"]])),ut.replaceAll(Jt,(We,Ne,wt)=>Ne?Ne.normalize("NFKC"):Xt.get(wt))}function an(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const ut=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(ut);else for(let We=0;We<32;We++)ut[We]=Math.floor(Math.random()*255);return Re(ut)}const Wt="pdfjs_internal_id_";$.AnnotationPrefix=Wt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,H,O,R,Ar,Y,Gr,fe,de,K,Ee,le,ne,re,Q,q,qr,se,ue,_i,ee,ae;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ge){if(typeof ge=="string"||ge instanceof URL?ge={url:ge}:(0,_util.isArrayBuffer)(ge)&&(ge={data:ge}),typeof ge!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ge.url&&!ge.data&&!ge.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const te=new PDFDocumentLoadingTask,{docId:_e}=te,he=ge.url?getUrlProp(ge.url):null,Pe=ge.data?getDataProp(ge.data):null,De=ge.httpHeaders||null,be=ge.withCredentials===!0,$e=ge.password??null,Ve=ge.range instanceof PDFDataRangeTransport?ge.range:null,et=Number.isInteger(ge.rangeChunkSize)&&ge.rangeChunkSize>0?ge.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Fe=ge.worker instanceof PDFWorker?ge.worker:null;const rt=ge.verbosity,ot=typeof ge.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ge.docBaseUrl)?ge.docBaseUrl:null,ft=typeof ge.cMapUrl=="string"?ge.cMapUrl:null,St=ge.cMapPacked!==!1,we=ge.CMapReaderFactory||DefaultCMapReaderFactory,W=typeof ge.standardFontDataUrl=="string"?ge.standardFontDataUrl:null,J=ge.StandardFontDataFactory||DefaultStandardFontDataFactory,G=ge.stopAtErrors!==!0,ie=Number.isInteger(ge.maxImageSize)&&ge.maxImageSize>-1?ge.maxImageSize:-1,ce=ge.isEvalSupported!==!1,ye=typeof ge.isOffscreenCanvasSupported=="boolean"?ge.isOffscreenCanvasSupported:!_util.isNodeJS,Ce=Number.isInteger(ge.canvasMaxAreaInBytes)?ge.canvasMaxAreaInBytes:-1,Re=typeof ge.disableFontFace=="boolean"?ge.disableFontFace:_util.isNodeJS,Ke=ge.fontExtraProperties===!0,qe=ge.enableXfa===!0,nt=ge.ownerDocument||globalThis.document,ct=ge.disableRange===!0,bt=ge.disableStream===!0,dt=ge.disableAutoFetch===!0,pt=ge.pdfBug===!0,vt=Ve?Ve.length:ge.length??NaN,mt=typeof ge.useSystemFonts=="boolean"?ge.useSystemFonts:!_util.isNodeJS&&!Re,Lt=typeof ge.useWorkerFetch=="boolean"?ge.useWorkerFetch:we===_display_utils.DOMCMapReaderFactory&&J===_display_utils.DOMStandardFontDataFactory&&ft&&W&&(0,_display_utils.isValidFetchUrl)(ft,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(W,document.baseURI),st=ge.canvasFactory||new DefaultCanvasFactory({ownerDocument:nt}),Ue=ge.filterFactory||new DefaultFilterFactory({docId:_e,ownerDocument:nt}),Ge=null;(0,_util.setVerbosityLevel)(rt);const lt={canvasFactory:st,filterFactory:Ue};if(Lt||(lt.cMapReaderFactory=new we({baseUrl:ft,isCompressed:St}),lt.standardFontDataFactory=new J({baseUrl:W})),!Fe){const Vt={verbosity:rt,port:_worker_options.GlobalWorkerOptions.workerPort};Fe=Vt.port?PDFWorker.fromPort(Vt):new PDFWorker(Vt),te._worker=Fe}const Ct={docId:_e,apiVersion:"3.11.174",data:Pe,password:$e,disableAutoFetch:dt,rangeChunkSize:et,length:vt,docBaseUrl:ot,enableXfa:qe,evaluatorOptions:{maxImageSize:ie,disableFontFace:Re,ignoreErrors:G,isEvalSupported:ce,isOffscreenCanvasSupported:ye,canvasMaxAreaInBytes:Ce,fontExtraProperties:Ke,useSystemFonts:mt,cMapUrl:Lt?ft:null,standardFontDataUrl:Lt?W:null}},Pt={ignoreErrors:G,isEvalSupported:ce,disableFontFace:Re,fontExtraProperties:Ke,enableXfa:qe,ownerDocument:nt,disableAutoFetch:dt,pdfBug:pt,styleElement:Ge};return Fe.promise.then(function(){if(te.destroyed)throw new Error("Loading aborted");const Vt=_fetchDocument(Fe,Ct),Jt=new Promise(function(Xt){let en;Ve?en=new _transport_stream.PDFDataTransportStream({length:vt,initialData:Ve.initialData,progressiveDone:Ve.progressiveDone,contentDispositionFilename:Ve.contentDispositionFilename,disableRange:ct,disableStream:bt},Ve):Pe||(en=(Wt=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Wt):(0,_display_utils.isValidFetchUrl)(Wt.url)?new _displayFetch_stream.PDFFetchStream(Wt):new _displayNetwork.PDFNetworkStream(Wt))({url:he,length:vt,httpHeaders:De,withCredentials:be,rangeChunkSize:et,disableRange:ct,disableStream:bt})),Xt(en)});return Promise.all([Vt,Jt]).then(function([Xt,en]){if(te.destroyed)throw new Error("Loading aborted");const an=new _message_handler.MessageHandler(_e,Xt,Fe.port),Wt=new WorkerTransport(an,te,en,Pt,lt);te._transport=Wt,an.send("Ready",null)})}).catch(te._capability.reject),te}async function _fetchDocument(ge,te){if(ge.destroyed)throw new Error("Worker was destroyed");const _e=await ge.messageHandler.sendWithPromise("GetDocRequest",te,te.data?[te.data.buffer]:null);if(ge.destroyed)throw new Error("Worker was destroyed");return _e}function getUrlProp(ge){if(ge instanceof URL)return ge.href;try{return new URL(ge,window.location).href}catch{if(_util.isNodeJS&&typeof ge=="string")return ge}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ge){if(_util.isNodeJS&&typeof Buffer<"u"&&ge instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ge instanceof Uint8Array&&ge.byteLength===ge.buffer.byteLength)return ge;if(typeof ge=="string")return(0,_util.stringToBytes)(ge);if(typeof ge=="object"&&!isNaN(ge==null?void 0:ge.length)||(0,_util.isArrayBuffer)(ge))return new Uint8Array(ge);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Tr($,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var te,_e,he;this.destroyed=!0;try{(te=this._worker)!=null&&te.port&&(this._worker._pendingDestroy=!0),await((_e=this._transport)==null?void 0:_e.destroy())}catch(Pe){throw(he=this._worker)!=null&&he.port&&delete this._worker._pendingDestroy,Pe}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,Te($,A,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(te,_e,he=!1,Pe=null){this.length=te,this.initialData=_e,this.progressiveDone=he,this.contentDispositionFilename=Pe,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(te){this._rangeListeners.push(te)}addProgressListener(te){this._progressListeners.push(te)}addProgressiveReadListener(te){this._progressiveReadListeners.push(te)}addProgressiveDoneListener(te){this._progressiveDoneListeners.push(te)}onDataRange(te,_e){for(const he of this._rangeListeners)he(te,_e)}onDataProgress(te,_e){this._readyCapability.promise.then(()=>{for(const he of this._progressListeners)he(te,_e)})}onDataProgressiveRead(te){this._readyCapability.promise.then(()=>{for(const _e of this._progressiveReadListeners)_e(te)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const te of this._progressiveDoneListeners)te()})}transportReady(){this._readyCapability.resolve()}requestDataRange(te,_e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(te,_e){this._pdfInfo=te,this._transport=_e,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(he=>{if(!he)return he;const Pe=[];for(const De in he)Pe.push(...he[De]);return Pe}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(te){return this._transport.getPage(te)}getPageIndex(te){return this._transport.getPageIndex(te)}getDestinations(){return this._transport.getDestinations()}getDestination(te){return this._transport.getDestination(te)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(te=!1){return this._transport.startCleanup(te||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(te,_e,he,Pe=!1){Te(this,R);Te(this,Y);Te(this,H,null);Te(this,O,!1);this._pageIndex=te,this._pageInfo=_e,this._transport=he,this._stats=Pe?new _display_utils.StatTimer:null,this._pdfBug=Pe,this.commonObjs=he.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:te,rotation:_e=this.rotate,offsetX:he=0,offsetY:Pe=0,dontFlip:De=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:te,rotation:_e,offsetX:he,offsetY:Pe,dontFlip:De})}getAnnotations({intent:te="display"}={}){const _e=this._transport.getRenderingIntent(te);return this._transport.getAnnotations(this._pageIndex,_e.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var te;return((te=this._transport._htmlForXfa)==null?void 0:te.children[this._pageIndex])||null}render({canvasContext:te,viewport:_e,intent:he="display",annotationMode:Pe=_util.AnnotationMode.ENABLE,transform:De=null,background:be=null,optionalContentConfigPromise:$e=null,annotationCanvasMap:Ve=null,pageColors:et=null,printAnnotationStorage:Fe=null}){var J,G;(J=this._stats)==null||J.time("Overall");const rt=this._transport.getRenderingIntent(he,Pe,Fe);it(this,O,!1),ze(this,Y,Gr).call(this),$e||($e=this._transport.getOptionalContentConfig());let ot=this._intentStates.get(rt.cacheKey);ot||(ot=Object.create(null),this._intentStates.set(rt.cacheKey,ot)),ot.streamReaderCancelTimeout&&(clearTimeout(ot.streamReaderCancelTimeout),ot.streamReaderCancelTimeout=null);const ft=!!(rt.renderingIntent&_util.RenderingIntentFlag.PRINT);ot.displayReadyCapability||(ot.displayReadyCapability=new _util.PromiseCapability,ot.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(G=this._stats)==null||G.time("Page Request"),this._pumpOperatorList(rt));const St=ie=>{var ce,ye;ot.renderTasks.delete(we),(this._maybeCleanupAfterRender||ft)&&it(this,O,!0),ze(this,R,Ar).call(this,!ft),ie?(we.capability.reject(ie),this._abortOperatorList({intentState:ot,reason:ie instanceof Error?ie:new Error(ie)})):we.capability.resolve(),(ce=this._stats)==null||ce.timeEnd("Rendering"),(ye=this._stats)==null||ye.timeEnd("Overall")},we=new InternalRenderTask({callback:St,params:{canvasContext:te,viewport:_e,transform:De,background:be},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ve,operatorList:ot.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ft,pdfBug:this._pdfBug,pageColors:et});(ot.renderTasks||(ot.renderTasks=new Set)).add(we);const W=we.task;return Promise.all([ot.displayReadyCapability.promise,$e]).then(([ie,ce])=>{var ye;if(this.destroyed){St();return}(ye=this._stats)==null||ye.time("Rendering"),we.initializeGraphics({transparency:ie,optionalContentConfig:ce}),we.operatorListChanged()}).catch(St),W}getOperatorList({intent:te="display",annotationMode:_e=_util.AnnotationMode.ENABLE,printAnnotationStorage:he=null}={}){var Ve;function Pe(){be.operatorList.lastChunk&&(be.opListReadCapability.resolve(be.operatorList),be.renderTasks.delete($e))}const De=this._transport.getRenderingIntent(te,_e,he,!0);let be=this._intentStates.get(De.cacheKey);be||(be=Object.create(null),this._intentStates.set(De.cacheKey,be));let $e;return be.opListReadCapability||($e=Object.create(null),$e.operatorListChanged=Pe,be.opListReadCapability=new _util.PromiseCapability,(be.renderTasks||(be.renderTasks=new Set)).add($e),be.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ve=this._stats)==null||Ve.time("Page Request"),this._pumpOperatorList(De)),be.opListReadCapability.promise}streamTextContent({includeMarkedContent:te=!1,disableNormalization:_e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:te===!0,disableNormalization:_e===!0},{highWaterMark:100,size(Pe){return Pe.items.length}})}getTextContent(te={}){if(this._transport._htmlForXfa)return this.getXfa().then(he=>_xfa_text.XfaText.textContent(he));const _e=this.streamTextContent(te);return new Promise(function(he,Pe){function De(){be.read().then(function({value:Ve,done:et}){if(et){he($e);return}Object.assign($e.styles,Ve.styles),$e.items.push(...Ve.items),De()},Pe)}const be=_e.getReader(),$e={items:[],styles:Object.create(null)};De()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const te=[];for(const _e of this._intentStates.values())if(this._abortOperatorList({intentState:_e,reason:new Error("Page was destroyed."),force:!0}),!_e.opListReadCapability)for(const he of _e.renderTasks)te.push(he.completed),he.cancel();return this.objs.clear(),it(this,O,!1),ze(this,Y,Gr).call(this),Promise.all(te)}cleanup(te=!1){it(this,O,!0);const _e=ze(this,R,Ar).call(this,!1);return te&&_e&&this._stats&&(this._stats=new _display_utils.StatTimer),_e}_startRenderPage(te,_e){var Pe,De;const he=this._intentStates.get(_e);he&&((Pe=this._stats)==null||Pe.timeEnd("Page Request"),(De=he.displayReadyCapability)==null||De.resolve(te))}_renderPageChunk(te,_e){for(let he=0,Pe=te.length;he<Pe;he++)_e.operatorList.fnArray.push(te.fnArray[he]),_e.operatorList.argsArray.push(te.argsArray[he]);_e.operatorList.lastChunk=te.lastChunk,_e.operatorList.separateAnnots=te.separateAnnots;for(const he of _e.renderTasks)he.operatorListChanged();te.lastChunk&&ze(this,R,Ar).call(this,!0)}_pumpOperatorList({renderingIntent:te,cacheKey:_e,annotationStorageSerializable:he}){const{map:Pe,transfers:De}=he,$e=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:te,cacheKey:_e,annotationStorage:Pe},De).getReader(),Ve=this._intentStates.get(_e);Ve.streamReader=$e;const et=()=>{$e.read().then(({value:Fe,done:rt})=>{if(rt){Ve.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Fe,Ve),et())},Fe=>{if(Ve.streamReader=null,!this._transport.destroyed){if(Ve.operatorList){Ve.operatorList.lastChunk=!0;for(const rt of Ve.renderTasks)rt.operatorListChanged();ze(this,R,Ar).call(this,!0)}if(Ve.displayReadyCapability)Ve.displayReadyCapability.reject(Fe);else if(Ve.opListReadCapability)Ve.opListReadCapability.reject(Fe);else throw Fe}})};et()}_abortOperatorList({intentState:te,reason:_e,force:he=!1}){if(te.streamReader){if(te.streamReaderCancelTimeout&&(clearTimeout(te.streamReaderCancelTimeout),te.streamReaderCancelTimeout=null),!he){if(te.renderTasks.size>0)return;if(_e instanceof _display_utils.RenderingCancelledException){let Pe=RENDERING_CANCELLED_TIMEOUT;_e.extraDelay>0&&_e.extraDelay<1e3&&(Pe+=_e.extraDelay),te.streamReaderCancelTimeout=setTimeout(()=>{te.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:te,reason:_e,force:!0})},Pe);return}}if(te.streamReader.cancel(new _util.AbortException(_e.message)).catch(()=>{}),te.streamReader=null,!this._transport.destroyed){for(const[Pe,De]of this._intentStates)if(De===te){this._intentStates.delete(Pe);break}this.cleanup()}}}get stats(){return this._stats}}H=new WeakMap,O=new WeakMap,R=new WeakSet,Ar=function(te=!1){if(ze(this,Y,Gr).call(this),!V(this,O)||this.destroyed)return!1;if(te)return it(this,H,setTimeout(()=>{it(this,H,null),ze(this,R,Ar).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:_e,operatorList:he}of this._intentStates.values())if(_e.size>0||!he.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),it(this,O,!1),!0},Y=new WeakSet,Gr=function(){V(this,H)&&(clearTimeout(V(this,H)),it(this,H,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Te(this,fe,new Set);Te(this,de,Promise.resolve())}postMessage(te,_e){const he={data:structuredClone(te,_e?{transfer:_e}:null)};V(this,de).then(()=>{for(const Pe of V(this,fe))Pe.call(this,he)})}addEventListener(te,_e){V(this,fe).add(_e)}removeEventListener(te,_e){V(this,fe).delete(_e)}terminate(){V(this,fe).clear()}}fe=new WeakMap,de=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ge=(K=document==null?void 0:document.currentScript)==null?void 0:K.src;ge&&(PDFWorkerUtil.fallbackWorkerSrc=ge.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ge,te){let _e;try{if(_e=new URL(ge),!_e.origin||_e.origin==="null")return!1}catch{return!1}const he=new URL(te,_e);return _e.origin===he.origin},PDFWorkerUtil.createCDNWrapper=function(ge){const te=`importScripts("${ge}");`;return URL.createObjectURL(new Blob([te]))}}const _PDFWorker=class _PDFWorker{constructor({name:ge=null,port:te=null,verbosity:_e=(0,_util.getVerbosityLevel)()}={}){var he;if(this.name=ge,this.destroyed=!1,this.verbosity=_e,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,te){if((he=V(_PDFWorker,Ee))!=null&&he.has(te))throw new Error("Cannot use more than one PDFWorker per port.");(V(_PDFWorker,Ee)||it(_PDFWorker,Ee,new WeakMap)).set(te,this),this._initializeFromPort(te);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ge){this._port=ge,this._messageHandler=new _message_handler.MessageHandler("main","worker",ge),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ge}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ge)||(ge=PDFWorkerUtil.createCDNWrapper(new URL(ge,window.location).href));const te=new Worker(ge),_e=new _message_handler.MessageHandler("main","worker",te),he=()=>{te.removeEventListener("error",Pe),_e.destroy(),te.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Pe=()=>{this._webWorker||he()};te.addEventListener("error",Pe),_e.on("test",be=>{if(te.removeEventListener("error",Pe),this.destroyed){he();return}be?(this._messageHandler=_e,this._port=te,this._webWorker=te,this._readyCapability.resolve(),_e.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),_e.destroy(),te.terminate())}),_e.on("ready",be=>{if(te.removeEventListener("error",Pe),this.destroyed){he();return}try{De()}catch{this._setupFakeWorker()}});const De=()=>{const be=new Uint8Array;_e.send("test",be,[be.buffer])};De();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ge=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const te=new LoopbackPort;this._port=te;const _e=`fake${PDFWorkerUtil.fakeWorkerId++}`,he=new _message_handler.MessageHandler(_e+"_worker",_e,te);ge.setup(he,te);const Pe=new _message_handler.MessageHandler(_e,_e+"_worker",te);this._messageHandler=Pe,this._readyCapability.resolve(),Pe.send("configure",{verbosity:this.verbosity})}).catch(ge=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ge.message}".`))})}destroy(){var ge;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ge=V(_PDFWorker,Ee))==null||ge.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ge){var _e;if(!(ge!=null&&ge.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const te=(_e=V(this,Ee))==null?void 0:_e.get(ge.port);if(te){if(te._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return te}return new _PDFWorker(ge)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ge;try{return((ge=globalThis.pdfjsWorker)==null?void 0:ge.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};Ee=new WeakMap,Te(_PDFWorker,Ee,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(te,_e,he,Pe,De){Te(this,q);Te(this,le,new Map);Te(this,ne,new Map);Te(this,re,new Map);Te(this,Q,null);this.messageHandler=te,this.loadingTask=_e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Pe.ownerDocument,styleElement:Pe.styleElement}),this._params=Pe,this.canvasFactory=De.canvasFactory,this.filterFactory=De.filterFactory,this.cMapReaderFactory=De.cMapReaderFactory,this.standardFontDataFactory=De.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=he,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(te,_e=_util.AnnotationMode.ENABLE,he=null,Pe=!1){let De=_util.RenderingIntentFlag.DISPLAY,be=_annotation_storage.SerializableEmpty;switch(te){case"any":De=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":De=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${te}`)}switch(_e){case _util.AnnotationMode.DISABLE:De+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:De+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:De+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,be=(De&_util.RenderingIntentFlag.PRINT&&he instanceof _annotation_storage.PrintAnnotationStorage?he:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${_e}`)}return Pe&&(De+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:De,cacheKey:`${De}_${be.hash}`,annotationStorageSerializable:be}}destroy(){var he;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(he=V(this,Q))==null||he.reject(new Error("Worker was destroyed during onPassword callback"));const te=[];for(const Pe of V(this,ne).values())te.push(Pe._destroy());V(this,ne).clear(),V(this,re).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _e=this.messageHandler.sendWithPromise("Terminate",null);return te.push(_e),Promise.all(te).then(()=>{var Pe;this.commonObjs.clear(),this.fontLoader.clear(),V(this,le).clear(),this.filterFactory.destroy(),(Pe=this._networkStream)==null||Pe.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:te,loadingTask:_e}=this;te.on("GetReader",(he,Pe)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=De=>{this._lastProgress={loaded:De.loaded,total:De.total}},Pe.onPull=()=>{this._fullReader.read().then(function({value:De,done:be}){if(be){Pe.close();return}(0,_util.assert)(De instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Pe.enqueue(new Uint8Array(De),1,[De])}).catch(De=>{Pe.error(De)})},Pe.onCancel=De=>{this._fullReader.cancel(De),Pe.ready.catch(be=>{if(!this.destroyed)throw be})}}),te.on("ReaderHeadersReady",he=>{const Pe=new _util.PromiseCapability,De=this._fullReader;return De.headersReady.then(()=>{var be;(!De.isStreamingSupported||!De.isRangeSupported)&&(this._lastProgress&&((be=_e.onProgress)==null||be.call(_e,this._lastProgress)),De.onProgress=$e=>{var Ve;(Ve=_e.onProgress)==null||Ve.call(_e,{loaded:$e.loaded,total:$e.total})}),Pe.resolve({isStreamingSupported:De.isStreamingSupported,isRangeSupported:De.isRangeSupported,contentLength:De.contentLength})},Pe.reject),Pe.promise}),te.on("GetRangeReader",(he,Pe)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const De=this._networkStream.getRangeReader(he.begin,he.end);if(!De){Pe.close();return}Pe.onPull=()=>{De.read().then(function({value:be,done:$e}){if($e){Pe.close();return}(0,_util.assert)(be instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Pe.enqueue(new Uint8Array(be),1,[be])}).catch(be=>{Pe.error(be)})},Pe.onCancel=be=>{De.cancel(be),Pe.ready.catch($e=>{if(!this.destroyed)throw $e})}}),te.on("GetDoc",({pdfInfo:he})=>{this._numPages=he.numPages,this._htmlForXfa=he.htmlForXfa,delete he.htmlForXfa,_e._capability.resolve(new PDFDocumentProxy(he,this))}),te.on("DocException",function(he){let Pe;switch(he.name){case"PasswordException":Pe=new _util.PasswordException(he.message,he.code);break;case"InvalidPDFException":Pe=new _util.InvalidPDFException(he.message);break;case"MissingPDFException":Pe=new _util.MissingPDFException(he.message);break;case"UnexpectedResponseException":Pe=new _util.UnexpectedResponseException(he.message,he.status);break;case"UnknownErrorException":Pe=new _util.UnknownErrorException(he.message,he.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}_e._capability.reject(Pe)}),te.on("PasswordRequest",he=>{if(it(this,Q,new _util.PromiseCapability),_e.onPassword){const Pe=De=>{De instanceof Error?V(this,Q).reject(De):V(this,Q).resolve({password:De})};try{_e.onPassword(Pe,he.code)}catch(De){V(this,Q).reject(De)}}else V(this,Q).reject(new _util.PasswordException(he.message,he.code));return V(this,Q).promise}),te.on("DataLoaded",he=>{var Pe;(Pe=_e.onProgress)==null||Pe.call(_e,{loaded:he.length,total:he.length}),this.downloadInfoCapability.resolve(he)}),te.on("StartRenderPage",he=>{if(this.destroyed)return;V(this,ne).get(he.pageIndex)._startRenderPage(he.transparency,he.cacheKey)}),te.on("commonobj",([he,Pe,De])=>{var be;if(!this.destroyed&&!this.commonObjs.has(he))switch(Pe){case"Font":const $e=this._params;if("error"in De){const Fe=De.error;(0,_util.warn)(`Error during font loading: ${Fe}`),this.commonObjs.resolve(he,Fe);break}const Ve=$e.pdfBug&&((be=globalThis.FontInspector)!=null&&be.enabled)?(Fe,rt)=>globalThis.FontInspector.fontAdded(Fe,rt):null,et=new _font_loader.FontFaceObject(De,{isEvalSupported:$e.isEvalSupported,disableFontFace:$e.disableFontFace,ignoreErrors:$e.ignoreErrors,inspectFont:Ve});this.fontLoader.bind(et).catch(Fe=>te.sendWithPromise("FontFallback",{id:he})).finally(()=>{!$e.fontExtraProperties&&et.data&&(et.data=null),this.commonObjs.resolve(he,et)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(he,De);break;default:throw new Error(`Got unknown common object type ${Pe}`)}}),te.on("obj",([he,Pe,De,be])=>{var Ve;if(this.destroyed)return;const $e=V(this,ne).get(Pe);if(!$e.objs.has(he))switch(De){case"Image":if($e.objs.resolve(he,be),be){let et;if(be.bitmap){const{width:Fe,height:rt}=be;et=Fe*rt*4}else et=((Ve=be.data)==null?void 0:Ve.length)||0;et>_util.MAX_IMAGE_SIZE_TO_CACHE&&($e._maybeCleanupAfterRender=!0)}break;case"Pattern":$e.objs.resolve(he,be);break;default:throw new Error(`Got unknown object type ${De}`)}}),te.on("DocProgress",he=>{var Pe;this.destroyed||(Pe=_e.onProgress)==null||Pe.call(_e,{loaded:he.loaded,total:he.total})}),te.on("FetchBuiltInCMap",he=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(he):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),te.on("FetchStandardFontData",he=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(he):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var he;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:te,transfers:_e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:te,filename:((he=this._fullReader)==null?void 0:he.filename)??null},_e).finally(()=>{this.annotationStorage.resetModified()})}getPage(te){if(!Number.isInteger(te)||te<=0||te>this._numPages)return Promise.reject(new Error("Invalid page request."));const _e=te-1,he=V(this,re).get(_e);if(he)return he;const Pe=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_e}).then(De=>{if(this.destroyed)throw new Error("Transport destroyed");const be=new PDFPageProxy(_e,De,this,this._params.pdfBug);return V(this,ne).set(_e,be),be});return V(this,re).set(_e,Pe),Pe}getPageIndex(te){return typeof te!="object"||te===null||!Number.isInteger(te.num)||te.num<0||!Number.isInteger(te.gen)||te.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:te.num,gen:te.gen})}getAnnotations(te,_e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:te,intent:_e})}getFieldObjects(){return ze(this,q,qr).call(this,"GetFieldObjects")}hasJSActions(){return ze(this,q,qr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(te){return typeof te!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:te})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ze(this,q,qr).call(this,"GetDocJSActions")}getPageJSActions(te){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:te})}getStructTree(te){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:te})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(te=>new _optional_content_config.OptionalContentConfig(te))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const te="GetMetadata",_e=V(this,le).get(te);if(_e)return _e;const he=this.messageHandler.sendWithPromise(te,null).then(Pe=>{var De,be;return{info:Pe[0],metadata:Pe[1]?new _metadata.Metadata(Pe[1]):null,contentDispositionFilename:((De=this._fullReader)==null?void 0:De.filename)??null,contentLength:((be=this._fullReader)==null?void 0:be.contentLength)??null}});return V(this,le).set(te,he),he}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(te=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const _e of V(this,ne).values())if(!_e.cleanup())throw new Error(`startCleanup: Page ${_e.pageNumber} is currently rendering.`);this.commonObjs.clear(),te||this.fontLoader.clear(),V(this,le).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:te,enableXfa:_e}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:te,enableXfa:_e})}}le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakSet,qr=function(te,_e=null){const he=V(this,le).get(te);if(he)return he;const Pe=this.messageHandler.sendWithPromise(te,_e);return V(this,le).set(te,Pe),Pe};class PDFObjects{constructor(){Te(this,ue);Te(this,se,Object.create(null))}get(te,_e=null){if(_e){const Pe=ze(this,ue,_i).call(this,te);return Pe.capability.promise.then(()=>_e(Pe.data)),null}const he=V(this,se)[te];if(!(he!=null&&he.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${te}.`);return he.data}has(te){const _e=V(this,se)[te];return(_e==null?void 0:_e.capability.settled)||!1}resolve(te,_e=null){const he=ze(this,ue,_i).call(this,te);he.data=_e,he.capability.resolve()}clear(){var te;for(const _e in V(this,se)){const{data:he}=V(this,se)[_e];(te=he==null?void 0:he.bitmap)==null||te.close()}it(this,se,Object.create(null))}}se=new WeakMap,ue=new WeakSet,_i=function(te){var _e;return(_e=V(this,se))[te]||(_e[te]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(te){Te(this,ee,null);it(this,ee,te),this.onContinue=null}get promise(){return V(this,ee).capability.promise}cancel(te=0){V(this,ee).cancel(null,te)}get separateAnnots(){const{separateAnnots:te}=V(this,ee).operatorList;if(!te)return!1;const{annotationCanvasMap:_e}=V(this,ee);return te.form||te.canvas&&(_e==null?void 0:_e.size)>0}}ee=new WeakMap,exports.RenderTask=RenderTask;const Ae=class Ae{constructor({callback:te,params:_e,objs:he,commonObjs:Pe,annotationCanvasMap:De,operatorList:be,pageIndex:$e,canvasFactory:Ve,filterFactory:et,useRequestAnimationFrame:Fe=!1,pdfBug:rt=!1,pageColors:ot=null}){this.callback=te,this.params=_e,this.objs=he,this.commonObjs=Pe,this.annotationCanvasMap=De,this.operatorListIdx=null,this.operatorList=be,this._pageIndex=$e,this.canvasFactory=Ve,this.filterFactory=et,this._pdfBug=rt,this.pageColors=ot,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Fe===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:te=!1,optionalContentConfig:_e}){var $e,Ve;if(this.cancelled)return;if(this._canvas){if(V(Ae,ae).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");V(Ae,ae).add(this._canvas)}this._pdfBug&&(($e=globalThis.StepperManager)!=null&&$e.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:he,viewport:Pe,transform:De,background:be}=this.params;this.gfx=new _canvas.CanvasGraphics(he,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:_e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:De,viewport:Pe,transparency:te,background:be}),this.operatorListIdx=0,this.graphicsReady=!0,(Ve=this.graphicsReadyCallback)==null||Ve.call(this)}cancel(te=null,_e=0){var he;this.running=!1,this.cancelled=!0,(he=this.gfx)==null||he.endDrawing(),V(Ae,ae).delete(this._canvas),this.callback(te||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,_e))}operatorListChanged(){var te;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(te=this.stepper)==null||te.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),V(Ae,ae).delete(this._canvas),this.callback())))}};ae=new WeakMap,Te(Ae,ae,new WeakSet);let InternalRenderTask=Ae;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(A,$,H)=>{var de,K,Ee,va,ne;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var O=H(1),R=H(4),B=H(8);const Y=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=Y;class ve{constructor(){Te(this,Ee);Te(this,de,!1);Te(this,K,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Q,q){const oe=V(this,K).get(Q);return oe===void 0?q:Object.assign(q,oe)}getRawValue(Q){return V(this,K).get(Q)}remove(Q){if(V(this,K).delete(Q),V(this,K).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const q of V(this,K).values())if(q instanceof R.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Q,q){const oe=V(this,K).get(Q);let se=!1;if(oe!==void 0)for(const[ue,pe]of Object.entries(q))oe[ue]!==pe&&(se=!0,oe[ue]=pe);else se=!0,V(this,K).set(Q,q);se&&ze(this,Ee,va).call(this),q instanceof R.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(q.constructor._type)}has(Q){return V(this,K).has(Q)}getAll(){return V(this,K).size>0?(0,O.objectFromMap)(V(this,K)):null}setAll(Q){for(const[q,oe]of Object.entries(Q))this.setValue(q,oe)}get size(){return V(this,K).size}resetModified(){V(this,de)&&(it(this,de,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fe(this)}get serializable(){if(V(this,K).size===0)return Y;const Q=new Map,q=new B.MurmurHash3_64,oe=[],se=Object.create(null);let ue=!1;for(const[pe,ee]of V(this,K)){const ae=ee instanceof R.AnnotationEditor?ee.serialize(!1,se):ee;ae&&(Q.set(pe,ae),q.update(`${pe}:${JSON.stringify(ae)}`),ue||(ue=!!ae.bitmap))}if(ue)for(const pe of Q.values())pe.bitmap&&oe.push(pe.bitmap);return Q.size>0?{map:Q,hash:q.hexdigest(),transfers:oe}:Y}}de=new WeakMap,K=new WeakMap,Ee=new WeakSet,va=function(){V(this,de)||(it(this,de,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=ve;class fe extends ve{constructor(q){super();Te(this,ne,void 0);const{map:oe,hash:se,transfers:ue}=q.serializable,pe=structuredClone(oe,ue?{transfer:ue}:null);it(this,ne,{map:pe,hash:se,transfers:ue})}get print(){(0,O.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return V(this,ne)}}ne=new WeakMap,$.PrintAnnotationStorage=fe},(A,$,H)=>{var fe,de,K,Ee,le,ne,re,Q,q,oe,se,ue,pe,ee,ae,Ei,ge,yi,_e,Si,Pe,wi,be,ba,Ve,_a,Fe,Ea,ot,Ai,St,ya;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var O=H(5),R=H(1),B=H(6);const W=class W{constructor(G){Te(this,ae);Te(this,ge);Te(this,Pe);Te(this,be);Te(this,Ve);Te(this,Fe);Te(this,ot);Te(this,St);Te(this,fe,"");Te(this,de,!1);Te(this,K,null);Te(this,Ee,null);Te(this,le,null);Te(this,ne,!1);Te(this,re,null);Te(this,Q,this.focusin.bind(this));Te(this,q,this.focusout.bind(this));Te(this,oe,!1);Te(this,se,!1);Te(this,ue,!1);On(this,"_initialOptions",Object.create(null));On(this,"_uiManager",null);On(this,"_focusEventsAllowed",!0);On(this,"_l10nPromise",null);Te(this,pe,!1);Te(this,ee,W._zIndex++);this.constructor===W&&(0,R.unreachable)("Cannot initialize AnnotationEditor."),this.parent=G.parent,this.id=G.id,this.width=this.height=null,this.pageIndex=G.parent.pageIndex,this.name=G.name,this.div=null,this._uiManager=G.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=G.isCentered,this._structTreeParentId=null;const{rotation:ie,rawDims:{pageWidth:ce,pageHeight:ye,pageX:Ce,pageY:Re}}=this.parent.viewport;this.rotation=ie,this.pageRotation=(360+ie-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[ce,ye],this.pageTranslation=[Ce,Re];const[Ke,qe]=this.parentDimensions;this.x=G.x/Ke,this.y=G.y/qe,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,R.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(G){const ie=new ve({id:G.parent.getNextId(),parent:G.parent,uiManager:G._uiManager});ie.annotationElementId=G.annotationElementId,ie.deleted=!0,ie._uiManager.addToAnnotationStorage(ie)}static initialize(G,ie=null){if(W._l10nPromise||(W._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(ye=>[ye,G.get(ye)]))),ie!=null&&ie.strings)for(const ye of ie.strings)W._l10nPromise.set(ye,G.get(ye));if(W._borderLineWidth!==-1)return;const ce=getComputedStyle(document.documentElement);W._borderLineWidth=parseFloat(ce.getPropertyValue("--outline-width"))||0}static updateDefaultParams(G,ie){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(G){return!1}static paste(G,ie){(0,R.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return V(this,pe)}set _isDraggable(G){var ie;it(this,pe,G),(ie=this.div)==null||ie.classList.toggle("draggable",G)}center(){const[G,ie]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*ie/(G*2),this.y+=this.width*G/(ie*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*ie/(G*2),this.y-=this.width*G/(ie*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(G){this._uiManager.addCommands(G)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=V(this,ee)}setParent(G){G!==null&&(this.pageIndex=G.pageIndex,this.pageDimensions=G.pageDimensions),this.parent=G}focusin(G){this._focusEventsAllowed&&(V(this,oe)?it(this,oe,!1):this.parent.setSelected(this))}focusout(G){var ce;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ie=G.relatedTarget;ie!=null&&ie.closest(`#${this.id}`)||(G.preventDefault(),(ce=this.parent)!=null&&ce.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(G,ie,ce,ye){const[Ce,Re]=this.parentDimensions;[ce,ye]=this.screenToPageTranslation(ce,ye),this.x=(G+ce)/Ce,this.y=(ie+ye)/Re,this.fixAndSetPosition()}translate(G,ie){ze(this,ae,Ei).call(this,this.parentDimensions,G,ie)}translateInPage(G,ie){ze(this,ae,Ei).call(this,this.pageDimensions,G,ie),this.div.scrollIntoView({block:"nearest"})}drag(G,ie){const[ce,ye]=this.parentDimensions;if(this.x+=G/ce,this.y+=ie/ye,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:nt,y:ct}=this.div.getBoundingClientRect();this.parent.findNewParent(this,nt,ct)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Ce,y:Re}=this;const[Ke,qe]=ze(this,ge,yi).call(this);Ce+=Ke,Re+=qe,this.div.style.left=`${(100*Ce).toFixed(2)}%`,this.div.style.top=`${(100*Re).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[G,ie]=this.pageDimensions;let{x:ce,y:ye,width:Ce,height:Re}=this;switch(Ce*=G,Re*=ie,ce*=G,ye*=ie,this.rotation){case 0:ce=Math.max(0,Math.min(G-Ce,ce)),ye=Math.max(0,Math.min(ie-Re,ye));break;case 90:ce=Math.max(0,Math.min(G-Re,ce)),ye=Math.min(ie,Math.max(Ce,ye));break;case 180:ce=Math.min(G,Math.max(Ce,ce)),ye=Math.min(ie,Math.max(Re,ye));break;case 270:ce=Math.min(G,Math.max(Re,ce)),ye=Math.max(0,Math.min(ie-Ce,ye));break}this.x=ce/=G,this.y=ye/=ie;const[Ke,qe]=ze(this,ge,yi).call(this);ce+=Ke,ye+=qe;const{style:nt}=this.div;nt.left=`${(100*ce).toFixed(2)}%`,nt.top=`${(100*ye).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(G,ie){var ce;return ze(ce=W,_e,Si).call(ce,G,ie,this.parentRotation)}pageTranslationToScreen(G,ie){var ce;return ze(ce=W,_e,Si).call(ce,G,ie,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:G,pageDimensions:[ie,ce]}=this,ye=ie*G,Ce=ce*G;return R.FeatureTest.isCSSRoundSupported?[Math.round(ye),Math.round(Ce)]:[ye,Ce]}setDims(G,ie){var Ce;const[ce,ye]=this.parentDimensions;this.div.style.width=`${(100*G/ce).toFixed(2)}%`,V(this,ne)||(this.div.style.height=`${(100*ie/ye).toFixed(2)}%`),(Ce=V(this,K))==null||Ce.classList.toggle("small",G<W.SMALL_EDITOR_SIZE||ie<W.SMALL_EDITOR_SIZE)}fixDims(){const{style:G}=this.div,{height:ie,width:ce}=G,ye=ce.endsWith("%"),Ce=!V(this,ne)&&ie.endsWith("%");if(ye&&Ce)return;const[Re,Ke]=this.parentDimensions;ye||(G.width=`${(100*parseFloat(ce)/Re).toFixed(2)}%`),!V(this,ne)&&!Ce&&(G.height=`${(100*parseFloat(ie)/Ke).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(V(this,K))return;const G=it(this,K,document.createElement("button"));G.className="altText";const ie=await W._l10nPromise.get("editor_alt_text_button_label");G.textContent=ie,G.setAttribute("aria-label",ie),G.tabIndex="0",G.addEventListener("contextmenu",B.noContextMenu),G.addEventListener("pointerdown",ce=>ce.stopPropagation()),G.addEventListener("click",ce=>{ce.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),G.addEventListener("keydown",ce=>{ce.target===G&&ce.key==="Enter"&&(ce.preventDefault(),this._uiManager.editAltText(this))}),ze(this,ot,Ai).call(this),this.div.append(G),W.SMALL_EDITOR_SIZE||(W.SMALL_EDITOR_SIZE=Math.min(128,Math.round(G.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:V(this,fe),decorative:V(this,de)}}set altTextData({altText:G,decorative:ie}){V(this,fe)===G&&V(this,de)===ie||(it(this,fe,G),it(this,de,ie),ze(this,ot,Ai).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",V(this,Q)),this.div.addEventListener("focusout",V(this,q));const[G,ie]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*ie/G).toFixed(2)}%`,this.div.style.maxHeight=`${(100*G/ie).toFixed(2)}%`);const[ce,ye]=this.getInitialTranslation();return this.translate(ce,ye),(0,O.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(G){const{isMac:ie}=R.FeatureTest.platform;if(G.button!==0||G.ctrlKey&&ie){G.preventDefault();return}it(this,oe,!0),ze(this,St,ya).call(this,G)}moveInDOM(){var G;(G=this.parent)==null||G.moveEditorInDOM(this)}_setParentAndPosition(G,ie,ce){G.changeParent(this),this.x=ie,this.y=ce,this.fixAndSetPosition()}getRect(G,ie){const ce=this.parentScale,[ye,Ce]=this.pageDimensions,[Re,Ke]=this.pageTranslation,qe=G/ce,nt=ie/ce,ct=this.x*ye,bt=this.y*Ce,dt=this.width*ye,pt=this.height*Ce;switch(this.rotation){case 0:return[ct+qe+Re,Ce-bt-nt-pt+Ke,ct+qe+dt+Re,Ce-bt-nt+Ke];case 90:return[ct+nt+Re,Ce-bt+qe+Ke,ct+nt+pt+Re,Ce-bt+qe+dt+Ke];case 180:return[ct-qe-dt+Re,Ce-bt+nt+Ke,ct-qe+Re,Ce-bt+nt+pt+Ke];case 270:return[ct-nt-pt+Re,Ce-bt-qe-dt+Ke,ct-nt+Re,Ce-bt-qe+Ke];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(G,ie){const[ce,ye,Ce,Re]=G,Ke=Ce-ce,qe=Re-ye;switch(this.rotation){case 0:return[ce,ie-Re,Ke,qe];case 90:return[ce,ie-ye,qe,Ke];case 180:return[Ce,ie-ye,Ke,qe];case 270:return[Ce,ie-Re,qe,Ke];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){it(this,ue,!0)}disableEditMode(){it(this,ue,!1)}isInEditMode(){return V(this,ue)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var G,ie;(G=this.div)==null||G.addEventListener("focusin",V(this,Q)),(ie=this.div)==null||ie.addEventListener("focusout",V(this,q))}serialize(G=!1,ie=null){(0,R.unreachable)("An editor must be serializable")}static deserialize(G,ie,ce){const ye=new this.prototype.constructor({parent:ie,id:ie.getNextId(),uiManager:ce});ye.rotation=G.rotation;const[Ce,Re]=ye.pageDimensions,[Ke,qe,nt,ct]=ye.getRectInCurrentCoords(G.rect,Re);return ye.x=Ke/Ce,ye.y=qe/Re,ye.width=nt/Ce,ye.height=ct/Re,ye}remove(){var G;this.div.removeEventListener("focusin",V(this,Q)),this.div.removeEventListener("focusout",V(this,q)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(G=V(this,K))==null||G.remove(),it(this,K,null),it(this,Ee,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ze(this,be,ba).call(this),V(this,re).classList.remove("hidden"))}select(){var G;this.makeResizable(),(G=this.div)==null||G.classList.add("selectedEditor")}unselect(){var G,ie,ce;(G=V(this,re))==null||G.classList.add("hidden"),(ie=this.div)==null||ie.classList.remove("selectedEditor"),(ce=this.div)!=null&&ce.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(G,ie){}disableEditing(){V(this,K)&&(V(this,K).hidden=!0)}enableEditing(){V(this,K)&&(V(this,K).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return V(this,se)}set isEditing(G){it(this,se,G),this.parent&&(G?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(G,ie){it(this,ne,!0);const ce=G/ie,{style:ye}=this.div;ye.aspectRatio=ce,ye.height="auto"}static get MIN_SIZE(){return 16}};fe=new WeakMap,de=new WeakMap,K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakMap,se=new WeakMap,ue=new WeakMap,pe=new WeakMap,ee=new WeakMap,ae=new WeakSet,Ei=function([G,ie],ce,ye){[ce,ye]=this.screenToPageTranslation(ce,ye),this.x+=ce/G,this.y+=ye/ie,this.fixAndSetPosition()},ge=new WeakSet,yi=function(){const[G,ie]=this.parentDimensions,{_borderLineWidth:ce}=W,ye=ce/G,Ce=ce/ie;switch(this.rotation){case 90:return[-ye,Ce];case 180:return[ye,Ce];case 270:return[ye,-Ce];default:return[-ye,-Ce]}},_e=new WeakSet,Si=function(G,ie,ce){switch(ce){case 90:return[ie,-G];case 180:return[-G,-ie];case 270:return[-ie,G];default:return[G,ie]}},Pe=new WeakSet,wi=function(G){switch(G){case 90:{const[ie,ce]=this.pageDimensions;return[0,-ie/ce,ce/ie,0]}case 180:return[-1,0,0,-1];case 270:{const[ie,ce]=this.pageDimensions;return[0,ie/ce,-ce/ie,0]}default:return[1,0,0,1]}},be=new WeakSet,ba=function(){if(V(this,re))return;it(this,re,document.createElement("div")),V(this,re).classList.add("resizers");const G=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||G.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const ie of G){const ce=document.createElement("div");V(this,re).append(ce),ce.classList.add("resizer",ie),ce.addEventListener("pointerdown",ze(this,Ve,_a).bind(this,ie)),ce.addEventListener("contextmenu",B.noContextMenu)}this.div.prepend(V(this,re))},Ve=new WeakSet,_a=function(G,ie){ie.preventDefault();const{isMac:ce}=R.FeatureTest.platform;if(ie.button!==0||ie.ctrlKey&&ce)return;const ye=ze(this,Fe,Ea).bind(this,G),Ce=this._isDraggable;this._isDraggable=!1;const Re={passive:!0,capture:!0};window.addEventListener("pointermove",ye,Re);const Ke=this.x,qe=this.y,nt=this.width,ct=this.height,bt=this.parent.div.style.cursor,dt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(ie.target).cursor;const pt=()=>{this._isDraggable=Ce,window.removeEventListener("pointerup",pt),window.removeEventListener("blur",pt),window.removeEventListener("pointermove",ye,Re),this.parent.div.style.cursor=bt,this.div.style.cursor=dt;const vt=this.x,mt=this.y,Lt=this.width,st=this.height;vt===Ke&&mt===qe&&Lt===nt&&st===ct||this.addCommands({cmd:()=>{this.width=Lt,this.height=st,this.x=vt,this.y=mt;const[Ue,Ge]=this.parentDimensions;this.setDims(Ue*Lt,Ge*st),this.fixAndSetPosition()},undo:()=>{this.width=nt,this.height=ct,this.x=Ke,this.y=qe;const[Ue,Ge]=this.parentDimensions;this.setDims(Ue*nt,Ge*ct),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",pt),window.addEventListener("blur",pt)},Fe=new WeakSet,Ea=function(G,ie){const[ce,ye]=this.parentDimensions,Ce=this.x,Re=this.y,Ke=this.width,qe=this.height,nt=W.MIN_SIZE/ce,ct=W.MIN_SIZE/ye,bt=wt=>Math.round(wt*1e4)/1e4,dt=ze(this,Pe,wi).call(this,this.rotation),pt=(wt,ht)=>[dt[0]*wt+dt[2]*ht,dt[1]*wt+dt[3]*ht],vt=ze(this,Pe,wi).call(this,360-this.rotation),mt=(wt,ht)=>[vt[0]*wt+vt[2]*ht,vt[1]*wt+vt[3]*ht];let Lt,st,Ue=!1,Ge=!1;switch(G){case"topLeft":Ue=!0,Lt=(wt,ht)=>[0,0],st=(wt,ht)=>[wt,ht];break;case"topMiddle":Lt=(wt,ht)=>[wt/2,0],st=(wt,ht)=>[wt/2,ht];break;case"topRight":Ue=!0,Lt=(wt,ht)=>[wt,0],st=(wt,ht)=>[0,ht];break;case"middleRight":Ge=!0,Lt=(wt,ht)=>[wt,ht/2],st=(wt,ht)=>[0,ht/2];break;case"bottomRight":Ue=!0,Lt=(wt,ht)=>[wt,ht],st=(wt,ht)=>[0,0];break;case"bottomMiddle":Lt=(wt,ht)=>[wt/2,ht],st=(wt,ht)=>[wt/2,0];break;case"bottomLeft":Ue=!0,Lt=(wt,ht)=>[0,ht],st=(wt,ht)=>[wt,0];break;case"middleLeft":Ge=!0,Lt=(wt,ht)=>[0,ht/2],st=(wt,ht)=>[wt,ht/2];break}const lt=Lt(Ke,qe),Ct=st(Ke,qe);let Pt=pt(...Ct);const Vt=bt(Ce+Pt[0]),Jt=bt(Re+Pt[1]);let Xt=1,en=1,[an,Wt]=this.screenToPageTranslation(ie.movementX,ie.movementY);if([an,Wt]=mt(an/ce,Wt/ye),Ue){const wt=Math.hypot(Ke,qe);Xt=en=Math.max(Math.min(Math.hypot(Ct[0]-lt[0]-an,Ct[1]-lt[1]-Wt)/wt,1/Ke,1/qe),nt/Ke,ct/qe)}else Ge?Xt=Math.max(nt,Math.min(1,Math.abs(Ct[0]-lt[0]-an)))/Ke:en=Math.max(ct,Math.min(1,Math.abs(Ct[1]-lt[1]-Wt)))/qe;const un=bt(Ke*Xt),ut=bt(qe*en);Pt=pt(...st(un,ut));const We=Vt-Pt[0],Ne=Jt-Pt[1];this.width=un,this.height=ut,this.x=We,this.y=Ne,this.setDims(ce*un,ye*ut),this.fixAndSetPosition()},ot=new WeakSet,Ai=async function(){var ce;const G=V(this,K);if(!G)return;if(!V(this,fe)&&!V(this,de)){G.classList.remove("done"),(ce=V(this,Ee))==null||ce.remove();return}W._l10nPromise.get("editor_alt_text_edit_button_label").then(ye=>{G.setAttribute("aria-label",ye)});let ie=V(this,Ee);if(!ie){it(this,Ee,ie=document.createElement("span")),ie.className="tooltip",ie.setAttribute("role","tooltip");const ye=ie.id=`alt-text-tooltip-${this.id}`;G.setAttribute("aria-describedby",ye);const Ce=100;G.addEventListener("mouseenter",()=>{it(this,le,setTimeout(()=>{it(this,le,null),V(this,Ee).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Ce))}),G.addEventListener("mouseleave",()=>{var Re;clearTimeout(V(this,le)),it(this,le,null),(Re=V(this,Ee))==null||Re.classList.remove("show")})}G.classList.add("done"),ie.innerText=V(this,de)?await W._l10nPromise.get("editor_alt_text_decorative_tooltip"):V(this,fe),ie.parentNode||G.append(ie)},St=new WeakSet,ya=function(G){if(!this._isDraggable)return;const ie=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let ce,ye;ie&&(ce={passive:!0,capture:!0},ye=Re=>{const[Ke,qe]=this.screenToPageTranslation(Re.movementX,Re.movementY);this._uiManager.dragSelectedEditors(Ke,qe)},window.addEventListener("pointermove",ye,ce));const Ce=()=>{if(window.removeEventListener("pointerup",Ce),window.removeEventListener("blur",Ce),ie&&window.removeEventListener("pointermove",ye,ce),it(this,oe,!1),!this._uiManager.endDragSession()){const{isMac:Re}=R.FeatureTest.platform;G.ctrlKey&&!Re||G.shiftKey||G.metaKey&&Re?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Ce),window.addEventListener("blur",Ce)},Te(W,_e),On(W,"_borderLineWidth",-1),On(W,"_colorManager",new O.ColorManager),On(W,"_zIndex",1),On(W,"SMALL_EDITOR_SIZE",0);let Y=W;$.AnnotationEditor=Y;class ve extends Y{constructor(G){super(G),this.annotationElementId=G.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(A,$,H)=>{var ne,re,Q,q,oe,Ci,pe,ee,ae,Ae,ge,Sa,he,Pe,De,be,$e,Ve,et,Fe,rt,ot,ft,St,we,W,J,G,ie,ce,ye,Ce,Re,Ke,qe,nt,ct,bt,dt,pt,vt,mt,Lt,st,Ue,Ge,lt,wa,Pt,Pi,Jt,ki,en,Xr,Wt,xi,ut,Mi,Ne,sr,ht,Rr,kn,Aa,kt,Ca,$t,$i,Ht,Fr,At,Ti;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=B,$.opacityToHex=Y;var O=H(1),R=H(6);function B(xe,U,Se){for(const Me of Se)U.addEventListener(Me,xe[Me].bind(xe))}function Y(xe){return Math.round(Math.min(255,Math.max(1,255*xe))).toString(16).padStart(2,"0")}class ve{constructor(){Te(this,ne,0)}getId(){return`${O.AnnotationEditorPrefix}${Tr(this,ne)._++}`}}ne=new WeakMap;const ue=class ue{constructor(){Te(this,oe);Te(this,re,(0,O.getUuid)());Te(this,Q,0);Te(this,q,null)}static get _isSVGFittingCanvas(){const U='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Me=new OffscreenCanvas(1,3).getContext("2d"),Be=new Image;Be.src=U;const Xe=Be.decode().then(()=>(Me.drawImage(Be,0,0,1,1,0,0,1,3),new Uint32Array(Me.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,O.shadow)(this,"_isSVGFittingCanvas",Xe)}async getFromFile(U){const{lastModified:Se,name:Me,size:Be,type:Xe}=U;return ze(this,oe,Ci).call(this,`${Se}_${Me}_${Be}_${Xe}`,U)}async getFromUrl(U){return ze(this,oe,Ci).call(this,U,U)}async getFromId(U){V(this,q)||it(this,q,new Map);const Se=V(this,q).get(U);return Se?Se.bitmap?(Se.refCounter+=1,Se):Se.file?this.getFromFile(Se.file):this.getFromUrl(Se.url):null}getSvgUrl(U){const Se=V(this,q).get(U);return Se!=null&&Se.isSvg?Se.svgUrl:null}deleteId(U){V(this,q)||it(this,q,new Map);const Se=V(this,q).get(U);Se&&(Se.refCounter-=1,Se.refCounter===0&&(Se.bitmap=null))}isValidId(U){return U.startsWith(`image_${V(this,re)}_`)}};re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakSet,Ci=async function(U,Se){V(this,q)||it(this,q,new Map);let Me=V(this,q).get(U);if(Me===null)return null;if(Me!=null&&Me.bitmap)return Me.refCounter+=1,Me;try{Me||(Me={bitmap:null,id:`image_${V(this,re)}_${Tr(this,Q)._++}`,refCounter:0,isSvg:!1});let Be;if(typeof Se=="string"){Me.url=Se;const Xe=await fetch(Se);if(!Xe.ok)throw new Error(Xe.statusText);Be=await Xe.blob()}else Be=Me.file=Se;if(Be.type==="image/svg+xml"){const Xe=ue._isSVGFittingCanvas,at=new FileReader,Et=new Image,Ft=new Promise((Tt,nn)=>{Et.onload=()=>{Me.bitmap=Et,Me.isSvg=!0,Tt()},at.onload=async()=>{const Dt=Me.svgUrl=at.result;Et.src=await Xe?`${Dt}#svgView(preserveAspectRatio(none))`:Dt},Et.onerror=at.onerror=nn});at.readAsDataURL(Be),await Ft}else Me.bitmap=await createImageBitmap(Be);Me.refCounter=1}catch(Be){console.error(Be),Me=null}return V(this,q).set(U,Me),Me&&V(this,q).set(Me.id,Me),Me};let fe=ue;class de{constructor(U=128){Te(this,pe,[]);Te(this,ee,!1);Te(this,ae,void 0);Te(this,Ae,-1);it(this,ae,U)}add({cmd:U,undo:Se,mustExec:Me,type:Be=NaN,overwriteIfSameType:Xe=!1,keepUndo:at=!1}){if(Me&&U(),V(this,ee))return;const Et={cmd:U,undo:Se,type:Be};if(V(this,Ae)===-1){V(this,pe).length>0&&(V(this,pe).length=0),it(this,Ae,0),V(this,pe).push(Et);return}if(Xe&&V(this,pe)[V(this,Ae)].type===Be){at&&(Et.undo=V(this,pe)[V(this,Ae)].undo),V(this,pe)[V(this,Ae)]=Et;return}const Ft=V(this,Ae)+1;Ft===V(this,ae)?V(this,pe).splice(0,1):(it(this,Ae,Ft),Ft<V(this,pe).length&&V(this,pe).splice(Ft)),V(this,pe).push(Et)}undo(){V(this,Ae)!==-1&&(it(this,ee,!0),V(this,pe)[V(this,Ae)].undo(),it(this,ee,!1),it(this,Ae,V(this,Ae)-1))}redo(){V(this,Ae)<V(this,pe).length-1&&(it(this,Ae,V(this,Ae)+1),it(this,ee,!0),V(this,pe)[V(this,Ae)].cmd(),it(this,ee,!1))}hasSomethingToUndo(){return V(this,Ae)!==-1}hasSomethingToRedo(){return V(this,Ae)<V(this,pe).length-1}destroy(){it(this,pe,null)}}pe=new WeakMap,ee=new WeakMap,ae=new WeakMap,Ae=new WeakMap,$.CommandManager=de;class K{constructor(U){Te(this,ge);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Se}=O.FeatureTest.platform;for(const[Me,Be,Xe={}]of U)for(const at of Me){const Et=at.startsWith("mac+");Se&&Et?(this.callbacks.set(at.slice(4),{callback:Be,options:Xe}),this.allKeys.add(at.split("+").at(-1))):!Se&&!Et&&(this.callbacks.set(at,{callback:Be,options:Xe}),this.allKeys.add(at.split("+").at(-1)))}}exec(U,Se){if(!this.allKeys.has(Se.key))return;const Me=this.callbacks.get(ze(this,ge,Sa).call(this,Se));if(!Me)return;const{callback:Be,options:{bubbles:Xe=!1,args:at=[],checker:Et=null}}=Me;Et&&!Et(U,Se)||(Be.bind(U,...at)(),Xe||(Se.stopPropagation(),Se.preventDefault()))}}ge=new WeakSet,Sa=function(U){U.altKey&&this.buffer.push("alt"),U.ctrlKey&&this.buffer.push("ctrl"),U.metaKey&&this.buffer.push("meta"),U.shiftKey&&this.buffer.push("shift"),this.buffer.push(U.key);const Se=this.buffer.join("+");return this.buffer.length=0,Se},$.KeyboardManager=K;const _e=class _e{get _colors(){const U=new Map([["CanvasText",null],["Canvas",null]]);return(0,R.getColorValues)(U),(0,O.shadow)(this,"_colors",U)}convert(U){const Se=(0,R.getRGB)(U);if(!window.matchMedia("(forced-colors: active)").matches)return Se;for(const[Me,Be]of this._colors)if(Be.every((Xe,at)=>Xe===Se[at]))return _e._colorsMapping.get(Me);return Se}getHexCode(U){const Se=this._colors.get(U);return Se?O.Util.makeHexColor(...Se):U}};On(_e,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Ee=_e;$.ColorManager=Ee;const Nt=class Nt{constructor(U,Se,Me,Be,Xe,at){Te(this,lt);Te(this,Pt);Te(this,Jt);Te(this,en);Te(this,Wt);Te(this,ut);Te(this,Ne);Te(this,ht);Te(this,kn);Te(this,kt);Te(this,$t);Te(this,Ht);Te(this,At);Te(this,he,null);Te(this,Pe,new Map);Te(this,De,new Map);Te(this,be,null);Te(this,$e,null);Te(this,Ve,new de);Te(this,et,0);Te(this,Fe,new Set);Te(this,rt,null);Te(this,ot,null);Te(this,ft,new Set);Te(this,St,null);Te(this,we,new ve);Te(this,W,!1);Te(this,J,!1);Te(this,G,null);Te(this,ie,O.AnnotationEditorType.NONE);Te(this,ce,new Set);Te(this,ye,null);Te(this,Ce,this.blur.bind(this));Te(this,Re,this.focus.bind(this));Te(this,Ke,this.copy.bind(this));Te(this,qe,this.cut.bind(this));Te(this,nt,this.paste.bind(this));Te(this,ct,this.keydown.bind(this));Te(this,bt,this.onEditingAction.bind(this));Te(this,dt,this.onPageChanging.bind(this));Te(this,pt,this.onScaleChanging.bind(this));Te(this,vt,this.onRotationChanging.bind(this));Te(this,mt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Te(this,Lt,[0,0]);Te(this,st,null);Te(this,Ue,null);Te(this,Ge,null);it(this,Ue,U),it(this,Ge,Se),it(this,be,Me),this._eventBus=Be,this._eventBus._on("editingaction",V(this,bt)),this._eventBus._on("pagechanging",V(this,dt)),this._eventBus._on("scalechanging",V(this,pt)),this._eventBus._on("rotationchanging",V(this,vt)),it(this,$e,Xe.annotationStorage),it(this,St,Xe.filterFactory),it(this,ye,at),this.viewParameters={realScale:R.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const U=Nt.prototype,Se=Xe=>{const{activeElement:at}=document;return at&&V(Xe,Ue).contains(at)&&Xe.hasSomethingToControl()},Me=this.TRANSLATE_SMALL,Be=this.TRANSLATE_BIG;return(0,O.shadow)(this,"_keyboardManager",new K([[["ctrl+a","mac+meta+a"],U.selectAll],[["ctrl+z","mac+meta+z"],U.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],U.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],U.delete],[["Escape","mac+Escape"],U.unselectAll],[["ArrowLeft","mac+ArrowLeft"],U.translateSelectedEditors,{args:[-Me,0],checker:Se}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],U.translateSelectedEditors,{args:[-Be,0],checker:Se}],[["ArrowRight","mac+ArrowRight"],U.translateSelectedEditors,{args:[Me,0],checker:Se}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],U.translateSelectedEditors,{args:[Be,0],checker:Se}],[["ArrowUp","mac+ArrowUp"],U.translateSelectedEditors,{args:[0,-Me],checker:Se}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],U.translateSelectedEditors,{args:[0,-Be],checker:Se}],[["ArrowDown","mac+ArrowDown"],U.translateSelectedEditors,{args:[0,Me],checker:Se}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],U.translateSelectedEditors,{args:[0,Be],checker:Se}]]))}destroy(){ze(this,en,Xr).call(this),ze(this,Pt,Pi).call(this),this._eventBus._off("editingaction",V(this,bt)),this._eventBus._off("pagechanging",V(this,dt)),this._eventBus._off("scalechanging",V(this,pt)),this._eventBus._off("rotationchanging",V(this,vt));for(const U of V(this,De).values())U.destroy();V(this,De).clear(),V(this,Pe).clear(),V(this,ft).clear(),it(this,he,null),V(this,ce).clear(),V(this,Ve).destroy(),V(this,be).destroy()}get hcmFilter(){return(0,O.shadow)(this,"hcmFilter",V(this,ye)?V(this,St).addHCMFilter(V(this,ye).foreground,V(this,ye).background):"none")}get direction(){return(0,O.shadow)(this,"direction",getComputedStyle(V(this,Ue)).direction)}editAltText(U){var Se;(Se=V(this,be))==null||Se.editAltText(this,U)}onPageChanging({pageNumber:U}){it(this,et,U-1)}focusMainContainer(){V(this,Ue).focus()}findParent(U,Se){for(const Me of V(this,De).values()){const{x:Be,y:Xe,width:at,height:Et}=Me.div.getBoundingClientRect();if(U>=Be&&U<=Be+at&&Se>=Xe&&Se<=Xe+Et)return Me}return null}disableUserSelect(U=!1){V(this,Ge).classList.toggle("noUserSelect",U)}addShouldRescale(U){V(this,ft).add(U)}removeShouldRescale(U){V(this,ft).delete(U)}onScaleChanging({scale:U}){this.commitOrRemove(),this.viewParameters.realScale=U*R.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Se of V(this,ft))Se.onScaleChanging()}onRotationChanging({pagesRotation:U}){this.commitOrRemove(),this.viewParameters.rotation=U}addToAnnotationStorage(U){!U.isEmpty()&&V(this,$e)&&!V(this,$e).has(U.id)&&V(this,$e).setValue(U.id,U)}blur(){if(!this.hasSelection)return;const{activeElement:U}=document;for(const Se of V(this,ce))if(Se.div.contains(U)){it(this,G,[Se,U]),Se._focusEventsAllowed=!1;break}}focus(){if(!V(this,G))return;const[U,Se]=V(this,G);it(this,G,null),Se.addEventListener("focusin",()=>{U._focusEventsAllowed=!0},{once:!0}),Se.focus()}addEditListeners(){ze(this,Jt,ki).call(this),ze(this,Wt,xi).call(this)}removeEditListeners(){ze(this,en,Xr).call(this),ze(this,ut,Mi).call(this)}copy(U){var Me;if(U.preventDefault(),(Me=V(this,he))==null||Me.commitOrRemove(),!this.hasSelection)return;const Se=[];for(const Be of V(this,ce)){const Xe=Be.serialize(!0);Xe&&Se.push(Xe)}Se.length!==0&&U.clipboardData.setData("application/pdfjs",JSON.stringify(Se))}cut(U){this.copy(U),this.delete()}paste(U){U.preventDefault();const{clipboardData:Se}=U;for(const Xe of Se.items)for(const at of V(this,ot))if(at.isHandlingMimeForPasting(Xe.type)){at.paste(Xe,this.currentLayer);return}let Me=Se.getData("application/pdfjs");if(!Me)return;try{Me=JSON.parse(Me)}catch(Xe){(0,O.warn)(`paste: "${Xe.message}".`);return}if(!Array.isArray(Me))return;this.unselectAll();const Be=this.currentLayer;try{const Xe=[];for(const Ft of Me){const Tt=Be.deserialize(Ft);if(!Tt)return;Xe.push(Tt)}const at=()=>{for(const Ft of Xe)ze(this,$t,$i).call(this,Ft);ze(this,At,Ti).call(this,Xe)},Et=()=>{for(const Ft of Xe)Ft.remove()};this.addCommands({cmd:at,undo:Et,mustExec:!0})}catch(Xe){(0,O.warn)(`paste: "${Xe.message}".`)}}keydown(U){var Se;(Se=this.getActive())!=null&&Se.shouldGetKeyboardEvents()||Nt._keyboardManager.exec(this,U)}onEditingAction(U){["undo","redo","delete","selectAll"].includes(U.name)&&this[U.name]()}setEditingState(U){U?(ze(this,lt,wa).call(this),ze(this,Jt,ki).call(this),ze(this,Wt,xi).call(this),ze(this,Ne,sr).call(this,{isEditing:V(this,ie)!==O.AnnotationEditorType.NONE,isEmpty:ze(this,Ht,Fr).call(this),hasSomethingToUndo:V(this,Ve).hasSomethingToUndo(),hasSomethingToRedo:V(this,Ve).hasSomethingToRedo(),hasSelectedEditor:!1})):(ze(this,Pt,Pi).call(this),ze(this,en,Xr).call(this),ze(this,ut,Mi).call(this),ze(this,Ne,sr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(U){if(!V(this,ot)){it(this,ot,U);for(const Se of V(this,ot))ze(this,ht,Rr).call(this,Se.defaultPropertiesToUpdate)}}getId(){return V(this,we).getId()}get currentLayer(){return V(this,De).get(V(this,et))}getLayer(U){return V(this,De).get(U)}get currentPageIndex(){return V(this,et)}addLayer(U){V(this,De).set(U.pageIndex,U),V(this,W)?U.enable():U.disable()}removeLayer(U){V(this,De).delete(U.pageIndex)}updateMode(U,Se=null){if(V(this,ie)!==U){if(it(this,ie,U),U===O.AnnotationEditorType.NONE){this.setEditingState(!1),ze(this,kt,Ca).call(this);return}this.setEditingState(!0),ze(this,kn,Aa).call(this),this.unselectAll();for(const Me of V(this,De).values())Me.updateMode(U);if(Se){for(const Me of V(this,Pe).values())if(Me.annotationElementId===Se){this.setSelected(Me),Me.enterInEditMode();break}}}}updateToolbar(U){U!==V(this,ie)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:U})}updateParams(U,Se){if(V(this,ot)){if(U===O.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(U);return}for(const Me of V(this,ce))Me.updateParams(U,Se);for(const Me of V(this,ot))Me.updateDefaultParams(U,Se)}}enableWaiting(U=!1){if(V(this,J)!==U){it(this,J,U);for(const Se of V(this,De).values())U?Se.disableClick():Se.enableClick(),Se.div.classList.toggle("waiting",U)}}getEditors(U){const Se=[];for(const Me of V(this,Pe).values())Me.pageIndex===U&&Se.push(Me);return Se}getEditor(U){return V(this,Pe).get(U)}addEditor(U){V(this,Pe).set(U.id,U)}removeEditor(U){var Se;V(this,Pe).delete(U.id),this.unselect(U),(!U.annotationElementId||!V(this,Fe).has(U.annotationElementId))&&((Se=V(this,$e))==null||Se.remove(U.id))}addDeletedAnnotationElement(U){V(this,Fe).add(U.annotationElementId),U.deleted=!0}isDeletedAnnotationElement(U){return V(this,Fe).has(U)}removeDeletedAnnotationElement(U){V(this,Fe).delete(U.annotationElementId),U.deleted=!1}setActiveEditor(U){V(this,he)!==U&&(it(this,he,U),U&&ze(this,ht,Rr).call(this,U.propertiesToUpdate))}toggleSelected(U){if(V(this,ce).has(U)){V(this,ce).delete(U),U.unselect(),ze(this,Ne,sr).call(this,{hasSelectedEditor:this.hasSelection});return}V(this,ce).add(U),U.select(),ze(this,ht,Rr).call(this,U.propertiesToUpdate),ze(this,Ne,sr).call(this,{hasSelectedEditor:!0})}setSelected(U){for(const Se of V(this,ce))Se!==U&&Se.unselect();V(this,ce).clear(),V(this,ce).add(U),U.select(),ze(this,ht,Rr).call(this,U.propertiesToUpdate),ze(this,Ne,sr).call(this,{hasSelectedEditor:!0})}isSelected(U){return V(this,ce).has(U)}unselect(U){U.unselect(),V(this,ce).delete(U),ze(this,Ne,sr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return V(this,ce).size!==0}undo(){V(this,Ve).undo(),ze(this,Ne,sr).call(this,{hasSomethingToUndo:V(this,Ve).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ze(this,Ht,Fr).call(this)})}redo(){V(this,Ve).redo(),ze(this,Ne,sr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:V(this,Ve).hasSomethingToRedo(),isEmpty:ze(this,Ht,Fr).call(this)})}addCommands(U){V(this,Ve).add(U),ze(this,Ne,sr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ze(this,Ht,Fr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const U=[...V(this,ce)],Se=()=>{for(const Be of U)Be.remove()},Me=()=>{for(const Be of U)ze(this,$t,$i).call(this,Be)};this.addCommands({cmd:Se,undo:Me,mustExec:!0})}commitOrRemove(){var U;(U=V(this,he))==null||U.commitOrRemove()}hasSomethingToControl(){return V(this,he)||this.hasSelection}selectAll(){for(const U of V(this,ce))U.commit();ze(this,At,Ti).call(this,V(this,Pe).values())}unselectAll(){if(V(this,he)){V(this,he).commitOrRemove();return}if(this.hasSelection){for(const U of V(this,ce))U.unselect();V(this,ce).clear(),ze(this,Ne,sr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(U,Se,Me=!1){if(Me||this.commitOrRemove(),!this.hasSelection)return;V(this,Lt)[0]+=U,V(this,Lt)[1]+=Se;const[Be,Xe]=V(this,Lt),at=[...V(this,ce)],Et=1e3;V(this,st)&&clearTimeout(V(this,st)),it(this,st,setTimeout(()=>{it(this,st,null),V(this,Lt)[0]=V(this,Lt)[1]=0,this.addCommands({cmd:()=>{for(const Ft of at)V(this,Pe).has(Ft.id)&&Ft.translateInPage(Be,Xe)},undo:()=>{for(const Ft of at)V(this,Pe).has(Ft.id)&&Ft.translateInPage(-Be,-Xe)},mustExec:!1})},Et));for(const Ft of at)Ft.translateInPage(U,Se)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),it(this,rt,new Map);for(const U of V(this,ce))V(this,rt).set(U,{savedX:U.x,savedY:U.y,savedPageIndex:U.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!V(this,rt))return!1;this.disableUserSelect(!1);const U=V(this,rt);it(this,rt,null);let Se=!1;for(const[{x:Be,y:Xe,pageIndex:at},Et]of U)Et.newX=Be,Et.newY=Xe,Et.newPageIndex=at,Se||(Se=Be!==Et.savedX||Xe!==Et.savedY||at!==Et.savedPageIndex);if(!Se)return!1;const Me=(Be,Xe,at,Et)=>{if(V(this,Pe).has(Be.id)){const Ft=V(this,De).get(Et);Ft?Be._setParentAndPosition(Ft,Xe,at):(Be.pageIndex=Et,Be.x=Xe,Be.y=at)}};return this.addCommands({cmd:()=>{for(const[Be,{newX:Xe,newY:at,newPageIndex:Et}]of U)Me(Be,Xe,at,Et)},undo:()=>{for(const[Be,{savedX:Xe,savedY:at,savedPageIndex:Et}]of U)Me(Be,Xe,at,Et)},mustExec:!0}),!0}dragSelectedEditors(U,Se){if(V(this,rt))for(const Me of V(this,rt).keys())Me.drag(U,Se)}rebuild(U){if(U.parent===null){const Se=this.getLayer(U.pageIndex);Se?(Se.changeParent(U),Se.addOrRebuild(U)):(this.addEditor(U),this.addToAnnotationStorage(U),U.rebuild())}else U.parent.addOrRebuild(U)}isActive(U){return V(this,he)===U}getActive(){return V(this,he)}getMode(){return V(this,ie)}get imageManager(){return(0,O.shadow)(this,"imageManager",new fe)}};he=new WeakMap,Pe=new WeakMap,De=new WeakMap,be=new WeakMap,$e=new WeakMap,Ve=new WeakMap,et=new WeakMap,Fe=new WeakMap,rt=new WeakMap,ot=new WeakMap,ft=new WeakMap,St=new WeakMap,we=new WeakMap,W=new WeakMap,J=new WeakMap,G=new WeakMap,ie=new WeakMap,ce=new WeakMap,ye=new WeakMap,Ce=new WeakMap,Re=new WeakMap,Ke=new WeakMap,qe=new WeakMap,nt=new WeakMap,ct=new WeakMap,bt=new WeakMap,dt=new WeakMap,pt=new WeakMap,vt=new WeakMap,mt=new WeakMap,Lt=new WeakMap,st=new WeakMap,Ue=new WeakMap,Ge=new WeakMap,lt=new WeakSet,wa=function(){window.addEventListener("focus",V(this,Re)),window.addEventListener("blur",V(this,Ce))},Pt=new WeakSet,Pi=function(){window.removeEventListener("focus",V(this,Re)),window.removeEventListener("blur",V(this,Ce))},Jt=new WeakSet,ki=function(){window.addEventListener("keydown",V(this,ct),{capture:!0})},en=new WeakSet,Xr=function(){window.removeEventListener("keydown",V(this,ct),{capture:!0})},Wt=new WeakSet,xi=function(){document.addEventListener("copy",V(this,Ke)),document.addEventListener("cut",V(this,qe)),document.addEventListener("paste",V(this,nt))},ut=new WeakSet,Mi=function(){document.removeEventListener("copy",V(this,Ke)),document.removeEventListener("cut",V(this,qe)),document.removeEventListener("paste",V(this,nt))},Ne=new WeakSet,sr=function(U){Object.entries(U).some(([Me,Be])=>V(this,mt)[Me]!==Be)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(V(this,mt),U)})},ht=new WeakSet,Rr=function(U){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:U})},kn=new WeakSet,Aa=function(){if(!V(this,W)){it(this,W,!0);for(const U of V(this,De).values())U.enable()}},kt=new WeakSet,Ca=function(){if(this.unselectAll(),V(this,W)){it(this,W,!1);for(const U of V(this,De).values())U.disable()}},$t=new WeakSet,$i=function(U){const Se=V(this,De).get(U.pageIndex);Se?Se.addOrRebuild(U):this.addEditor(U)},Ht=new WeakSet,Fr=function(){if(V(this,Pe).size===0)return!0;if(V(this,Pe).size===1)for(const U of V(this,Pe).values())return U.isEmpty();return!1},At=new WeakSet,Ti=function(U){V(this,ce).clear();for(const Se of U)Se.isEmpty()||(V(this,ce).add(Se),Se.select());ze(this,Ne,sr).call(this,{hasSelectedEditor:!0})},On(Nt,"TRANSLATE_SMALL",1),On(Nt,"TRANSLATE_BIG",10);let le=Nt;$.AnnotationEditorUIManager=le},(A,$,H)=>{var et,Fe,rt,ot,ft,St,we,W,J,G,ie,ce,Cr,Ce,Pr,Ke,Ri,nt,Kr,bt,Yr,pt,Lr,mt,Ir;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=Ae,$.getColorValues=Pe,$.getCurrentTransform=De,$.getCurrentTransformInverse=be,$.getFilenameFromUrl=oe,$.getPdfFilenameFromUrl=se,$.getRGB=he,$.getXfaPageViewport=_e,$.isDataScheme=Q,$.isPdfFile=q,$.isValidFetchUrl=pe,$.loadScript=ae,$.noContextMenu=ee,$.setLayerDimensions=$e;var O=H(7),R=H(1);const B="http://www.w3.org/2000/svg",Ve=class Ve{};On(Ve,"CSS",96),On(Ve,"PDF",72),On(Ve,"PDF_TO_CSS_UNITS",Ve.CSS/Ve.PDF);let Y=Ve;$.PixelsPerInch=Y;class ve extends O.BaseFilterFactory{constructor({docId:Ge,ownerDocument:lt=globalThis.document}={}){super();Te(this,ce);Te(this,Ce);Te(this,Ke);Te(this,nt);Te(this,bt);Te(this,pt);Te(this,mt);Te(this,et,void 0);Te(this,Fe,void 0);Te(this,rt,void 0);Te(this,ot,void 0);Te(this,ft,void 0);Te(this,St,void 0);Te(this,we,void 0);Te(this,W,void 0);Te(this,J,void 0);Te(this,G,void 0);Te(this,ie,0);it(this,rt,Ge),it(this,ot,lt)}addFilter(Ge){if(!Ge)return"none";let lt=V(this,ce,Cr).get(Ge);if(lt)return lt;let Ct,Pt,Vt,Jt;if(Ge.length===1){const Wt=Ge[0],un=new Array(256);for(let ut=0;ut<256;ut++)un[ut]=Wt[ut]/255;Jt=Ct=Pt=Vt=un.join(",")}else{const[Wt,un,ut]=Ge,We=new Array(256),Ne=new Array(256),wt=new Array(256);for(let ht=0;ht<256;ht++)We[ht]=Wt[ht]/255,Ne[ht]=un[ht]/255,wt[ht]=ut[ht]/255;Ct=We.join(","),Pt=Ne.join(","),Vt=wt.join(","),Jt=`${Ct}${Pt}${Vt}`}if(lt=V(this,ce,Cr).get(Jt),lt)return V(this,ce,Cr).set(Ge,lt),lt;const Xt=`g_${V(this,rt)}_transfer_map_${Tr(this,ie)._++}`,en=`url(#${Xt})`;V(this,ce,Cr).set(Ge,en),V(this,ce,Cr).set(Jt,en);const an=ze(this,nt,Kr).call(this,Xt);return ze(this,pt,Lr).call(this,Ct,Pt,Vt,an),en}addHCMFilter(Ge,lt){var un;const Ct=`${Ge}-${lt}`;if(V(this,St)===Ct)return V(this,we);if(it(this,St,Ct),it(this,we,"none"),(un=V(this,ft))==null||un.remove(),!Ge||!lt)return V(this,we);const Pt=ze(this,mt,Ir).call(this,Ge);Ge=R.Util.makeHexColor(...Pt);const Vt=ze(this,mt,Ir).call(this,lt);if(lt=R.Util.makeHexColor(...Vt),V(this,Ce,Pr).style.color="",Ge==="#000000"&&lt==="#ffffff"||Ge===lt)return V(this,we);const Jt=new Array(256);for(let ut=0;ut<=255;ut++){const We=ut/255;Jt[ut]=We<=.03928?We/12.92:((We+.055)/1.055)**2.4}const Xt=Jt.join(","),en=`g_${V(this,rt)}_hcm_filter`,an=it(this,W,ze(this,nt,Kr).call(this,en));ze(this,pt,Lr).call(this,Xt,Xt,Xt,an),ze(this,Ke,Ri).call(this,an);const Wt=(ut,We)=>{const Ne=Pt[ut]/255,wt=Vt[ut]/255,ht=new Array(We+1);for(let vn=0;vn<=We;vn++)ht[vn]=Ne+vn/We*(wt-Ne);return ht.join(",")};return ze(this,pt,Lr).call(this,Wt(0,5),Wt(1,5),Wt(2,5),an),it(this,we,`url(#${en})`),V(this,we)}addHighlightHCMFilter(Ge,lt,Ct,Pt){var wt;const Vt=`${Ge}-${lt}-${Ct}-${Pt}`;if(V(this,J)===Vt)return V(this,G);if(it(this,J,Vt),it(this,G,"none"),(wt=V(this,W))==null||wt.remove(),!Ge||!lt)return V(this,G);const[Jt,Xt]=[Ge,lt].map(ze(this,mt,Ir).bind(this));let en=Math.round(.2126*Jt[0]+.7152*Jt[1]+.0722*Jt[2]),an=Math.round(.2126*Xt[0]+.7152*Xt[1]+.0722*Xt[2]),[Wt,un]=[Ct,Pt].map(ze(this,mt,Ir).bind(this));an<en&&([en,an,Wt,un]=[an,en,un,Wt]),V(this,Ce,Pr).style.color="";const ut=(ht,vn,kn)=>{const Ze=new Array(256),kt=(an-en)/kn,Bt=ht/255,$t=(vn-ht)/(255*kn);let jt=0;for(let Ht=0;Ht<=kn;Ht++){const yn=Math.round(en+Ht*kt),At=Bt+Ht*$t;for(let pn=jt;pn<=yn;pn++)Ze[pn]=At;jt=yn+1}for(let Ht=jt;Ht<256;Ht++)Ze[Ht]=Ze[jt-1];return Ze.join(",")},We=`g_${V(this,rt)}_hcm_highlight_filter`,Ne=it(this,W,ze(this,nt,Kr).call(this,We));return ze(this,Ke,Ri).call(this,Ne),ze(this,pt,Lr).call(this,ut(Wt[0],un[0],5),ut(Wt[1],un[1],5),ut(Wt[2],un[2],5),Ne),it(this,G,`url(#${We})`),V(this,G)}destroy(Ge=!1){Ge&&(V(this,we)||V(this,G))||(V(this,Fe)&&(V(this,Fe).parentNode.parentNode.remove(),it(this,Fe,null)),V(this,et)&&(V(this,et).clear(),it(this,et,null)),it(this,ie,0))}}et=new WeakMap,Fe=new WeakMap,rt=new WeakMap,ot=new WeakMap,ft=new WeakMap,St=new WeakMap,we=new WeakMap,W=new WeakMap,J=new WeakMap,G=new WeakMap,ie=new WeakMap,ce=new WeakSet,Cr=function(){return V(this,et)||it(this,et,new Map)},Ce=new WeakSet,Pr=function(){if(!V(this,Fe)){const Ge=V(this,ot).createElement("div"),{style:lt}=Ge;lt.visibility="hidden",lt.contain="strict",lt.width=lt.height=0,lt.position="absolute",lt.top=lt.left=0,lt.zIndex=-1;const Ct=V(this,ot).createElementNS(B,"svg");Ct.setAttribute("width",0),Ct.setAttribute("height",0),it(this,Fe,V(this,ot).createElementNS(B,"defs")),Ge.append(Ct),Ct.append(V(this,Fe)),V(this,ot).body.append(Ge)}return V(this,Fe)},Ke=new WeakSet,Ri=function(Ge){const lt=V(this,ot).createElementNS(B,"feColorMatrix");lt.setAttribute("type","matrix"),lt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Ge.append(lt)},nt=new WeakSet,Kr=function(Ge){const lt=V(this,ot).createElementNS(B,"filter");return lt.setAttribute("color-interpolation-filters","sRGB"),lt.setAttribute("id",Ge),V(this,Ce,Pr).append(lt),lt},bt=new WeakSet,Yr=function(Ge,lt,Ct){const Pt=V(this,ot).createElementNS(B,lt);Pt.setAttribute("type","discrete"),Pt.setAttribute("tableValues",Ct),Ge.append(Pt)},pt=new WeakSet,Lr=function(Ge,lt,Ct,Pt){const Vt=V(this,ot).createElementNS(B,"feComponentTransfer");Pt.append(Vt),ze(this,bt,Yr).call(this,Vt,"feFuncR",Ge),ze(this,bt,Yr).call(this,Vt,"feFuncG",lt),ze(this,bt,Yr).call(this,Vt,"feFuncB",Ct)},mt=new WeakSet,Ir=function(Ge){return V(this,Ce,Pr).style.color=Ge,he(getComputedStyle(V(this,Ce,Pr)).getPropertyValue("color"))},$.DOMFilterFactory=ve;class fe extends O.BaseCanvasFactory{constructor({ownerDocument:Ue=globalThis.document}={}){super(),this._document=Ue}_createCanvas(Ue,Ge){const lt=this._document.createElement("canvas");return lt.width=Ue,lt.height=Ge,lt}}$.DOMCanvasFactory=fe;async function de(st,Ue=!1){if(pe(st,document.baseURI)){const Ge=await fetch(st);if(!Ge.ok)throw new Error(Ge.statusText);return Ue?new Uint8Array(await Ge.arrayBuffer()):(0,R.stringToBytes)(await Ge.text())}return new Promise((Ge,lt)=>{const Ct=new XMLHttpRequest;Ct.open("GET",st,!0),Ue&&(Ct.responseType="arraybuffer"),Ct.onreadystatechange=()=>{if(Ct.readyState===XMLHttpRequest.DONE){if(Ct.status===200||Ct.status===0){let Pt;if(Ue&&Ct.response?Pt=new Uint8Array(Ct.response):!Ue&&Ct.responseText&&(Pt=(0,R.stringToBytes)(Ct.responseText)),Pt){Ge(Pt);return}}lt(new Error(Ct.statusText))}},Ct.send(null)})}class K extends O.BaseCMapReaderFactory{_fetchData(Ue,Ge){return de(Ue,this.isCompressed).then(lt=>({cMapData:lt,compressionType:Ge}))}}$.DOMCMapReaderFactory=K;class Ee extends O.BaseStandardFontDataFactory{_fetchData(Ue){return de(Ue,!0)}}$.DOMStandardFontDataFactory=Ee;class le extends O.BaseSVGFactory{_createSVG(Ue){return document.createElementNS(B,Ue)}}$.DOMSVGFactory=le;class ne{constructor({viewBox:Ue,scale:Ge,rotation:lt,offsetX:Ct=0,offsetY:Pt=0,dontFlip:Vt=!1}){this.viewBox=Ue,this.scale=Ge,this.rotation=lt,this.offsetX=Ct,this.offsetY=Pt;const Jt=(Ue[2]+Ue[0])/2,Xt=(Ue[3]+Ue[1])/2;let en,an,Wt,un;switch(lt%=360,lt<0&&(lt+=360),lt){case 180:en=-1,an=0,Wt=0,un=1;break;case 90:en=0,an=1,Wt=1,un=0;break;case 270:en=0,an=-1,Wt=-1,un=0;break;case 0:en=1,an=0,Wt=0,un=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Vt&&(Wt=-Wt,un=-un);let ut,We,Ne,wt;en===0?(ut=Math.abs(Xt-Ue[1])*Ge+Ct,We=Math.abs(Jt-Ue[0])*Ge+Pt,Ne=(Ue[3]-Ue[1])*Ge,wt=(Ue[2]-Ue[0])*Ge):(ut=Math.abs(Jt-Ue[0])*Ge+Ct,We=Math.abs(Xt-Ue[1])*Ge+Pt,Ne=(Ue[2]-Ue[0])*Ge,wt=(Ue[3]-Ue[1])*Ge),this.transform=[en*Ge,an*Ge,Wt*Ge,un*Ge,ut-en*Ge*Jt-Wt*Ge*Xt,We-an*Ge*Jt-un*Ge*Xt],this.width=Ne,this.height=wt}get rawDims(){const{viewBox:Ue}=this;return(0,R.shadow)(this,"rawDims",{pageWidth:Ue[2]-Ue[0],pageHeight:Ue[3]-Ue[1],pageX:Ue[0],pageY:Ue[1]})}clone({scale:Ue=this.scale,rotation:Ge=this.rotation,offsetX:lt=this.offsetX,offsetY:Ct=this.offsetY,dontFlip:Pt=!1}={}){return new ne({viewBox:this.viewBox.slice(),scale:Ue,rotation:Ge,offsetX:lt,offsetY:Ct,dontFlip:Pt})}convertToViewportPoint(Ue,Ge){return R.Util.applyTransform([Ue,Ge],this.transform)}convertToViewportRectangle(Ue){const Ge=R.Util.applyTransform([Ue[0],Ue[1]],this.transform),lt=R.Util.applyTransform([Ue[2],Ue[3]],this.transform);return[Ge[0],Ge[1],lt[0],lt[1]]}convertToPdfPoint(Ue,Ge){return R.Util.applyInverseTransform([Ue,Ge],this.transform)}}$.PageViewport=ne;class re extends R.BaseException{constructor(Ue,Ge=0){super(Ue,"RenderingCancelledException"),this.extraDelay=Ge}}$.RenderingCancelledException=re;function Q(st){const Ue=st.length;let Ge=0;for(;Ge<Ue&&st[Ge].trim()==="";)Ge++;return st.substring(Ge,Ge+5).toLowerCase()==="data:"}function q(st){return typeof st=="string"&&/\.pdf$/i.test(st)}function oe(st,Ue=!1){return Ue||([st]=st.split(/[#?]/,1)),st.substring(st.lastIndexOf("/")+1)}function se(st,Ue="document.pdf"){if(typeof st!="string")return Ue;if(Q(st))return(0,R.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ue;const Ge=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,lt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ct=Ge.exec(st);let Pt=lt.exec(Ct[1])||lt.exec(Ct[2])||lt.exec(Ct[3]);if(Pt&&(Pt=Pt[0],Pt.includes("%")))try{Pt=lt.exec(decodeURIComponent(Pt))[0]}catch{}return Pt||Ue}class ue{constructor(){On(this,"started",Object.create(null));On(this,"times",[])}time(Ue){Ue in this.started&&(0,R.warn)(`Timer is already running for ${Ue}`),this.started[Ue]=Date.now()}timeEnd(Ue){Ue in this.started||(0,R.warn)(`Timer has not been started for ${Ue}`),this.times.push({name:Ue,start:this.started[Ue],end:Date.now()}),delete this.started[Ue]}toString(){const Ue=[];let Ge=0;for(const{name:lt}of this.times)Ge=Math.max(lt.length,Ge);for(const{name:lt,start:Ct,end:Pt}of this.times)Ue.push(`${lt.padEnd(Ge)} ${Pt-Ct}ms
`);return Ue.join("")}}$.StatTimer=ue;function pe(st,Ue){try{const{protocol:Ge}=Ue?new URL(st,Ue):new URL(st);return Ge==="http:"||Ge==="https:"}catch{return!1}}function ee(st){st.preventDefault()}function ae(st,Ue=!1){return new Promise((Ge,lt)=>{const Ct=document.createElement("script");Ct.src=st,Ct.onload=function(Pt){Ue&&Ct.remove(),Ge(Pt)},Ct.onerror=function(){lt(new Error(`Cannot load script at: ${Ct.src}`))},(document.head||document.documentElement).append(Ct)})}function Ae(st){console.log("Deprecated API usage: "+st)}let ge;class te{static toDateObject(Ue){if(!Ue||typeof Ue!="string")return null;ge||(ge=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Ge=ge.exec(Ue);if(!Ge)return null;const lt=parseInt(Ge[1],10);let Ct=parseInt(Ge[2],10);Ct=Ct>=1&&Ct<=12?Ct-1:0;let Pt=parseInt(Ge[3],10);Pt=Pt>=1&&Pt<=31?Pt:1;let Vt=parseInt(Ge[4],10);Vt=Vt>=0&&Vt<=23?Vt:0;let Jt=parseInt(Ge[5],10);Jt=Jt>=0&&Jt<=59?Jt:0;let Xt=parseInt(Ge[6],10);Xt=Xt>=0&&Xt<=59?Xt:0;const en=Ge[7]||"Z";let an=parseInt(Ge[8],10);an=an>=0&&an<=23?an:0;let Wt=parseInt(Ge[9],10)||0;return Wt=Wt>=0&&Wt<=59?Wt:0,en==="-"?(Vt+=an,Jt+=Wt):en==="+"&&(Vt-=an,Jt-=Wt),new Date(Date.UTC(lt,Ct,Pt,Vt,Jt,Xt))}}$.PDFDateString=te;function _e(st,{scale:Ue=1,rotation:Ge=0}){const{width:lt,height:Ct}=st.attributes.style,Pt=[0,0,parseInt(lt),parseInt(Ct)];return new ne({viewBox:Pt,scale:Ue,rotation:Ge})}function he(st){if(st.startsWith("#")){const Ue=parseInt(st.slice(1),16);return[(Ue&16711680)>>16,(Ue&65280)>>8,Ue&255]}return st.startsWith("rgb(")?st.slice(4,-1).split(",").map(Ue=>parseInt(Ue)):st.startsWith("rgba(")?st.slice(5,-1).split(",").map(Ue=>parseInt(Ue)).slice(0,3):((0,R.warn)(`Not a valid color format: "${st}"`),[0,0,0])}function Pe(st){const Ue=document.createElement("span");Ue.style.visibility="hidden",document.body.append(Ue);for(const Ge of st.keys()){Ue.style.color=Ge;const lt=window.getComputedStyle(Ue).color;st.set(Ge,he(lt))}Ue.remove()}function De(st){const{a:Ue,b:Ge,c:lt,d:Ct,e:Pt,f:Vt}=st.getTransform();return[Ue,Ge,lt,Ct,Pt,Vt]}function be(st){const{a:Ue,b:Ge,c:lt,d:Ct,e:Pt,f:Vt}=st.getTransform().invertSelf();return[Ue,Ge,lt,Ct,Pt,Vt]}function $e(st,Ue,Ge=!1,lt=!0){if(Ue instanceof ne){const{pageWidth:Ct,pageHeight:Pt}=Ue.rawDims,{style:Vt}=st,Jt=R.FeatureTest.isCSSRoundSupported,Xt=`var(--scale-factor) * ${Ct}px`,en=`var(--scale-factor) * ${Pt}px`,an=Jt?`round(${Xt}, 1px)`:`calc(${Xt})`,Wt=Jt?`round(${en}, 1px)`:`calc(${en})`;!Ge||Ue.rotation%180===0?(Vt.width=an,Vt.height=Wt):(Vt.width=Wt,Vt.height=an)}lt&&st.setAttribute("data-main-rotation",Ue.rotation)}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var O=H(1);class R{constructor(){this.constructor===R&&(0,O.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(K){return"none"}addHCMFilter(K,Ee){return"none"}addHighlightHCMFilter(K,Ee,le,ne){return"none"}destroy(K=!1){}}$.BaseFilterFactory=R;class B{constructor(){this.constructor===B&&(0,O.unreachable)("Cannot initialize BaseCanvasFactory.")}create(K,Ee){if(K<=0||Ee<=0)throw new Error("Invalid canvas size");const le=this._createCanvas(K,Ee);return{canvas:le,context:le.getContext("2d")}}reset(K,Ee,le){if(!K.canvas)throw new Error("Canvas is not specified");if(Ee<=0||le<=0)throw new Error("Invalid canvas size");K.canvas.width=Ee,K.canvas.height=le}destroy(K){if(!K.canvas)throw new Error("Canvas is not specified");K.canvas.width=0,K.canvas.height=0,K.canvas=null,K.context=null}_createCanvas(K,Ee){(0,O.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=B;class Y{constructor({baseUrl:K=null,isCompressed:Ee=!0}){this.constructor===Y&&(0,O.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=K,this.isCompressed=Ee}async fetch({name:K}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!K)throw new Error("CMap name must be specified.");const Ee=this.baseUrl+K+(this.isCompressed?".bcmap":""),le=this.isCompressed?O.CMapCompressionType.BINARY:O.CMapCompressionType.NONE;return this._fetchData(Ee,le).catch(ne=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Ee}`)})}_fetchData(K,Ee){(0,O.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=Y;class ve{constructor({baseUrl:K=null}){this.constructor===ve&&(0,O.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=K}async fetch({filename:K}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!K)throw new Error("Font filename must be specified.");const Ee=`${this.baseUrl}${K}`;return this._fetchData(Ee).catch(le=>{throw new Error(`Unable to load font data at: ${Ee}`)})}_fetchData(K){(0,O.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=ve;class fe{constructor(){this.constructor===fe&&(0,O.unreachable)("Cannot initialize BaseSVGFactory.")}create(K,Ee,le=!1){if(K<=0||Ee<=0)throw new Error("Invalid SVG dimensions");const ne=this._createSVG("svg:svg");return ne.setAttribute("version","1.1"),le||(ne.setAttribute("width",`${K}px`),ne.setAttribute("height",`${Ee}px`)),ne.setAttribute("preserveAspectRatio","none"),ne.setAttribute("viewBox",`0 0 ${K} ${Ee}`),ne}createElement(K){if(typeof K!="string")throw new Error("Invalid SVG element type");return this._createSVG(K)}_createSVG(K){(0,O.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=fe},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var O=H(1);const R=3285377520,B=4294901760,Y=65535;class ve{constructor(de){this.h1=de?de&4294967295:R,this.h2=de?de&4294967295:R}update(de){let K,Ee;if(typeof de=="string"){K=new Uint8Array(de.length*2),Ee=0;for(let Ae=0,ge=de.length;Ae<ge;Ae++){const te=de.charCodeAt(Ae);te<=255?K[Ee++]=te:(K[Ee++]=te>>>8,K[Ee++]=te&255)}}else if((0,O.isArrayBuffer)(de))K=de.slice(),Ee=K.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const le=Ee>>2,ne=Ee-le*4,re=new Uint32Array(K.buffer,0,le);let Q=0,q=0,oe=this.h1,se=this.h2;const ue=3432918353,pe=461845907,ee=ue&Y,ae=pe&Y;for(let Ae=0;Ae<le;Ae++)Ae&1?(Q=re[Ae],Q=Q*ue&B|Q*ee&Y,Q=Q<<15|Q>>>17,Q=Q*pe&B|Q*ae&Y,oe^=Q,oe=oe<<13|oe>>>19,oe=oe*5+3864292196):(q=re[Ae],q=q*ue&B|q*ee&Y,q=q<<15|q>>>17,q=q*pe&B|q*ae&Y,se^=q,se=se<<13|se>>>19,se=se*5+3864292196);switch(Q=0,ne){case 3:Q^=K[le*4+2]<<16;case 2:Q^=K[le*4+1]<<8;case 1:Q^=K[le*4],Q=Q*ue&B|Q*ee&Y,Q=Q<<15|Q>>>17,Q=Q*pe&B|Q*ae&Y,le&1?oe^=Q:se^=Q}this.h1=oe,this.h2=se}hexdigest(){let de=this.h1,K=this.h2;return de^=K>>>1,de=de*3981806797&B|de*36045&Y,K=K*4283543511&B|((K<<16|de>>>16)*2950163797&B)>>>16,de^=K>>>1,de=de*444984403&B|de*60499&Y,K=K*3301882366&B|((K<<16|de>>>16)*3120437893&B)>>>16,de^=K>>>1,(de>>>0).toString(16).padStart(8,"0")+(K>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=ve},(A,$,H)=>{var Y;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var O=H(1);class R{constructor({ownerDocument:fe=globalThis.document,styleElement:de=null}){Te(this,Y,new Set);this._document=fe,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(fe){this.nativeFontFaces.add(fe),this._document.fonts.add(fe)}removeNativeFontFace(fe){this.nativeFontFaces.delete(fe),this._document.fonts.delete(fe)}insertRule(fe){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const de=this.styleElement.sheet;de.insertRule(fe,de.cssRules.length)}clear(){for(const fe of this.nativeFontFaces)this._document.fonts.delete(fe);this.nativeFontFaces.clear(),V(this,Y).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(fe){if(!(!fe||V(this,Y).has(fe.loadedName))){if((0,O.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:de,src:K,style:Ee}=fe,le=new FontFace(de,K,Ee);this.addNativeFontFace(le);try{await le.load(),V(this,Y).add(de)}catch{(0,O.warn)(`Cannot load system font: ${fe.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(le)}return}(0,O.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(fe){if(fe.attached||fe.missingFile&&!fe.systemFontInfo)return;if(fe.attached=!0,fe.systemFontInfo){await this.loadSystemFont(fe.systemFontInfo);return}if(this.isFontLoadingAPISupported){const K=fe.createNativeFontFace();if(K){this.addNativeFontFace(K);try{await K.loaded}catch(Ee){throw(0,O.warn)(`Failed to load font '${K.family}': '${Ee}'.`),fe.disableFontFace=!0,Ee}}return}const de=fe.createFontFaceRule();if(de){if(this.insertRule(de),this.isSyncFontLoadingSupported)return;await new Promise(K=>{const Ee=this._queueLoadingCallback(K);this._prepareFontLoadEvent(fe,Ee)})}}get isFontLoadingAPISupported(){var de;const fe=!!((de=this._document)!=null&&de.fonts);return(0,O.shadow)(this,"isFontLoadingAPISupported",fe)}get isSyncFontLoadingSupported(){let fe=!1;return(O.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(fe=!0),(0,O.shadow)(this,"isSyncFontLoadingSupported",fe)}_queueLoadingCallback(fe){function de(){for((0,O.assert)(!Ee.done,"completeRequest() cannot be called twice."),Ee.done=!0;K.length>0&&K[0].done;){const le=K.shift();setTimeout(le.callback,0)}}const{loadingRequests:K}=this,Ee={done:!1,complete:de,callback:fe};return K.push(Ee),Ee}get _loadTestFont(){const fe=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,O.shadow)(this,"_loadTestFont",fe)}_prepareFontLoadEvent(fe,de){function K(he,Pe){return he.charCodeAt(Pe)<<24|he.charCodeAt(Pe+1)<<16|he.charCodeAt(Pe+2)<<8|he.charCodeAt(Pe+3)&255}function Ee(he,Pe,De,be){const $e=he.substring(0,Pe),Ve=he.substring(Pe+De);return $e+be+Ve}let le,ne;const re=this._document.createElement("canvas");re.width=1,re.height=1;const Q=re.getContext("2d");let q=0;function oe(he,Pe){if(++q>30){(0,O.warn)("Load test font never loaded."),Pe();return}if(Q.font="30px "+he,Q.fillText(".",0,20),Q.getImageData(0,0,1,1).data[3]>0){Pe();return}setTimeout(oe.bind(null,he,Pe))}const se=`lt${Date.now()}${this.loadTestFontId++}`;let ue=this._loadTestFont;ue=Ee(ue,976,se.length,se);const ee=16,ae=1482184792;let Ae=K(ue,ee);for(le=0,ne=se.length-3;le<ne;le+=4)Ae=Ae-ae+K(se,le)|0;le<se.length&&(Ae=Ae-ae+K(se+"XXX",le)|0),ue=Ee(ue,ee,4,(0,O.string32)(Ae));const ge=`url(data:font/opentype;base64,${btoa(ue)});`,te=`@font-face {font-family:"${se}";src:${ge}}`;this.insertRule(te);const _e=this._document.createElement("div");_e.style.visibility="hidden",_e.style.width=_e.style.height="10px",_e.style.position="absolute",_e.style.top=_e.style.left="0px";for(const he of[fe.loadedName,se]){const Pe=this._document.createElement("span");Pe.textContent="Hi",Pe.style.fontFamily=he,_e.append(Pe)}this._document.body.append(_e),oe(se,()=>{_e.remove(),de.complete()})}}Y=new WeakMap,$.FontLoader=R;class B{constructor(fe,{isEvalSupported:de=!0,disableFontFace:K=!1,ignoreErrors:Ee=!1,inspectFont:le=null}){this.compiledGlyphs=Object.create(null);for(const ne in fe)this[ne]=fe[ne];this.isEvalSupported=de!==!1,this.disableFontFace=K===!0,this.ignoreErrors=Ee===!0,this._inspectFont=le}createNativeFontFace(){var de;if(!this.data||this.disableFontFace)return null;let fe;if(!this.cssFontInfo)fe=new FontFace(this.loadedName,this.data,{});else{const K={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(K.style=`oblique ${this.cssFontInfo.italicAngle}deg`),fe=new FontFace(this.cssFontInfo.fontFamily,this.data,K)}return(de=this._inspectFont)==null||de.call(this,this),fe}createFontFaceRule(){var Ee;if(!this.data||this.disableFontFace)return null;const fe=(0,O.bytesToString)(this.data),de=`url(data:${this.mimetype};base64,${btoa(fe)});`;let K;if(!this.cssFontInfo)K=`@font-face {font-family:"${this.loadedName}";src:${de}}`;else{let le=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(le+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),K=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${le}src:${de}}`}return(Ee=this._inspectFont)==null||Ee.call(this,this,de),K}getPathGenerator(fe,de){if(this.compiledGlyphs[de]!==void 0)return this.compiledGlyphs[de];let K;try{K=fe.get(this.loadedName+"_path_"+de)}catch(Ee){if(!this.ignoreErrors)throw Ee;return(0,O.warn)(`getPathGenerator - ignoring character: "${Ee}".`),this.compiledGlyphs[de]=function(le,ne){}}if(this.isEvalSupported&&O.FeatureTest.isEvalSupported){const Ee=[];for(const le of K){const ne=le.args!==void 0?le.args.join(","):"";Ee.push("c.",le.cmd,"(",ne,`);
`)}return this.compiledGlyphs[de]=new Function("c","size",Ee.join(""))}return this.compiledGlyphs[de]=function(Ee,le){for(const ne of K)ne.cmd==="scale"&&(ne.args=[le,-le]),Ee[ne.cmd].apply(Ee,ne.args)}}}$.FontFaceObject=B},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var O=H(7);H(1);const R=function(de){return new Promise((K,Ee)=>{require$$5.readFile(de,(ne,re)=>{if(ne||!re){Ee(new Error(ne));return}K(new Uint8Array(re))})})};class B extends O.BaseFilterFactory{}$.NodeFilterFactory=B;class Y extends O.BaseCanvasFactory{_createCanvas(K,Ee){return require$$5.createCanvas(K,Ee)}}$.NodeCanvasFactory=Y;class ve extends O.BaseCMapReaderFactory{_fetchData(K,Ee){return R(K).then(le=>({cMapData:le,compressionType:Ee}))}}$.NodeCMapReaderFactory=ve;class fe extends O.BaseStandardFontDataFactory{_fetchData(K){return R(K)}}$.NodeStandardFontDataFactory=fe},(A,$,H)=>{var Fe,Fi,ot,Li;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var O=H(1),R=H(6),B=H(12),Y=H(13);const ve=16,fe=100,de=4096,K=15,Ee=10,le=1e3,ne=16;function re(we,W){if(we._removeMirroring)throw new Error("Context is already forwarding operations.");we.__originalSave=we.save,we.__originalRestore=we.restore,we.__originalRotate=we.rotate,we.__originalScale=we.scale,we.__originalTranslate=we.translate,we.__originalTransform=we.transform,we.__originalSetTransform=we.setTransform,we.__originalResetTransform=we.resetTransform,we.__originalClip=we.clip,we.__originalMoveTo=we.moveTo,we.__originalLineTo=we.lineTo,we.__originalBezierCurveTo=we.bezierCurveTo,we.__originalRect=we.rect,we.__originalClosePath=we.closePath,we.__originalBeginPath=we.beginPath,we._removeMirroring=()=>{we.save=we.__originalSave,we.restore=we.__originalRestore,we.rotate=we.__originalRotate,we.scale=we.__originalScale,we.translate=we.__originalTranslate,we.transform=we.__originalTransform,we.setTransform=we.__originalSetTransform,we.resetTransform=we.__originalResetTransform,we.clip=we.__originalClip,we.moveTo=we.__originalMoveTo,we.lineTo=we.__originalLineTo,we.bezierCurveTo=we.__originalBezierCurveTo,we.rect=we.__originalRect,we.closePath=we.__originalClosePath,we.beginPath=we.__originalBeginPath,delete we._removeMirroring},we.save=function(){W.save(),this.__originalSave()},we.restore=function(){W.restore(),this.__originalRestore()},we.translate=function(G,ie){W.translate(G,ie),this.__originalTranslate(G,ie)},we.scale=function(G,ie){W.scale(G,ie),this.__originalScale(G,ie)},we.transform=function(G,ie,ce,ye,Ce,Re){W.transform(G,ie,ce,ye,Ce,Re),this.__originalTransform(G,ie,ce,ye,Ce,Re)},we.setTransform=function(G,ie,ce,ye,Ce,Re){W.setTransform(G,ie,ce,ye,Ce,Re),this.__originalSetTransform(G,ie,ce,ye,Ce,Re)},we.resetTransform=function(){W.resetTransform(),this.__originalResetTransform()},we.rotate=function(G){W.rotate(G),this.__originalRotate(G)},we.clip=function(G){W.clip(G),this.__originalClip(G)},we.moveTo=function(J,G){W.moveTo(J,G),this.__originalMoveTo(J,G)},we.lineTo=function(J,G){W.lineTo(J,G),this.__originalLineTo(J,G)},we.bezierCurveTo=function(J,G,ie,ce,ye,Ce){W.bezierCurveTo(J,G,ie,ce,ye,Ce),this.__originalBezierCurveTo(J,G,ie,ce,ye,Ce)},we.rect=function(J,G,ie,ce){W.rect(J,G,ie,ce),this.__originalRect(J,G,ie,ce)},we.closePath=function(){W.closePath(),this.__originalClosePath()},we.beginPath=function(){W.beginPath(),this.__originalBeginPath()}}class Q{constructor(W){this.canvasFactory=W,this.cache=Object.create(null)}getCanvas(W,J,G){let ie;return this.cache[W]!==void 0?(ie=this.cache[W],this.canvasFactory.reset(ie,J,G)):(ie=this.canvasFactory.create(J,G),this.cache[W]=ie),ie}delete(W){delete this.cache[W]}clear(){for(const W in this.cache){const J=this.cache[W];this.canvasFactory.destroy(J),delete this.cache[W]}}}function q(we,W,J,G,ie,ce,ye,Ce,Re,Ke){const[qe,nt,ct,bt,dt,pt]=(0,R.getCurrentTransform)(we);if(nt===0&&ct===0){const Lt=ye*qe+dt,st=Math.round(Lt),Ue=Ce*bt+pt,Ge=Math.round(Ue),lt=(ye+Re)*qe+dt,Ct=Math.abs(Math.round(lt)-st)||1,Pt=(Ce+Ke)*bt+pt,Vt=Math.abs(Math.round(Pt)-Ge)||1;return we.setTransform(Math.sign(qe),0,0,Math.sign(bt),st,Ge),we.drawImage(W,J,G,ie,ce,0,0,Ct,Vt),we.setTransform(qe,nt,ct,bt,dt,pt),[Ct,Vt]}if(qe===0&&bt===0){const Lt=Ce*ct+dt,st=Math.round(Lt),Ue=ye*nt+pt,Ge=Math.round(Ue),lt=(Ce+Ke)*ct+dt,Ct=Math.abs(Math.round(lt)-st)||1,Pt=(ye+Re)*nt+pt,Vt=Math.abs(Math.round(Pt)-Ge)||1;return we.setTransform(0,Math.sign(nt),Math.sign(ct),0,st,Ge),we.drawImage(W,J,G,ie,ce,0,0,Vt,Ct),we.setTransform(qe,nt,ct,bt,dt,pt),[Vt,Ct]}we.drawImage(W,J,G,ie,ce,ye,Ce,Re,Ke);const vt=Math.hypot(qe,nt),mt=Math.hypot(ct,bt);return[vt*Re,mt*Ke]}function oe(we){const{width:W,height:J}=we;if(W>le||J>le)return null;const G=1e3,ie=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ce=W+1;let ye=new Uint8Array(ce*(J+1)),Ce,Re,Ke;const qe=W+7&-8;let nt=new Uint8Array(qe*J),ct=0;for(const mt of we.data){let Lt=128;for(;Lt>0;)nt[ct++]=mt&Lt?0:255,Lt>>=1}let bt=0;for(ct=0,nt[ct]!==0&&(ye[0]=1,++bt),Re=1;Re<W;Re++)nt[ct]!==nt[ct+1]&&(ye[Re]=nt[ct]?2:1,++bt),ct++;for(nt[ct]!==0&&(ye[Re]=2,++bt),Ce=1;Ce<J;Ce++){ct=Ce*qe,Ke=Ce*ce,nt[ct-qe]!==nt[ct]&&(ye[Ke]=nt[ct]?1:8,++bt);let mt=(nt[ct]?4:0)+(nt[ct-qe]?8:0);for(Re=1;Re<W;Re++)mt=(mt>>2)+(nt[ct+1]?4:0)+(nt[ct-qe+1]?8:0),ie[mt]&&(ye[Ke+Re]=ie[mt],++bt),ct++;if(nt[ct-qe]!==nt[ct]&&(ye[Ke+Re]=nt[ct]?2:4,++bt),bt>G)return null}for(ct=qe*(J-1),Ke=Ce*ce,nt[ct]!==0&&(ye[Ke]=8,++bt),Re=1;Re<W;Re++)nt[ct]!==nt[ct+1]&&(ye[Ke+Re]=nt[ct]?4:8,++bt),ct++;if(nt[ct]!==0&&(ye[Ke+Re]=4,++bt),bt>G)return null;const dt=new Int32Array([0,ce,-1,0,-ce,0,0,0,1]),pt=new Path2D;for(Ce=0;bt&&Ce<=J;Ce++){let mt=Ce*ce;const Lt=mt+W;for(;mt<Lt&&!ye[mt];)mt++;if(mt===Lt)continue;pt.moveTo(mt%ce,Ce);const st=mt;let Ue=ye[mt];do{const Ge=dt[Ue];do mt+=Ge;while(!ye[mt]);const lt=ye[mt];lt!==5&&lt!==10?(Ue=lt,ye[mt]=0):(Ue=lt&51*Ue>>4,ye[mt]&=Ue>>2|Ue<<2),pt.lineTo(mt%ce,mt/ce|0),ye[mt]||--bt}while(st!==mt);--Ce}return nt=null,ye=null,function(mt){mt.save(),mt.scale(1/W,-1/J),mt.translate(0,-J),mt.fill(pt),mt.beginPath(),mt.restore()}}class se{constructor(W,J){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=O.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=O.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,W,J])}clone(){const W=Object.create(this);return W.clipBox=this.clipBox.slice(),W}setCurrentPoint(W,J){this.x=W,this.y=J}updatePathMinMax(W,J,G){[J,G]=O.Util.applyTransform([J,G],W),this.minX=Math.min(this.minX,J),this.minY=Math.min(this.minY,G),this.maxX=Math.max(this.maxX,J),this.maxY=Math.max(this.maxY,G)}updateRectMinMax(W,J){const G=O.Util.applyTransform(J,W),ie=O.Util.applyTransform(J.slice(2),W);this.minX=Math.min(this.minX,G[0],ie[0]),this.minY=Math.min(this.minY,G[1],ie[1]),this.maxX=Math.max(this.maxX,G[0],ie[0]),this.maxY=Math.max(this.maxY,G[1],ie[1])}updateScalingPathMinMax(W,J){O.Util.scaleMinMax(W,J),this.minX=Math.min(this.minX,J[0]),this.maxX=Math.max(this.maxX,J[1]),this.minY=Math.min(this.minY,J[2]),this.maxY=Math.max(this.maxY,J[3])}updateCurvePathMinMax(W,J,G,ie,ce,ye,Ce,Re,Ke,qe){const nt=O.Util.bezierBoundingBox(J,G,ie,ce,ye,Ce,Re,Ke);if(qe){qe[0]=Math.min(qe[0],nt[0],nt[2]),qe[1]=Math.max(qe[1],nt[0],nt[2]),qe[2]=Math.min(qe[2],nt[1],nt[3]),qe[3]=Math.max(qe[3],nt[1],nt[3]);return}this.updateRectMinMax(W,nt)}getPathBoundingBox(W=B.PathType.FILL,J=null){const G=[this.minX,this.minY,this.maxX,this.maxY];if(W===B.PathType.STROKE){J||(0,O.unreachable)("Stroke bounding box must include transform.");const ie=O.Util.singularValueDecompose2dScale(J),ce=ie[0]*this.lineWidth/2,ye=ie[1]*this.lineWidth/2;G[0]-=ce,G[1]-=ye,G[2]+=ce,G[3]+=ye}return G}updateClipFromPath(){const W=O.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(W||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(W){this.clipBox=W,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(W=B.PathType.FILL,J=null){return O.Util.intersect(this.clipBox,this.getPathBoundingBox(W,J))}}function ue(we,W){if(typeof ImageData<"u"&&W instanceof ImageData){we.putImageData(W,0,0);return}const J=W.height,G=W.width,ie=J%ne,ce=(J-ie)/ne,ye=ie===0?ce:ce+1,Ce=we.createImageData(G,ne);let Re=0,Ke;const qe=W.data,nt=Ce.data;let ct,bt,dt,pt;if(W.kind===O.ImageKind.GRAYSCALE_1BPP){const vt=qe.byteLength,mt=new Uint32Array(nt.buffer,0,nt.byteLength>>2),Lt=mt.length,st=G+7>>3,Ue=4294967295,Ge=O.FeatureTest.isLittleEndian?4278190080:255;for(ct=0;ct<ye;ct++){for(dt=ct<ce?ne:ie,Ke=0,bt=0;bt<dt;bt++){const lt=vt-Re;let Ct=0;const Pt=lt>st?G:lt*8-7,Vt=Pt&-8;let Jt=0,Xt=0;for(;Ct<Vt;Ct+=8)Xt=qe[Re++],mt[Ke++]=Xt&128?Ue:Ge,mt[Ke++]=Xt&64?Ue:Ge,mt[Ke++]=Xt&32?Ue:Ge,mt[Ke++]=Xt&16?Ue:Ge,mt[Ke++]=Xt&8?Ue:Ge,mt[Ke++]=Xt&4?Ue:Ge,mt[Ke++]=Xt&2?Ue:Ge,mt[Ke++]=Xt&1?Ue:Ge;for(;Ct<Pt;Ct++)Jt===0&&(Xt=qe[Re++],Jt=128),mt[Ke++]=Xt&Jt?Ue:Ge,Jt>>=1}for(;Ke<Lt;)mt[Ke++]=0;we.putImageData(Ce,0,ct*ne)}}else if(W.kind===O.ImageKind.RGBA_32BPP){for(bt=0,pt=G*ne*4,ct=0;ct<ce;ct++)nt.set(qe.subarray(Re,Re+pt)),Re+=pt,we.putImageData(Ce,0,bt),bt+=ne;ct<ye&&(pt=G*ie*4,nt.set(qe.subarray(Re,Re+pt)),we.putImageData(Ce,0,bt))}else if(W.kind===O.ImageKind.RGB_24BPP)for(dt=ne,pt=G*dt,ct=0;ct<ye;ct++){for(ct>=ce&&(dt=ie,pt=G*dt),Ke=0,bt=pt;bt--;)nt[Ke++]=qe[Re++],nt[Ke++]=qe[Re++],nt[Ke++]=qe[Re++],nt[Ke++]=255;we.putImageData(Ce,0,ct*ne)}else throw new Error(`bad image kind: ${W.kind}`)}function pe(we,W){if(W.bitmap){we.drawImage(W.bitmap,0,0);return}const J=W.height,G=W.width,ie=J%ne,ce=(J-ie)/ne,ye=ie===0?ce:ce+1,Ce=we.createImageData(G,ne);let Re=0;const Ke=W.data,qe=Ce.data;for(let nt=0;nt<ye;nt++){const ct=nt<ce?ne:ie;({srcPos:Re}=(0,Y.convertBlackAndWhiteToRGBA)({src:Ke,srcPos:Re,dest:qe,width:G,height:ct,nonBlackColor:0})),we.putImageData(Ce,0,nt*ne)}}function ee(we,W){const J=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const G of J)we[G]!==void 0&&(W[G]=we[G]);we.setLineDash!==void 0&&(W.setLineDash(we.getLineDash()),W.lineDashOffset=we.lineDashOffset)}function ae(we){if(we.strokeStyle=we.fillStyle="#000000",we.fillRule="nonzero",we.globalAlpha=1,we.lineWidth=1,we.lineCap="butt",we.lineJoin="miter",we.miterLimit=10,we.globalCompositeOperation="source-over",we.font="10px sans-serif",we.setLineDash!==void 0&&(we.setLineDash([]),we.lineDashOffset=0),!O.isNodeJS){const{filter:W}=we;W!=="none"&&W!==""&&(we.filter="none")}}function Ae(we,W,J,G){const ie=we.length;for(let ce=3;ce<ie;ce+=4){const ye=we[ce];if(ye===0)we[ce-3]=W,we[ce-2]=J,we[ce-1]=G;else if(ye<255){const Ce=255-ye;we[ce-3]=we[ce-3]*ye+W*Ce>>8,we[ce-2]=we[ce-2]*ye+J*Ce>>8,we[ce-1]=we[ce-1]*ye+G*Ce>>8}}}function ge(we,W,J){const G=we.length,ie=1/255;for(let ce=3;ce<G;ce+=4){const ye=J?J[we[ce]]:we[ce];W[ce]=W[ce]*ye*ie|0}}function te(we,W,J){const G=we.length;for(let ie=3;ie<G;ie+=4){const ce=we[ie-3]*77+we[ie-2]*152+we[ie-1]*28;W[ie]=J?W[ie]*J[ce>>8]>>8:W[ie]*ce>>16}}function _e(we,W,J,G,ie,ce,ye,Ce,Re,Ke,qe){const nt=!!ce,ct=nt?ce[0]:0,bt=nt?ce[1]:0,dt=nt?ce[2]:0,pt=ie==="Luminosity"?te:ge,mt=Math.min(G,Math.ceil(1048576/J));for(let Lt=0;Lt<G;Lt+=mt){const st=Math.min(mt,G-Lt),Ue=we.getImageData(Ce-Ke,Lt+(Re-qe),J,st),Ge=W.getImageData(Ce,Lt+Re,J,st);nt&&Ae(Ue.data,ct,bt,dt),pt(Ue.data,Ge.data,ye),W.putImageData(Ge,Ce,Lt+Re)}}function he(we,W,J,G){const ie=G[0],ce=G[1],ye=G[2]-ie,Ce=G[3]-ce;ye===0||Ce===0||(_e(W.context,J,ye,Ce,W.subtype,W.backdrop,W.transferMap,ie,ce,W.offsetX,W.offsetY),we.save(),we.globalAlpha=1,we.globalCompositeOperation="source-over",we.setTransform(1,0,0,1,0,0),we.drawImage(J.canvas,0,0),we.restore())}function Pe(we,W){const J=O.Util.singularValueDecompose2dScale(we);J[0]=Math.fround(J[0]),J[1]=Math.fround(J[1]);const G=Math.fround((globalThis.devicePixelRatio||1)*R.PixelsPerInch.PDF_TO_CSS_UNITS);return W!==void 0?W:J[0]<=G||J[1]<=G}const De=["butt","round","square"],be=["miter","round","bevel"],$e={},Ve={},St=class St{constructor(W,J,G,ie,ce,{optionalContentConfig:ye,markedContentStack:Ce=null},Re,Ke){Te(this,Fe);Te(this,ot);this.ctx=W,this.current=new se(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=J,this.objs=G,this.canvasFactory=ie,this.filterFactory=ce,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ce||[],this.optionalContentConfig=ye,this.cachedCanvases=new Q(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Re,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ke,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(W,J=null){return typeof W=="string"?W.startsWith("g_")?this.commonObjs.get(W):this.objs.get(W):J}beginDrawing({transform:W,viewport:J,transparency:G=!1,background:ie=null}){const ce=this.ctx.canvas.width,ye=this.ctx.canvas.height,Ce=this.ctx.fillStyle;if(this.ctx.fillStyle=ie||"#ffffff",this.ctx.fillRect(0,0,ce,ye),this.ctx.fillStyle=Ce,G){const Re=this.cachedCanvases.getCanvas("transparent",ce,ye);this.compositeCtx=this.ctx,this.transparentCanvas=Re.canvas,this.ctx=Re.context,this.ctx.save(),this.ctx.transform(...(0,R.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ae(this.ctx),W&&(this.ctx.transform(...W),this.outputScaleX=W[0],this.outputScaleY=W[0]),this.ctx.transform(...J.transform),this.viewportScale=J.scale,this.baseTransform=(0,R.getCurrentTransform)(this.ctx)}executeOperatorList(W,J,G,ie){const ce=W.argsArray,ye=W.fnArray;let Ce=J||0;const Re=ce.length;if(Re===Ce)return Ce;const Ke=Re-Ce>Ee&&typeof G=="function",qe=Ke?Date.now()+K:0;let nt=0;const ct=this.commonObjs,bt=this.objs;let dt;for(;;){if(ie!==void 0&&Ce===ie.nextBreakPoint)return ie.breakIt(Ce,G),Ce;if(dt=ye[Ce],dt!==O.OPS.dependency)this[dt].apply(this,ce[Ce]);else for(const pt of ce[Ce]){const vt=pt.startsWith("g_")?ct:bt;if(!vt.has(pt))return vt.get(pt,G),Ce}if(Ce++,Ce===Re)return Ce;if(Ke&&++nt>Ee){if(Date.now()>qe)return G(),Ce;nt=0}}}endDrawing(){ze(this,Fe,Fi).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const W of this._cachedBitmapsMap.values()){for(const J of W.values())typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement&&(J.width=J.height=0);W.clear()}this._cachedBitmapsMap.clear(),ze(this,ot,Li).call(this)}_scaleImage(W,J){const G=W.width,ie=W.height;let ce=Math.max(Math.hypot(J[0],J[1]),1),ye=Math.max(Math.hypot(J[2],J[3]),1),Ce=G,Re=ie,Ke="prescale1",qe,nt;for(;ce>2&&Ce>1||ye>2&&Re>1;){let ct=Ce,bt=Re;ce>2&&Ce>1&&(ct=Ce>=16384?Math.floor(Ce/2)-1||1:Math.ceil(Ce/2),ce/=Ce/ct),ye>2&&Re>1&&(bt=Re>=16384?Math.floor(Re/2)-1||1:Math.ceil(Re)/2,ye/=Re/bt),qe=this.cachedCanvases.getCanvas(Ke,ct,bt),nt=qe.context,nt.clearRect(0,0,ct,bt),nt.drawImage(W,0,0,Ce,Re,0,0,ct,bt),W=qe.canvas,Ce=ct,Re=bt,Ke=Ke==="prescale1"?"prescale2":"prescale1"}return{img:W,paintWidth:Ce,paintHeight:Re}}_createMaskCanvas(W){const J=this.ctx,{width:G,height:ie}=W,ce=this.current.fillColor,ye=this.current.patternFill,Ce=(0,R.getCurrentTransform)(J);let Re,Ke,qe,nt;if((W.bitmap||W.data)&&W.count>1){const Ct=W.bitmap||W.data.buffer;Ke=JSON.stringify(ye?Ce:[Ce.slice(0,4),ce]),Re=this._cachedBitmapsMap.get(Ct),Re||(Re=new Map,this._cachedBitmapsMap.set(Ct,Re));const Pt=Re.get(Ke);if(Pt&&!ye){const Vt=Math.round(Math.min(Ce[0],Ce[2])+Ce[4]),Jt=Math.round(Math.min(Ce[1],Ce[3])+Ce[5]);return{canvas:Pt,offsetX:Vt,offsetY:Jt}}qe=Pt}qe||(nt=this.cachedCanvases.getCanvas("maskCanvas",G,ie),pe(nt.context,W));let ct=O.Util.transform(Ce,[1/G,0,0,-1/ie,0,0]);ct=O.Util.transform(ct,[1,0,0,1,0,-ie]);const bt=O.Util.applyTransform([0,0],ct),dt=O.Util.applyTransform([G,ie],ct),pt=O.Util.normalizeRect([bt[0],bt[1],dt[0],dt[1]]),vt=Math.round(pt[2]-pt[0])||1,mt=Math.round(pt[3]-pt[1])||1,Lt=this.cachedCanvases.getCanvas("fillCanvas",vt,mt),st=Lt.context,Ue=Math.min(bt[0],dt[0]),Ge=Math.min(bt[1],dt[1]);st.translate(-Ue,-Ge),st.transform(...ct),qe||(qe=this._scaleImage(nt.canvas,(0,R.getCurrentTransformInverse)(st)),qe=qe.img,Re&&ye&&Re.set(Ke,qe)),st.imageSmoothingEnabled=Pe((0,R.getCurrentTransform)(st),W.interpolate),q(st,qe,0,0,qe.width,qe.height,0,0,G,ie),st.globalCompositeOperation="source-in";const lt=O.Util.transform((0,R.getCurrentTransformInverse)(st),[1,0,0,1,-Ue,-Ge]);return st.fillStyle=ye?ce.getPattern(J,this,lt,B.PathType.FILL):ce,st.fillRect(0,0,G,ie),Re&&!ye&&(this.cachedCanvases.delete("fillCanvas"),Re.set(Ke,Lt.canvas)),{canvas:Lt.canvas,offsetX:Math.round(Ue),offsetY:Math.round(Ge)}}setLineWidth(W){W!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=W,this.ctx.lineWidth=W}setLineCap(W){this.ctx.lineCap=De[W]}setLineJoin(W){this.ctx.lineJoin=be[W]}setMiterLimit(W){this.ctx.miterLimit=W}setDash(W,J){const G=this.ctx;G.setLineDash!==void 0&&(G.setLineDash(W),G.lineDashOffset=J)}setRenderingIntent(W){}setFlatness(W){}setGState(W){for(const[J,G]of W)switch(J){case"LW":this.setLineWidth(G);break;case"LC":this.setLineCap(G);break;case"LJ":this.setLineJoin(G);break;case"ML":this.setMiterLimit(G);break;case"D":this.setDash(G[0],G[1]);break;case"RI":this.setRenderingIntent(G);break;case"FL":this.setFlatness(G);break;case"Font":this.setFont(G[0],G[1]);break;case"CA":this.current.strokeAlpha=G;break;case"ca":this.current.fillAlpha=G,this.ctx.globalAlpha=G;break;case"BM":this.ctx.globalCompositeOperation=G;break;case"SMask":this.current.activeSMask=G?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(G);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const W=this.inSMaskMode;this.current.activeSMask&&!W?this.beginSMaskMode():!this.current.activeSMask&&W&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const W=this.ctx.canvas.width,J=this.ctx.canvas.height,G="smaskGroupAt"+this.groupLevel,ie=this.cachedCanvases.getCanvas(G,W,J);this.suspendedCtx=this.ctx,this.ctx=ie.context;const ce=this.ctx;ce.setTransform(...(0,R.getCurrentTransform)(this.suspendedCtx)),ee(this.suspendedCtx,ce),re(ce,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ee(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(W){if(!this.current.activeSMask)return;W?(W[0]=Math.floor(W[0]),W[1]=Math.floor(W[1]),W[2]=Math.ceil(W[2]),W[3]=Math.ceil(W[3])):W=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const J=this.current.activeSMask,G=this.suspendedCtx;he(G,J,this.ctx,W),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ee(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const W=this.current;this.stateStack.push(W),this.current=W.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ee(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(W,J,G,ie,ce,ye){this.ctx.transform(W,J,G,ie,ce,ye),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(W,J,G){const ie=this.ctx,ce=this.current;let ye=ce.x,Ce=ce.y,Re,Ke;const qe=(0,R.getCurrentTransform)(ie),nt=qe[0]===0&&qe[3]===0||qe[1]===0&&qe[2]===0,ct=nt?G.slice(0):null;for(let bt=0,dt=0,pt=W.length;bt<pt;bt++)switch(W[bt]|0){case O.OPS.rectangle:ye=J[dt++],Ce=J[dt++];const vt=J[dt++],mt=J[dt++],Lt=ye+vt,st=Ce+mt;ie.moveTo(ye,Ce),vt===0||mt===0?ie.lineTo(Lt,st):(ie.lineTo(Lt,Ce),ie.lineTo(Lt,st),ie.lineTo(ye,st)),nt||ce.updateRectMinMax(qe,[ye,Ce,Lt,st]),ie.closePath();break;case O.OPS.moveTo:ye=J[dt++],Ce=J[dt++],ie.moveTo(ye,Ce),nt||ce.updatePathMinMax(qe,ye,Ce);break;case O.OPS.lineTo:ye=J[dt++],Ce=J[dt++],ie.lineTo(ye,Ce),nt||ce.updatePathMinMax(qe,ye,Ce);break;case O.OPS.curveTo:Re=ye,Ke=Ce,ye=J[dt+4],Ce=J[dt+5],ie.bezierCurveTo(J[dt],J[dt+1],J[dt+2],J[dt+3],ye,Ce),ce.updateCurvePathMinMax(qe,Re,Ke,J[dt],J[dt+1],J[dt+2],J[dt+3],ye,Ce,ct),dt+=6;break;case O.OPS.curveTo2:Re=ye,Ke=Ce,ie.bezierCurveTo(ye,Ce,J[dt],J[dt+1],J[dt+2],J[dt+3]),ce.updateCurvePathMinMax(qe,Re,Ke,ye,Ce,J[dt],J[dt+1],J[dt+2],J[dt+3],ct),ye=J[dt+2],Ce=J[dt+3],dt+=4;break;case O.OPS.curveTo3:Re=ye,Ke=Ce,ye=J[dt+2],Ce=J[dt+3],ie.bezierCurveTo(J[dt],J[dt+1],ye,Ce,ye,Ce),ce.updateCurvePathMinMax(qe,Re,Ke,J[dt],J[dt+1],ye,Ce,ye,Ce,ct),dt+=4;break;case O.OPS.closePath:ie.closePath();break}nt&&ce.updateScalingPathMinMax(qe,ct),ce.setCurrentPoint(ye,Ce)}closePath(){this.ctx.closePath()}stroke(W=!0){const J=this.ctx,G=this.current.strokeColor;J.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof G=="object"&&(G!=null&&G.getPattern)?(J.save(),J.strokeStyle=G.getPattern(J,this,(0,R.getCurrentTransformInverse)(J),B.PathType.STROKE),this.rescaleAndStroke(!1),J.restore()):this.rescaleAndStroke(!0)),W&&this.consumePath(this.current.getClippedPathBoundingBox()),J.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(W=!0){const J=this.ctx,G=this.current.fillColor,ie=this.current.patternFill;let ce=!1;ie&&(J.save(),J.fillStyle=G.getPattern(J,this,(0,R.getCurrentTransformInverse)(J),B.PathType.FILL),ce=!0);const ye=this.current.getClippedPathBoundingBox();this.contentVisible&&ye!==null&&(this.pendingEOFill?(J.fill("evenodd"),this.pendingEOFill=!1):J.fill()),ce&&J.restore(),W&&this.consumePath(ye)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$e}eoClip(){this.pendingClip=Ve}beginText(){this.current.textMatrix=O.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const W=this.pendingTextPaths,J=this.ctx;if(W===void 0){J.beginPath();return}J.save(),J.beginPath();for(const G of W)J.setTransform(...G.transform),J.translate(G.x,G.y),G.addToPath(J,G.fontSize);J.restore(),J.clip(),J.beginPath(),delete this.pendingTextPaths}setCharSpacing(W){this.current.charSpacing=W}setWordSpacing(W){this.current.wordSpacing=W}setHScale(W){this.current.textHScale=W/100}setLeading(W){this.current.leading=-W}setFont(W,J){var qe;const G=this.commonObjs.get(W),ie=this.current;if(!G)throw new Error(`Can't find font for ${W}`);if(ie.fontMatrix=G.fontMatrix||O.FONT_IDENTITY_MATRIX,(ie.fontMatrix[0]===0||ie.fontMatrix[3]===0)&&(0,O.warn)("Invalid font matrix for font "+W),J<0?(J=-J,ie.fontDirection=-1):ie.fontDirection=1,this.current.font=G,this.current.fontSize=J,G.isType3Font)return;const ce=G.loadedName||"sans-serif",ye=((qe=G.systemFontInfo)==null?void 0:qe.css)||`"${ce}", ${G.fallbackName}`;let Ce="normal";G.black?Ce="900":G.bold&&(Ce="bold");const Re=G.italic?"italic":"normal";let Ke=J;J<ve?Ke=ve:J>fe&&(Ke=fe),this.current.fontSizeScale=J/Ke,this.ctx.font=`${Re} ${Ce} ${Ke}px ${ye}`}setTextRenderingMode(W){this.current.textRenderingMode=W}setTextRise(W){this.current.textRise=W}moveText(W,J){this.current.x=this.current.lineX+=W,this.current.y=this.current.lineY+=J}setLeadingMoveText(W,J){this.setLeading(-J),this.moveText(W,J)}setTextMatrix(W,J,G,ie,ce,ye){this.current.textMatrix=[W,J,G,ie,ce,ye],this.current.textMatrixScale=Math.hypot(W,J),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(W,J,G,ie){const ce=this.ctx,ye=this.current,Ce=ye.font,Re=ye.textRenderingMode,Ke=ye.fontSize/ye.fontSizeScale,qe=Re&O.TextRenderingMode.FILL_STROKE_MASK,nt=!!(Re&O.TextRenderingMode.ADD_TO_PATH_FLAG),ct=ye.patternFill&&!Ce.missingFile;let bt;(Ce.disableFontFace||nt||ct)&&(bt=Ce.getPathGenerator(this.commonObjs,W)),Ce.disableFontFace||ct?(ce.save(),ce.translate(J,G),ce.beginPath(),bt(ce,Ke),ie&&ce.setTransform(...ie),(qe===O.TextRenderingMode.FILL||qe===O.TextRenderingMode.FILL_STROKE)&&ce.fill(),(qe===O.TextRenderingMode.STROKE||qe===O.TextRenderingMode.FILL_STROKE)&&ce.stroke(),ce.restore()):((qe===O.TextRenderingMode.FILL||qe===O.TextRenderingMode.FILL_STROKE)&&ce.fillText(W,J,G),(qe===O.TextRenderingMode.STROKE||qe===O.TextRenderingMode.FILL_STROKE)&&ce.strokeText(W,J,G)),nt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,R.getCurrentTransform)(ce),x:J,y:G,fontSize:Ke,addToPath:bt})}get isFontSubpixelAAEnabled(){const{context:W}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);W.scale(1.5,1),W.fillText("I",0,10);const J=W.getImageData(0,0,10,10).data;let G=!1;for(let ie=3;ie<J.length;ie+=4)if(J[ie]>0&&J[ie]<255){G=!0;break}return(0,O.shadow)(this,"isFontSubpixelAAEnabled",G)}showText(W){const J=this.current,G=J.font;if(G.isType3Font)return this.showType3Text(W);const ie=J.fontSize;if(ie===0)return;const ce=this.ctx,ye=J.fontSizeScale,Ce=J.charSpacing,Re=J.wordSpacing,Ke=J.fontDirection,qe=J.textHScale*Ke,nt=W.length,ct=G.vertical,bt=ct?1:-1,dt=G.defaultVMetrics,pt=ie*J.fontMatrix[0],vt=J.textRenderingMode===O.TextRenderingMode.FILL&&!G.disableFontFace&&!J.patternFill;ce.save(),ce.transform(...J.textMatrix),ce.translate(J.x,J.y+J.textRise),Ke>0?ce.scale(qe,-1):ce.scale(qe,1);let mt;if(J.patternFill){ce.save();const lt=J.fillColor.getPattern(ce,this,(0,R.getCurrentTransformInverse)(ce),B.PathType.FILL);mt=(0,R.getCurrentTransform)(ce),ce.restore(),ce.fillStyle=lt}let Lt=J.lineWidth;const st=J.textMatrixScale;if(st===0||Lt===0){const lt=J.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;(lt===O.TextRenderingMode.STROKE||lt===O.TextRenderingMode.FILL_STROKE)&&(Lt=this.getSinglePixelWidth())}else Lt/=st;if(ye!==1&&(ce.scale(ye,ye),Lt/=ye),ce.lineWidth=Lt,G.isInvalidPDFjsFont){const lt=[];let Ct=0;for(const Pt of W)lt.push(Pt.unicode),Ct+=Pt.width;ce.fillText(lt.join(""),0,0),J.x+=Ct*pt*qe,ce.restore(),this.compose();return}let Ue=0,Ge;for(Ge=0;Ge<nt;++Ge){const lt=W[Ge];if(typeof lt=="number"){Ue+=bt*lt*ie/1e3;continue}let Ct=!1;const Pt=(lt.isSpace?Re:0)+Ce,Vt=lt.fontChar,Jt=lt.accent;let Xt,en,an=lt.width;if(ct){const un=lt.vmetric||dt,ut=-(lt.vmetric?un[1]:an*.5)*pt,We=un[2]*pt;an=un?-un[0]:an,Xt=ut/ye,en=(Ue+We)/ye}else Xt=Ue/ye,en=0;if(G.remeasure&&an>0){const un=ce.measureText(Vt).width*1e3/ie*ye;if(an<un&&this.isFontSubpixelAAEnabled){const ut=an/un;Ct=!0,ce.save(),ce.scale(ut,1),Xt/=ut}else an!==un&&(Xt+=(an-un)/2e3*ie/ye)}if(this.contentVisible&&(lt.isInFont||G.missingFile)){if(vt&&!Jt)ce.fillText(Vt,Xt,en);else if(this.paintChar(Vt,Xt,en,mt),Jt){const un=Xt+ie*Jt.offset.x/ye,ut=en-ie*Jt.offset.y/ye;this.paintChar(Jt.fontChar,un,ut,mt)}}const Wt=ct?an*pt-Pt*Ke:an*pt+Pt*Ke;Ue+=Wt,Ct&&ce.restore()}ct?J.y-=Ue:J.x+=Ue*qe,ce.restore(),this.compose()}showType3Text(W){const J=this.ctx,G=this.current,ie=G.font,ce=G.fontSize,ye=G.fontDirection,Ce=ie.vertical?1:-1,Re=G.charSpacing,Ke=G.wordSpacing,qe=G.textHScale*ye,nt=G.fontMatrix||O.FONT_IDENTITY_MATRIX,ct=W.length,bt=G.textRenderingMode===O.TextRenderingMode.INVISIBLE;let dt,pt,vt,mt;if(!(bt||ce===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,J.save(),J.transform(...G.textMatrix),J.translate(G.x,G.y),J.scale(qe,ye),dt=0;dt<ct;++dt){if(pt=W[dt],typeof pt=="number"){mt=Ce*pt*ce/1e3,this.ctx.translate(mt,0),G.x+=mt*qe;continue}const Lt=(pt.isSpace?Ke:0)+Re,st=ie.charProcOperatorList[pt.operatorListId];if(!st){(0,O.warn)(`Type3 character "${pt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=pt,this.save(),J.scale(ce,ce),J.transform(...nt),this.executeOperatorList(st),this.restore()),vt=O.Util.applyTransform([pt.width,0],nt)[0]*ce+Lt,J.translate(vt,0),G.x+=vt*qe}J.restore(),this.processingType3=null}}setCharWidth(W,J){}setCharWidthAndBounds(W,J,G,ie,ce,ye){this.ctx.rect(G,ie,ce-G,ye-ie),this.ctx.clip(),this.endPath()}getColorN_Pattern(W){let J;if(W[0]==="TilingPattern"){const G=W[1],ie=this.baseTransform||(0,R.getCurrentTransform)(this.ctx),ce={createCanvasGraphics:ye=>new St(ye,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};J=new B.TilingPattern(W,G,this.ctx,ce,ie)}else J=this._getPattern(W[1],W[2]);return J}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(W,J,G){const ie=O.Util.makeHexColor(W,J,G);this.ctx.strokeStyle=ie,this.current.strokeColor=ie}setFillRGBColor(W,J,G){const ie=O.Util.makeHexColor(W,J,G);this.ctx.fillStyle=ie,this.current.fillColor=ie,this.current.patternFill=!1}_getPattern(W,J=null){let G;return this.cachedPatterns.has(W)?G=this.cachedPatterns.get(W):(G=(0,B.getShadingPattern)(this.getObject(W)),this.cachedPatterns.set(W,G)),J&&(G.matrix=J),G}shadingFill(W){if(!this.contentVisible)return;const J=this.ctx;this.save();const G=this._getPattern(W);J.fillStyle=G.getPattern(J,this,(0,R.getCurrentTransformInverse)(J),B.PathType.SHADING);const ie=(0,R.getCurrentTransformInverse)(J);if(ie){const{width:ce,height:ye}=J.canvas,[Ce,Re,Ke,qe]=O.Util.getAxialAlignedBoundingBox([0,0,ce,ye],ie);this.ctx.fillRect(Ce,Re,Ke-Ce,qe-Re)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,O.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,O.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(W,J){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(W)&&W.length===6&&this.transform(...W),this.baseTransform=(0,R.getCurrentTransform)(this.ctx),J)){const G=J[2]-J[0],ie=J[3]-J[1];this.ctx.rect(J[0],J[1],G,ie),this.current.updateRectMinMax((0,R.getCurrentTransform)(this.ctx),J),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(W){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const J=this.ctx;W.isolated||(0,O.info)("TODO: Support non-isolated groups."),W.knockout&&(0,O.warn)("Knockout groups not supported.");const G=(0,R.getCurrentTransform)(J);if(W.matrix&&J.transform(...W.matrix),!W.bbox)throw new Error("Bounding box is required.");let ie=O.Util.getAxialAlignedBoundingBox(W.bbox,(0,R.getCurrentTransform)(J));const ce=[0,0,J.canvas.width,J.canvas.height];ie=O.Util.intersect(ie,ce)||[0,0,0,0];const ye=Math.floor(ie[0]),Ce=Math.floor(ie[1]);let Re=Math.max(Math.ceil(ie[2])-ye,1),Ke=Math.max(Math.ceil(ie[3])-Ce,1),qe=1,nt=1;Re>de&&(qe=Re/de,Re=de),Ke>de&&(nt=Ke/de,Ke=de),this.current.startNewPathAndClipBox([0,0,Re,Ke]);let ct="groupAt"+this.groupLevel;W.smask&&(ct+="_smask_"+this.smaskCounter++%2);const bt=this.cachedCanvases.getCanvas(ct,Re,Ke),dt=bt.context;dt.scale(1/qe,1/nt),dt.translate(-ye,-Ce),dt.transform(...G),W.smask?this.smaskStack.push({canvas:bt.canvas,context:dt,offsetX:ye,offsetY:Ce,scaleX:qe,scaleY:nt,subtype:W.smask.subtype,backdrop:W.smask.backdrop,transferMap:W.smask.transferMap||null,startTransformInverse:null}):(J.setTransform(1,0,0,1,0,0),J.translate(ye,Ce),J.scale(qe,nt),J.save()),ee(J,dt),this.ctx=dt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(J),this.groupLevel++}endGroup(W){if(!this.contentVisible)return;this.groupLevel--;const J=this.ctx,G=this.groupStack.pop();if(this.ctx=G,this.ctx.imageSmoothingEnabled=!1,W.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ie=(0,R.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ie);const ce=O.Util.getAxialAlignedBoundingBox([0,0,J.canvas.width,J.canvas.height],ie);this.ctx.drawImage(J.canvas,0,0),this.ctx.restore(),this.compose(ce)}}beginAnnotation(W,J,G,ie,ce){if(ze(this,Fe,Fi).call(this),ae(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(J)&&J.length===4){const ye=J[2]-J[0],Ce=J[3]-J[1];if(ce&&this.annotationCanvasMap){G=G.slice(),G[4]-=J[0],G[5]-=J[1],J=J.slice(),J[0]=J[1]=0,J[2]=ye,J[3]=Ce;const[Re,Ke]=O.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(this.ctx)),{viewportScale:qe}=this,nt=Math.ceil(ye*this.outputScaleX*qe),ct=Math.ceil(Ce*this.outputScaleY*qe);this.annotationCanvas=this.canvasFactory.create(nt,ct);const{canvas:bt,context:dt}=this.annotationCanvas;this.annotationCanvasMap.set(W,bt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=dt,this.ctx.save(),this.ctx.setTransform(Re,0,0,-Ke,0,Ce*Ke),ae(this.ctx)}else ae(this.ctx),this.ctx.rect(J[0],J[1],ye,Ce),this.ctx.clip(),this.endPath()}this.current=new se(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...G),this.transform(...ie)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ze(this,ot,Li).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(W){if(!this.contentVisible)return;const J=W.count;W=this.getObject(W.data,W),W.count=J;const G=this.ctx,ie=this.processingType3;if(ie&&(ie.compiled===void 0&&(ie.compiled=oe(W)),ie.compiled)){ie.compiled(G);return}const ce=this._createMaskCanvas(W),ye=ce.canvas;G.save(),G.setTransform(1,0,0,1,0,0),G.drawImage(ye,ce.offsetX,ce.offsetY),G.restore(),this.compose()}paintImageMaskXObjectRepeat(W,J,G=0,ie=0,ce,ye){if(!this.contentVisible)return;W=this.getObject(W.data,W);const Ce=this.ctx;Ce.save();const Re=(0,R.getCurrentTransform)(Ce);Ce.transform(J,G,ie,ce,0,0);const Ke=this._createMaskCanvas(W);Ce.setTransform(1,0,0,1,Ke.offsetX-Re[4],Ke.offsetY-Re[5]);for(let qe=0,nt=ye.length;qe<nt;qe+=2){const ct=O.Util.transform(Re,[J,G,ie,ce,ye[qe],ye[qe+1]]),[bt,dt]=O.Util.applyTransform([0,0],ct);Ce.drawImage(Ke.canvas,bt,dt)}Ce.restore(),this.compose()}paintImageMaskXObjectGroup(W){if(!this.contentVisible)return;const J=this.ctx,G=this.current.fillColor,ie=this.current.patternFill;for(const ce of W){const{data:ye,width:Ce,height:Re,transform:Ke}=ce,qe=this.cachedCanvases.getCanvas("maskCanvas",Ce,Re),nt=qe.context;nt.save();const ct=this.getObject(ye,ce);pe(nt,ct),nt.globalCompositeOperation="source-in",nt.fillStyle=ie?G.getPattern(nt,this,(0,R.getCurrentTransformInverse)(J),B.PathType.FILL):G,nt.fillRect(0,0,Ce,Re),nt.restore(),J.save(),J.transform(...Ke),J.scale(1,-1),q(J,qe.canvas,0,0,Ce,Re,0,-1,1,1),J.restore()}this.compose()}paintImageXObject(W){if(!this.contentVisible)return;const J=this.getObject(W);if(!J){(0,O.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(J)}paintImageXObjectRepeat(W,J,G,ie){if(!this.contentVisible)return;const ce=this.getObject(W);if(!ce){(0,O.warn)("Dependent image isn't ready yet");return}const ye=ce.width,Ce=ce.height,Re=[];for(let Ke=0,qe=ie.length;Ke<qe;Ke+=2)Re.push({transform:[J,0,0,G,ie[Ke],ie[Ke+1]],x:0,y:0,w:ye,h:Ce});this.paintInlineImageXObjectGroup(ce,Re)}applyTransferMapsToCanvas(W){return this.current.transferMaps!=="none"&&(W.filter=this.current.transferMaps,W.drawImage(W.canvas,0,0),W.filter="none"),W.canvas}applyTransferMapsToBitmap(W){if(this.current.transferMaps==="none")return W.bitmap;const{bitmap:J,width:G,height:ie}=W,ce=this.cachedCanvases.getCanvas("inlineImage",G,ie),ye=ce.context;return ye.filter=this.current.transferMaps,ye.drawImage(J,0,0),ye.filter="none",ce.canvas}paintInlineImageXObject(W){if(!this.contentVisible)return;const J=W.width,G=W.height,ie=this.ctx;if(this.save(),!O.isNodeJS){const{filter:Ce}=ie;Ce!=="none"&&Ce!==""&&(ie.filter="none")}ie.scale(1/J,-1/G);let ce;if(W.bitmap)ce=this.applyTransferMapsToBitmap(W);else if(typeof HTMLElement=="function"&&W instanceof HTMLElement||!W.data)ce=W;else{const Re=this.cachedCanvases.getCanvas("inlineImage",J,G).context;ue(Re,W),ce=this.applyTransferMapsToCanvas(Re)}const ye=this._scaleImage(ce,(0,R.getCurrentTransformInverse)(ie));ie.imageSmoothingEnabled=Pe((0,R.getCurrentTransform)(ie),W.interpolate),q(ie,ye.img,0,0,ye.paintWidth,ye.paintHeight,0,-G,J,G),this.compose(),this.restore()}paintInlineImageXObjectGroup(W,J){if(!this.contentVisible)return;const G=this.ctx;let ie;if(W.bitmap)ie=W.bitmap;else{const ce=W.width,ye=W.height,Re=this.cachedCanvases.getCanvas("inlineImage",ce,ye).context;ue(Re,W),ie=this.applyTransferMapsToCanvas(Re)}for(const ce of J)G.save(),G.transform(...ce.transform),G.scale(1,-1),q(G,ie,ce.x,ce.y,ce.w,ce.h,0,-1,1,1),G.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(W){}markPointProps(W,J){}beginMarkedContent(W){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(W,J){W==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(J)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(W){const J=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(W);const G=this.ctx;this.pendingClip&&(J||(this.pendingClip===Ve?G.clip("evenodd"):G.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),G.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const W=(0,R.getCurrentTransform)(this.ctx);if(W[1]===0&&W[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(W[0]),Math.abs(W[3]));else{const J=Math.abs(W[0]*W[3]-W[2]*W[1]),G=Math.hypot(W[0],W[2]),ie=Math.hypot(W[1],W[3]);this._cachedGetSinglePixelWidth=Math.max(G,ie)/J}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:W}=this.current,{a:J,b:G,c:ie,d:ce}=this.ctx.getTransform();let ye,Ce;if(G===0&&ie===0){const Re=Math.abs(J),Ke=Math.abs(ce);if(Re===Ke)if(W===0)ye=Ce=1/Re;else{const qe=Re*W;ye=Ce=qe<1?1/qe:1}else if(W===0)ye=1/Re,Ce=1/Ke;else{const qe=Re*W,nt=Ke*W;ye=qe<1?1/qe:1,Ce=nt<1?1/nt:1}}else{const Re=Math.abs(J*ce-G*ie),Ke=Math.hypot(J,G),qe=Math.hypot(ie,ce);if(W===0)ye=qe/Re,Ce=Ke/Re;else{const nt=W*Re;ye=qe>nt?qe/nt:1,Ce=Ke>nt?Ke/nt:1}}this._cachedScaleForStroking[0]=ye,this._cachedScaleForStroking[1]=Ce}return this._cachedScaleForStroking}rescaleAndStroke(W){const{ctx:J}=this,{lineWidth:G}=this.current,[ie,ce]=this.getScaleForStroking();if(J.lineWidth=G||1,ie===1&&ce===1){J.stroke();return}const ye=J.getLineDash();if(W&&J.save(),J.scale(ie,ce),ye.length>0){const Ce=Math.max(ie,ce);J.setLineDash(ye.map(Re=>Re/Ce)),J.lineDashOffset/=Ce}J.stroke(),W&&J.restore()}isContentVisible(){for(let W=this.markedContentStack.length-1;W>=0;W--)if(!this.markedContentStack[W].visible)return!1;return!0}};Fe=new WeakSet,Fi=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ot=new WeakSet,Li=function(){if(this.pageColors){const W=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(W!=="none"){const J=this.ctx.filter;this.ctx.filter=W,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=J}}};let et=St;$.CanvasGraphics=et;for(const we in O.OPS)et.prototype[we]!==void 0&&(et.prototype[O.OPS[we]]=et.prototype[we])},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=ne;var O=H(1),R=H(6);const B={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=B;function Y(oe,se){if(!se)return;const ue=se[2]-se[0],pe=se[3]-se[1],ee=new Path2D;ee.rect(se[0],se[1],ue,pe),oe.clip(ee)}class ve{constructor(){this.constructor===ve&&(0,O.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,O.unreachable)("Abstract method `getPattern` called.")}}class fe extends ve{constructor(se){super(),this._type=se[1],this._bbox=se[2],this._colorStops=se[3],this._p0=se[4],this._p1=se[5],this._r0=se[6],this._r1=se[7],this.matrix=null}_createGradient(se){let ue;this._type==="axial"?ue=se.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ue=se.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const pe of this._colorStops)ue.addColorStop(pe[0],pe[1]);return ue}getPattern(se,ue,pe,ee){let ae;if(ee===B.STROKE||ee===B.FILL){const Ae=ue.current.getClippedPathBoundingBox(ee,(0,R.getCurrentTransform)(se))||[0,0,0,0],ge=Math.ceil(Ae[2]-Ae[0])||1,te=Math.ceil(Ae[3]-Ae[1])||1,_e=ue.cachedCanvases.getCanvas("pattern",ge,te,!0),he=_e.context;he.clearRect(0,0,he.canvas.width,he.canvas.height),he.beginPath(),he.rect(0,0,he.canvas.width,he.canvas.height),he.translate(-Ae[0],-Ae[1]),pe=O.Util.transform(pe,[1,0,0,1,Ae[0],Ae[1]]),he.transform(...ue.baseTransform),this.matrix&&he.transform(...this.matrix),Y(he,this._bbox),he.fillStyle=this._createGradient(he),he.fill(),ae=se.createPattern(_e.canvas,"no-repeat");const Pe=new DOMMatrix(pe);ae.setTransform(Pe)}else Y(se,this._bbox),ae=this._createGradient(se);return ae}}function de(oe,se,ue,pe,ee,ae,Ae,ge){const te=se.coords,_e=se.colors,he=oe.data,Pe=oe.width*4;let De;te[ue+1]>te[pe+1]&&(De=ue,ue=pe,pe=De,De=ae,ae=Ae,Ae=De),te[pe+1]>te[ee+1]&&(De=pe,pe=ee,ee=De,De=Ae,Ae=ge,ge=De),te[ue+1]>te[pe+1]&&(De=ue,ue=pe,pe=De,De=ae,ae=Ae,Ae=De);const be=(te[ue]+se.offsetX)*se.scaleX,$e=(te[ue+1]+se.offsetY)*se.scaleY,Ve=(te[pe]+se.offsetX)*se.scaleX,et=(te[pe+1]+se.offsetY)*se.scaleY,Fe=(te[ee]+se.offsetX)*se.scaleX,rt=(te[ee+1]+se.offsetY)*se.scaleY;if($e>=rt)return;const ot=_e[ae],ft=_e[ae+1],St=_e[ae+2],we=_e[Ae],W=_e[Ae+1],J=_e[Ae+2],G=_e[ge],ie=_e[ge+1],ce=_e[ge+2],ye=Math.round($e),Ce=Math.round(rt);let Re,Ke,qe,nt,ct,bt,dt,pt;for(let vt=ye;vt<=Ce;vt++){if(vt<et){const Ge=vt<$e?0:($e-vt)/($e-et);Re=be-(be-Ve)*Ge,Ke=ot-(ot-we)*Ge,qe=ft-(ft-W)*Ge,nt=St-(St-J)*Ge}else{let Ge;vt>rt?Ge=1:et===rt?Ge=0:Ge=(et-vt)/(et-rt),Re=Ve-(Ve-Fe)*Ge,Ke=we-(we-G)*Ge,qe=W-(W-ie)*Ge,nt=J-(J-ce)*Ge}let mt;vt<$e?mt=0:vt>rt?mt=1:mt=($e-vt)/($e-rt),ct=be-(be-Fe)*mt,bt=ot-(ot-G)*mt,dt=ft-(ft-ie)*mt,pt=St-(St-ce)*mt;const Lt=Math.round(Math.min(Re,ct)),st=Math.round(Math.max(Re,ct));let Ue=Pe*vt+Lt*4;for(let Ge=Lt;Ge<=st;Ge++)mt=(Re-Ge)/(Re-ct),mt<0?mt=0:mt>1&&(mt=1),he[Ue++]=Ke-(Ke-bt)*mt|0,he[Ue++]=qe-(qe-dt)*mt|0,he[Ue++]=nt-(nt-pt)*mt|0,he[Ue++]=255}}function K(oe,se,ue){const pe=se.coords,ee=se.colors;let ae,Ae;switch(se.type){case"lattice":const ge=se.verticesPerRow,te=Math.floor(pe.length/ge)-1,_e=ge-1;for(ae=0;ae<te;ae++){let he=ae*ge;for(let Pe=0;Pe<_e;Pe++,he++)de(oe,ue,pe[he],pe[he+1],pe[he+ge],ee[he],ee[he+1],ee[he+ge]),de(oe,ue,pe[he+ge+1],pe[he+1],pe[he+ge],ee[he+ge+1],ee[he+1],ee[he+ge])}break;case"triangles":for(ae=0,Ae=pe.length;ae<Ae;ae+=3)de(oe,ue,pe[ae],pe[ae+1],pe[ae+2],ee[ae],ee[ae+1],ee[ae+2]);break;default:throw new Error("illegal figure")}}class Ee extends ve{constructor(se){super(),this._coords=se[2],this._colors=se[3],this._figures=se[4],this._bounds=se[5],this._bbox=se[7],this._background=se[8],this.matrix=null}_createMeshCanvas(se,ue,pe){const ge=Math.floor(this._bounds[0]),te=Math.floor(this._bounds[1]),_e=Math.ceil(this._bounds[2])-ge,he=Math.ceil(this._bounds[3])-te,Pe=Math.min(Math.ceil(Math.abs(_e*se[0]*1.1)),3e3),De=Math.min(Math.ceil(Math.abs(he*se[1]*1.1)),3e3),be=_e/Pe,$e=he/De,Ve={coords:this._coords,colors:this._colors,offsetX:-ge,offsetY:-te,scaleX:1/be,scaleY:1/$e},et=Pe+2*2,Fe=De+2*2,rt=pe.getCanvas("mesh",et,Fe,!1),ot=rt.context,ft=ot.createImageData(Pe,De);if(ue){const we=ft.data;for(let W=0,J=we.length;W<J;W+=4)we[W]=ue[0],we[W+1]=ue[1],we[W+2]=ue[2],we[W+3]=255}for(const we of this._figures)K(ft,we,Ve);return ot.putImageData(ft,2,2),{canvas:rt.canvas,offsetX:ge-2*be,offsetY:te-2*$e,scaleX:be,scaleY:$e}}getPattern(se,ue,pe,ee){Y(se,this._bbox);let ae;if(ee===B.SHADING)ae=O.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(se));else if(ae=O.Util.singularValueDecompose2dScale(ue.baseTransform),this.matrix){const ge=O.Util.singularValueDecompose2dScale(this.matrix);ae=[ae[0]*ge[0],ae[1]*ge[1]]}const Ae=this._createMeshCanvas(ae,ee===B.SHADING?null:this._background,ue.cachedCanvases);return ee!==B.SHADING&&(se.setTransform(...ue.baseTransform),this.matrix&&se.transform(...this.matrix)),se.translate(Ae.offsetX,Ae.offsetY),se.scale(Ae.scaleX,Ae.scaleY),se.createPattern(Ae.canvas,"no-repeat")}}class le extends ve{getPattern(){return"hotpink"}}function ne(oe){switch(oe[0]){case"RadialAxial":return new fe(oe);case"Mesh":return new Ee(oe);case"Dummy":return new le}throw new Error(`Unknown IR type: ${oe[0]}`)}const re={COLORED:1,UNCOLORED:2},q=class q{constructor(se,ue,pe,ee,ae){this.operatorList=se[2],this.matrix=se[3]||[1,0,0,1,0,0],this.bbox=se[4],this.xstep=se[5],this.ystep=se[6],this.paintType=se[7],this.tilingType=se[8],this.color=ue,this.ctx=pe,this.canvasGraphicsFactory=ee,this.baseTransform=ae}createPatternCanvas(se){const ue=this.operatorList,pe=this.bbox,ee=this.xstep,ae=this.ystep,Ae=this.paintType,ge=this.tilingType,te=this.color,_e=this.canvasGraphicsFactory;(0,O.info)("TilingType: "+ge);const he=pe[0],Pe=pe[1],De=pe[2],be=pe[3],$e=O.Util.singularValueDecompose2dScale(this.matrix),Ve=O.Util.singularValueDecompose2dScale(this.baseTransform),et=[$e[0]*Ve[0],$e[1]*Ve[1]],Fe=this.getSizeAndScale(ee,this.ctx.canvas.width,et[0]),rt=this.getSizeAndScale(ae,this.ctx.canvas.height,et[1]),ot=se.cachedCanvases.getCanvas("pattern",Fe.size,rt.size,!0),ft=ot.context,St=_e.createCanvasGraphics(ft);St.groupLevel=se.groupLevel,this.setFillAndStrokeStyleToContext(St,Ae,te);let we=he,W=Pe,J=De,G=be;return he<0&&(we=0,J+=Math.abs(he)),Pe<0&&(W=0,G+=Math.abs(Pe)),ft.translate(-(Fe.scale*we),-(rt.scale*W)),St.transform(Fe.scale,0,0,rt.scale,0,0),ft.save(),this.clipBbox(St,we,W,J,G),St.baseTransform=(0,R.getCurrentTransform)(St.ctx),St.executeOperatorList(ue),St.endDrawing(),{canvas:ot.canvas,scaleX:Fe.scale,scaleY:rt.scale,offsetX:we,offsetY:W}}getSizeAndScale(se,ue,pe){se=Math.abs(se);const ee=Math.max(q.MAX_PATTERN_SIZE,ue);let ae=Math.ceil(se*pe);return ae>=ee?ae=ee:pe=ae/se,{scale:pe,size:ae}}clipBbox(se,ue,pe,ee,ae){const Ae=ee-ue,ge=ae-pe;se.ctx.rect(ue,pe,Ae,ge),se.current.updateRectMinMax((0,R.getCurrentTransform)(se.ctx),[ue,pe,ee,ae]),se.clip(),se.endPath()}setFillAndStrokeStyleToContext(se,ue,pe){const ee=se.ctx,ae=se.current;switch(ue){case re.COLORED:const Ae=this.ctx;ee.fillStyle=Ae.fillStyle,ee.strokeStyle=Ae.strokeStyle,ae.fillColor=Ae.fillStyle,ae.strokeColor=Ae.strokeStyle;break;case re.UNCOLORED:const ge=O.Util.makeHexColor(pe[0],pe[1],pe[2]);ee.fillStyle=ge,ee.strokeStyle=ge,ae.fillColor=ge,ae.strokeColor=ge;break;default:throw new O.FormatError(`Unsupported paint type: ${ue}`)}}getPattern(se,ue,pe,ee){let ae=pe;ee!==B.SHADING&&(ae=O.Util.transform(ae,ue.baseTransform),this.matrix&&(ae=O.Util.transform(ae,this.matrix)));const Ae=this.createPatternCanvas(ue);let ge=new DOMMatrix(ae);ge=ge.translate(Ae.offsetX,Ae.offsetY),ge=ge.scale(1/Ae.scaleX,1/Ae.scaleY);const te=se.createPattern(Ae.canvas,"repeat");return te.setTransform(ge),te}};On(q,"MAX_PATTERN_SIZE",3e3);let Q=q;$.TilingPattern=Q},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=B,$.convertToRGBA=R,$.grayToRGBA=ve;var O=H(1);function R(fe){switch(fe.kind){case O.ImageKind.GRAYSCALE_1BPP:return B(fe);case O.ImageKind.RGB_24BPP:return Y(fe)}return null}function B({src:fe,srcPos:de=0,dest:K,width:Ee,height:le,nonBlackColor:ne=4294967295,inverseDecode:re=!1}){const Q=O.FeatureTest.isLittleEndian?4278190080:255,[q,oe]=re?[ne,Q]:[Q,ne],se=Ee>>3,ue=Ee&7,pe=fe.length;K=new Uint32Array(K.buffer);let ee=0;for(let ae=0;ae<le;ae++){for(const ge=de+se;de<ge;de++){const te=de<pe?fe[de]:255;K[ee++]=te&128?oe:q,K[ee++]=te&64?oe:q,K[ee++]=te&32?oe:q,K[ee++]=te&16?oe:q,K[ee++]=te&8?oe:q,K[ee++]=te&4?oe:q,K[ee++]=te&2?oe:q,K[ee++]=te&1?oe:q}if(ue===0)continue;const Ae=de<pe?fe[de++]:255;for(let ge=0;ge<ue;ge++)K[ee++]=Ae&1<<7-ge?oe:q}return{srcPos:de,destPos:ee}}function Y({src:fe,srcPos:de=0,dest:K,destPos:Ee=0,width:le,height:ne}){let re=0;const Q=fe.length>>2,q=new Uint32Array(fe.buffer,de,Q);if(O.FeatureTest.isLittleEndian){for(;re<Q-2;re+=3,Ee+=4){const oe=q[re],se=q[re+1],ue=q[re+2];K[Ee]=oe|4278190080,K[Ee+1]=oe>>>24|se<<8|4278190080,K[Ee+2]=se>>>16|ue<<16|4278190080,K[Ee+3]=ue>>>8|4278190080}for(let oe=re*4,se=fe.length;oe<se;oe+=3)K[Ee++]=fe[oe]|fe[oe+1]<<8|fe[oe+2]<<16|4278190080}else{for(;re<Q-2;re+=3,Ee+=4){const oe=q[re],se=q[re+1],ue=q[re+2];K[Ee]=oe|255,K[Ee+1]=oe<<24|se>>>8|255,K[Ee+2]=se<<16|ue>>>16|255,K[Ee+3]=ue<<8|255}for(let oe=re*4,se=fe.length;oe<se;oe+=3)K[Ee++]=fe[oe]<<24|fe[oe+1]<<16|fe[oe+2]<<8|255}return{srcPos:de,destPos:Ee}}function ve(fe,de){if(O.FeatureTest.isLittleEndian)for(let K=0,Ee=fe.length;K<Ee;K++)de[K]=fe[K]*65793|4278190080;else for(let K=0,Ee=fe.length;K<Ee;K++)de[K]=fe[K]*16843008|255}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const H=Object.create(null);$.GlobalWorkerOptions=H,H.workerPort=null,H.workerSrc=""},(A,$,H)=>{var fe,Pa,K,ka,le,Zr;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var O=H(1);const R={UNKNOWN:0,DATA:1,ERROR:2},B={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Y(re){switch(re instanceof Error||typeof re=="object"&&re!==null||(0,O.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),re.name){case"AbortException":return new O.AbortException(re.message);case"MissingPDFException":return new O.MissingPDFException(re.message);case"PasswordException":return new O.PasswordException(re.message,re.code);case"UnexpectedResponseException":return new O.UnexpectedResponseException(re.message,re.status);case"UnknownErrorException":return new O.UnknownErrorException(re.message,re.details);default:return new O.UnknownErrorException(re.message,re.toString())}}class ve{constructor(Q,q,oe){Te(this,fe);Te(this,K);Te(this,le);this.sourceName=Q,this.targetName=q,this.comObj=oe,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=se=>{const ue=se.data;if(ue.targetName!==this.sourceName)return;if(ue.stream){ze(this,K,ka).call(this,ue);return}if(ue.callback){const ee=ue.callbackId,ae=this.callbackCapabilities[ee];if(!ae)throw new Error(`Cannot resolve callback ${ee}`);if(delete this.callbackCapabilities[ee],ue.callback===R.DATA)ae.resolve(ue.data);else if(ue.callback===R.ERROR)ae.reject(Y(ue.reason));else throw new Error("Unexpected callback case");return}const pe=this.actionHandler[ue.action];if(!pe)throw new Error(`Unknown action from worker: ${ue.action}`);if(ue.callbackId){const ee=this.sourceName,ae=ue.sourceName;new Promise(function(Ae){Ae(pe(ue.data))}).then(function(Ae){oe.postMessage({sourceName:ee,targetName:ae,callback:R.DATA,callbackId:ue.callbackId,data:Ae})},function(Ae){oe.postMessage({sourceName:ee,targetName:ae,callback:R.ERROR,callbackId:ue.callbackId,reason:Y(Ae)})});return}if(ue.streamId){ze(this,fe,Pa).call(this,ue);return}pe(ue.data)},oe.addEventListener("message",this._onComObjOnMessage)}on(Q,q){const oe=this.actionHandler;if(oe[Q])throw new Error(`There is already an actionName called "${Q}"`);oe[Q]=q}send(Q,q,oe){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Q,data:q},oe)}sendWithPromise(Q,q,oe){const se=this.callbackId++,ue=new O.PromiseCapability;this.callbackCapabilities[se]=ue;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Q,callbackId:se,data:q},oe)}catch(pe){ue.reject(pe)}return ue.promise}sendWithStream(Q,q,oe,se){const ue=this.streamId++,pe=this.sourceName,ee=this.targetName,ae=this.comObj;return new ReadableStream({start:Ae=>{const ge=new O.PromiseCapability;return this.streamControllers[ue]={controller:Ae,startCall:ge,pullCall:null,cancelCall:null,isClosed:!1},ae.postMessage({sourceName:pe,targetName:ee,action:Q,streamId:ue,data:q,desiredSize:Ae.desiredSize},se),ge.promise},pull:Ae=>{const ge=new O.PromiseCapability;return this.streamControllers[ue].pullCall=ge,ae.postMessage({sourceName:pe,targetName:ee,stream:B.PULL,streamId:ue,desiredSize:Ae.desiredSize}),ge.promise},cancel:Ae=>{(0,O.assert)(Ae instanceof Error,"cancel must have a valid reason");const ge=new O.PromiseCapability;return this.streamControllers[ue].cancelCall=ge,this.streamControllers[ue].isClosed=!0,ae.postMessage({sourceName:pe,targetName:ee,stream:B.CANCEL,streamId:ue,reason:Y(Ae)}),ge.promise}},oe)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}fe=new WeakSet,Pa=function(Q){const q=Q.streamId,oe=this.sourceName,se=Q.sourceName,ue=this.comObj,pe=this,ee=this.actionHandler[Q.action],ae={enqueue(Ae,ge=1,te){if(this.isCancelled)return;const _e=this.desiredSize;this.desiredSize-=ge,_e>0&&this.desiredSize<=0&&(this.sinkCapability=new O.PromiseCapability,this.ready=this.sinkCapability.promise),ue.postMessage({sourceName:oe,targetName:se,stream:B.ENQUEUE,streamId:q,chunk:Ae},te)},close(){this.isCancelled||(this.isCancelled=!0,ue.postMessage({sourceName:oe,targetName:se,stream:B.CLOSE,streamId:q}),delete pe.streamSinks[q])},error(Ae){(0,O.assert)(Ae instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ue.postMessage({sourceName:oe,targetName:se,stream:B.ERROR,streamId:q,reason:Y(Ae)}))},sinkCapability:new O.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:Q.desiredSize,ready:null};ae.sinkCapability.resolve(),ae.ready=ae.sinkCapability.promise,this.streamSinks[q]=ae,new Promise(function(Ae){Ae(ee(Q.data,ae))}).then(function(){ue.postMessage({sourceName:oe,targetName:se,stream:B.START_COMPLETE,streamId:q,success:!0})},function(Ae){ue.postMessage({sourceName:oe,targetName:se,stream:B.START_COMPLETE,streamId:q,reason:Y(Ae)})})},K=new WeakSet,ka=function(Q){const q=Q.streamId,oe=this.sourceName,se=Q.sourceName,ue=this.comObj,pe=this.streamControllers[q],ee=this.streamSinks[q];switch(Q.stream){case B.START_COMPLETE:Q.success?pe.startCall.resolve():pe.startCall.reject(Y(Q.reason));break;case B.PULL_COMPLETE:Q.success?pe.pullCall.resolve():pe.pullCall.reject(Y(Q.reason));break;case B.PULL:if(!ee){ue.postMessage({sourceName:oe,targetName:se,stream:B.PULL_COMPLETE,streamId:q,success:!0});break}ee.desiredSize<=0&&Q.desiredSize>0&&ee.sinkCapability.resolve(),ee.desiredSize=Q.desiredSize,new Promise(function(ae){var Ae;ae((Ae=ee.onPull)==null?void 0:Ae.call(ee))}).then(function(){ue.postMessage({sourceName:oe,targetName:se,stream:B.PULL_COMPLETE,streamId:q,success:!0})},function(ae){ue.postMessage({sourceName:oe,targetName:se,stream:B.PULL_COMPLETE,streamId:q,reason:Y(ae)})});break;case B.ENQUEUE:if((0,O.assert)(pe,"enqueue should have stream controller"),pe.isClosed)break;pe.controller.enqueue(Q.chunk);break;case B.CLOSE:if((0,O.assert)(pe,"close should have stream controller"),pe.isClosed)break;pe.isClosed=!0,pe.controller.close(),ze(this,le,Zr).call(this,pe,q);break;case B.ERROR:(0,O.assert)(pe,"error should have stream controller"),pe.controller.error(Y(Q.reason)),ze(this,le,Zr).call(this,pe,q);break;case B.CANCEL_COMPLETE:Q.success?pe.cancelCall.resolve():pe.cancelCall.reject(Y(Q.reason)),ze(this,le,Zr).call(this,pe,q);break;case B.CANCEL:if(!ee)break;new Promise(function(ae){var Ae;ae((Ae=ee.onCancel)==null?void 0:Ae.call(ee,Y(Q.reason)))}).then(function(){ue.postMessage({sourceName:oe,targetName:se,stream:B.CANCEL_COMPLETE,streamId:q,success:!0})},function(ae){ue.postMessage({sourceName:oe,targetName:se,stream:B.CANCEL_COMPLETE,streamId:q,reason:Y(ae)})}),ee.sinkCapability.reject(Y(Q.reason)),ee.isCancelled=!0,delete this.streamSinks[q];break;default:throw new Error("Unexpected stream case")}},le=new WeakSet,Zr=async function(Q,q){var oe,se,ue;await Promise.allSettled([(oe=Q.startCall)==null?void 0:oe.promise,(se=Q.pullCall)==null?void 0:se.promise,(ue=Q.cancelCall)==null?void 0:ue.promise]),delete this.streamControllers[q]},$.MessageHandler=ve},(A,$,H)=>{var B,Y;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var O=H(1);class R{constructor({parsedData:fe,rawData:de}){Te(this,B,void 0);Te(this,Y,void 0);it(this,B,fe),it(this,Y,de)}getRaw(){return V(this,Y)}get(fe){return V(this,B).get(fe)??null}getAll(){return(0,O.objectFromMap)(V(this,B))}has(fe){return V(this,B).has(fe)}}B=new WeakMap,Y=new WeakMap,$.Metadata=R},(A,$,H)=>{var fe,de,K,Ee,le,ne,Ii;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var O=H(1),R=H(8);const B=Symbol("INTERNAL");class Y{constructor(q,oe){Te(this,fe,!0);this.name=q,this.intent=oe}get visible(){return V(this,fe)}_setVisible(q,oe){q!==B&&(0,O.unreachable)("Internal method `_setVisible` called."),it(this,fe,oe)}}fe=new WeakMap;class ve{constructor(q){Te(this,ne);Te(this,de,null);Te(this,K,new Map);Te(this,Ee,null);Te(this,le,null);if(this.name=null,this.creator=null,q!==null){this.name=q.name,this.creator=q.creator,it(this,le,q.order);for(const oe of q.groups)V(this,K).set(oe.id,new Y(oe.name,oe.intent));if(q.baseState==="OFF")for(const oe of V(this,K).values())oe._setVisible(B,!1);for(const oe of q.on)V(this,K).get(oe)._setVisible(B,!0);for(const oe of q.off)V(this,K).get(oe)._setVisible(B,!1);it(this,Ee,this.getHash())}}isVisible(q){if(V(this,K).size===0)return!0;if(!q)return(0,O.warn)("Optional content group not defined."),!0;if(q.type==="OCG")return V(this,K).has(q.id)?V(this,K).get(q.id).visible:((0,O.warn)(`Optional content group not found: ${q.id}`),!0);if(q.type==="OCMD"){if(q.expression)return ze(this,ne,Ii).call(this,q.expression);if(!q.policy||q.policy==="AnyOn"){for(const oe of q.ids){if(!V(this,K).has(oe))return(0,O.warn)(`Optional content group not found: ${oe}`),!0;if(V(this,K).get(oe).visible)return!0}return!1}else if(q.policy==="AllOn"){for(const oe of q.ids){if(!V(this,K).has(oe))return(0,O.warn)(`Optional content group not found: ${oe}`),!0;if(!V(this,K).get(oe).visible)return!1}return!0}else if(q.policy==="AnyOff"){for(const oe of q.ids){if(!V(this,K).has(oe))return(0,O.warn)(`Optional content group not found: ${oe}`),!0;if(!V(this,K).get(oe).visible)return!0}return!1}else if(q.policy==="AllOff"){for(const oe of q.ids){if(!V(this,K).has(oe))return(0,O.warn)(`Optional content group not found: ${oe}`),!0;if(V(this,K).get(oe).visible)return!1}return!0}return(0,O.warn)(`Unknown optional content policy ${q.policy}.`),!0}return(0,O.warn)(`Unknown group type ${q.type}.`),!0}setVisibility(q,oe=!0){if(!V(this,K).has(q)){(0,O.warn)(`Optional content group not found: ${q}`);return}V(this,K).get(q)._setVisible(B,!!oe),it(this,de,null)}get hasInitialVisibility(){return V(this,Ee)===null||this.getHash()===V(this,Ee)}getOrder(){return V(this,K).size?V(this,le)?V(this,le).slice():[...V(this,K).keys()]:null}getGroups(){return V(this,K).size>0?(0,O.objectFromMap)(V(this,K)):null}getGroup(q){return V(this,K).get(q)||null}getHash(){if(V(this,de)!==null)return V(this,de);const q=new R.MurmurHash3_64;for(const[oe,se]of V(this,K))q.update(`${oe}:${se.visible}`);return it(this,de,q.hexdigest())}}de=new WeakMap,K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakSet,Ii=function(q){const oe=q.length;if(oe<2)return!0;const se=q[0];for(let ue=1;ue<oe;ue++){const pe=q[ue];let ee;if(Array.isArray(pe))ee=ze(this,ne,Ii).call(this,pe);else if(V(this,K).has(pe))ee=V(this,K).get(pe).visible;else return(0,O.warn)(`Optional content group not found: ${pe}`),!0;switch(se){case"And":if(!ee)return!1;break;case"Or":if(ee)return!0;break;case"Not":return!ee;default:return!0}}return se==="And"},$.OptionalContentConfig=ve},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var O=H(1),R=H(6);class B{constructor({length:de,initialData:K,progressiveDone:Ee=!1,contentDispositionFilename:le=null,disableRange:ne=!1,disableStream:re=!1},Q){if((0,O.assert)(Q,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Ee,this._contentDispositionFilename=le,(K==null?void 0:K.length)>0){const q=K instanceof Uint8Array&&K.byteLength===K.buffer.byteLength?K.buffer:new Uint8Array(K).buffer;this._queuedChunks.push(q)}this._pdfDataRangeTransport=Q,this._isStreamingSupported=!re,this._isRangeSupported=!ne,this._contentLength=de,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((q,oe)=>{this._onReceiveData({begin:q,chunk:oe})}),this._pdfDataRangeTransport.addProgressListener((q,oe)=>{this._onProgress({loaded:q,total:oe})}),this._pdfDataRangeTransport.addProgressiveReadListener(q=>{this._onReceiveData({chunk:q})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:de,chunk:K}){const Ee=K instanceof Uint8Array&&K.byteLength===K.buffer.byteLength?K.buffer:new Uint8Array(K).buffer;if(de===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Ee):this._queuedChunks.push(Ee);else{const le=this._rangeReaders.some(function(ne){return ne._begin!==de?!1:(ne._enqueue(Ee),!0)});(0,O.assert)(le,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var de;return((de=this._fullRequestReader)==null?void 0:de._loaded)??0}_onProgress(de){var K,Ee,le,ne;de.total===void 0?(Ee=(K=this._rangeReaders[0])==null?void 0:K.onProgress)==null||Ee.call(K,{loaded:de.loaded}):(ne=(le=this._fullRequestReader)==null?void 0:le.onProgress)==null||ne.call(le,{loaded:de.loaded,total:de.total})}_onProgressiveDone(){var de;(de=this._fullRequestReader)==null||de.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(de){const K=this._rangeReaders.indexOf(de);K>=0&&this._rangeReaders.splice(K,1)}getFullReader(){(0,O.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const de=this._queuedChunks;return this._queuedChunks=null,new Y(this,de,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(de,K){if(K<=this._progressiveDataLength)return null;const Ee=new ve(this,de,K);return this._pdfDataRangeTransport.requestDataRange(de,K),this._rangeReaders.push(Ee),Ee}cancelAllRequests(de){var K;(K=this._fullRequestReader)==null||K.cancel(de);for(const Ee of this._rangeReaders.slice(0))Ee.cancel(de);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=B;class Y{constructor(de,K,Ee=!1,le=null){this._stream=de,this._done=Ee||!1,this._filename=(0,R.isPdfFile)(le)?le:null,this._queuedChunks=K||[],this._loaded=0;for(const ne of this._queuedChunks)this._loaded+=ne.byteLength;this._requests=[],this._headersReady=Promise.resolve(),de._fullRequestReader=this,this.onProgress=null}_enqueue(de){this._done||(this._requests.length>0?this._requests.shift().resolve({value:de,done:!1}):this._queuedChunks.push(de),this._loaded+=de.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const de=new O.PromiseCapability;return this._requests.push(de),de.promise}cancel(de){this._done=!0;for(const K of this._requests)K.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ve{constructor(de,K,Ee){this._stream=de,this._begin=K,this._end=Ee,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(de){if(!this._done){if(this._requests.length===0)this._queuedChunk=de;else{this._requests.shift().resolve({value:de,done:!1});for(const Ee of this._requests)Ee.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const K=this._queuedChunk;return this._queuedChunk=null,{value:K,done:!1}}if(this._done)return{value:void 0,done:!0};const de=new O.PromiseCapability;return this._requests.push(de),de.promise}cancel(de){this._done=!0;for(const K of this._requests)K.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var O=H(1),R=H(20);function B(Ee,le,ne){return{method:"GET",headers:Ee,signal:ne.signal,mode:"cors",credentials:le?"include":"same-origin",redirect:"follow"}}function Y(Ee){const le=new Headers;for(const ne in Ee){const re=Ee[ne];re!==void 0&&le.append(ne,re)}return le}function ve(Ee){return Ee instanceof Uint8Array?Ee.buffer:Ee instanceof ArrayBuffer?Ee:((0,O.warn)(`getArrayBuffer - unexpected data format: ${Ee}`),new Uint8Array(Ee).buffer)}class fe{constructor(le){this.source=le,this.isHttp=/^https?:/i.test(le.url),this.httpHeaders=this.isHttp&&le.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var le;return((le=this._fullRequestReader)==null?void 0:le._loaded)??0}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new de(this),this._fullRequestReader}getRangeReader(le,ne){if(ne<=this._progressiveDataLength)return null;const re=new K(this,le,ne);return this._rangeRequestReaders.push(re),re}cancelAllRequests(le){var ne;(ne=this._fullRequestReader)==null||ne.cancel(le);for(const re of this._rangeRequestReaders.slice(0))re.cancel(le)}}$.PDFFetchStream=fe;class de{constructor(le){this._stream=le,this._reader=null,this._loaded=0,this._filename=null;const ne=le.source;this._withCredentials=ne.withCredentials||!1,this._contentLength=ne.length,this._headersCapability=new O.PromiseCapability,this._disableRange=ne.disableRange||!1,this._rangeChunkSize=ne.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ne.disableStream,this._isRangeSupported=!ne.disableRange,this._headers=Y(this._stream.httpHeaders);const re=ne.url;fetch(re,B(this._headers,this._withCredentials,this._abortController)).then(Q=>{if(!(0,R.validateResponseStatus)(Q.status))throw(0,R.createResponseStatusError)(Q.status,re);this._reader=Q.body.getReader(),this._headersCapability.resolve();const q=ue=>Q.headers.get(ue),{allowRangeRequests:oe,suggestedLength:se}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:q,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=oe,this._contentLength=se||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(q),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new O.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._headersCapability.promise;const{value:le,done:ne}=await this._reader.read();return ne?{value:le,done:ne}:(this._loaded+=le.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ve(le),done:!1})}cancel(le){var ne;(ne=this._reader)==null||ne.cancel(le),this._abortController.abort()}}class K{constructor(le,ne,re){this._stream=le,this._reader=null,this._loaded=0;const Q=le.source;this._withCredentials=Q.withCredentials||!1,this._readCapability=new O.PromiseCapability,this._isStreamingSupported=!Q.disableStream,this._abortController=new AbortController,this._headers=Y(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ne}-${re-1}`);const q=Q.url;fetch(q,B(this._headers,this._withCredentials,this._abortController)).then(oe=>{if(!(0,R.validateResponseStatus)(oe.status))throw(0,R.createResponseStatusError)(oe.status,q);this._readCapability.resolve(),this._reader=oe.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._readCapability.promise;const{value:le,done:ne}=await this._reader.read();return ne?{value:le,done:ne}:(this._loaded+=le.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded}),{value:ve(le),done:!1})}cancel(le){var ne;(ne=this._reader)==null||ne.cancel(le),this._abortController.abort()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=fe,$.extractFilenameFromHeader=ve,$.validateRangeRequestCapabilities=Y,$.validateResponseStatus=de;var O=H(1),R=H(21),B=H(6);function Y({getResponseHeader:K,isHttp:Ee,rangeChunkSize:le,disableRange:ne}){const re={allowRangeRequests:!1,suggestedLength:void 0},Q=parseInt(K("Content-Length"),10);return!Number.isInteger(Q)||(re.suggestedLength=Q,Q<=2*le)||ne||!Ee||K("Accept-Ranges")!=="bytes"||(K("Content-Encoding")||"identity")!=="identity"||(re.allowRangeRequests=!0),re}function ve(K){const Ee=K("Content-Disposition");if(Ee){let le=(0,R.getFilenameFromContentDispositionHeader)(Ee);if(le.includes("%"))try{le=decodeURIComponent(le)}catch{}if((0,B.isPdfFile)(le))return le}return null}function fe(K,Ee){return K===404||K===0&&Ee.startsWith("file:")?new O.MissingPDFException('Missing PDF "'+Ee+'".'):new O.UnexpectedResponseException(`Unexpected server response (${K}) while retrieving PDF "${Ee}".`,K)}function de(K){return K===200||K===206}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=R;var O=H(1);function R(B){let Y=!0,ve=fe("filename\\*","i").exec(B);if(ve){ve=ve[1];let Q=le(ve);return Q=unescape(Q),Q=ne(Q),Q=re(Q),K(Q)}if(ve=Ee(B),ve){const Q=re(ve);return K(Q)}if(ve=fe("filename","i").exec(B),ve){ve=ve[1];let Q=le(ve);return Q=re(Q),K(Q)}function fe(Q,q){return new RegExp("(?:^|;)\\s*"+Q+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',q)}function de(Q,q){if(Q){if(!/^[\x00-\xFF]+$/.test(q))return q;try{const oe=new TextDecoder(Q,{fatal:!0}),se=(0,O.stringToBytes)(q);q=oe.decode(se),Y=!1}catch{}}return q}function K(Q){return Y&&/[\x80-\xff]/.test(Q)&&(Q=de("utf-8",Q),Y&&(Q=de("iso-8859-1",Q))),Q}function Ee(Q){const q=[];let oe;const se=fe("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(oe=se.exec(Q))!==null;){let[,pe,ee,ae]=oe;if(pe=parseInt(pe,10),pe in q){if(pe===0)break;continue}q[pe]=[ee,ae]}const ue=[];for(let pe=0;pe<q.length&&pe in q;++pe){let[ee,ae]=q[pe];ae=le(ae),ee&&(ae=unescape(ae),pe===0&&(ae=ne(ae))),ue.push(ae)}return ue.join("")}function le(Q){if(Q.startsWith('"')){const q=Q.slice(1).split('\\"');for(let oe=0;oe<q.length;++oe){const se=q[oe].indexOf('"');se!==-1&&(q[oe]=q[oe].slice(0,se),q.length=oe+1),q[oe]=q[oe].replaceAll(/\\(.)/g,"$1")}Q=q.join('"')}return Q}function ne(Q){const q=Q.indexOf("'");if(q===-1)return Q;const oe=Q.slice(0,q),ue=Q.slice(q+1).replace(/^[^']*'/,"");return de(oe,ue)}function re(Q){return!Q.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Q)?Q:Q.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(q,oe,se,ue){if(se==="q"||se==="Q")return ue=ue.replaceAll("_"," "),ue=ue.replaceAll(/=([0-9a-fA-F]{2})/g,function(pe,ee){return String.fromCharCode(parseInt(ee,16))}),de(oe,ue);try{ue=atob(ue)}catch{}return de(oe,ue)})}return""}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var O=H(1),R=H(20);const B=200,Y=206;function ve(le){const ne=le.response;return typeof ne!="string"?ne:(0,O.stringToBytes)(ne).buffer}class fe{constructor(ne,re={}){this.url=ne,this.isHttp=/^https?:/i.test(ne),this.httpHeaders=this.isHttp&&re.httpHeaders||Object.create(null),this.withCredentials=re.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ne,re,Q){const q={begin:ne,end:re};for(const oe in Q)q[oe]=Q[oe];return this.request(q)}requestFull(ne){return this.request(ne)}request(ne){const re=new XMLHttpRequest,Q=this.currXhrId++,q=this.pendingRequests[Q]={xhr:re};re.open("GET",this.url),re.withCredentials=this.withCredentials;for(const oe in this.httpHeaders){const se=this.httpHeaders[oe];se!==void 0&&re.setRequestHeader(oe,se)}return this.isHttp&&"begin"in ne&&"end"in ne?(re.setRequestHeader("Range",`bytes=${ne.begin}-${ne.end-1}`),q.expectedStatus=Y):q.expectedStatus=B,re.responseType="arraybuffer",ne.onError&&(re.onerror=function(oe){ne.onError(re.status)}),re.onreadystatechange=this.onStateChange.bind(this,Q),re.onprogress=this.onProgress.bind(this,Q),q.onHeadersReceived=ne.onHeadersReceived,q.onDone=ne.onDone,q.onError=ne.onError,q.onProgress=ne.onProgress,re.send(null),Q}onProgress(ne,re){var q;const Q=this.pendingRequests[ne];Q&&((q=Q.onProgress)==null||q.call(Q,re))}onStateChange(ne,re){var pe,ee,ae;const Q=this.pendingRequests[ne];if(!Q)return;const q=Q.xhr;if(q.readyState>=2&&Q.onHeadersReceived&&(Q.onHeadersReceived(),delete Q.onHeadersReceived),q.readyState!==4||!(ne in this.pendingRequests))return;if(delete this.pendingRequests[ne],q.status===0&&this.isHttp){(pe=Q.onError)==null||pe.call(Q,q.status);return}const oe=q.status||B;if(!(oe===B&&Q.expectedStatus===Y)&&oe!==Q.expectedStatus){(ee=Q.onError)==null||ee.call(Q,q.status);return}const ue=ve(q);if(oe===Y){const Ae=q.getResponseHeader("Content-Range"),ge=/bytes (\d+)-(\d+)\/(\d+)/.exec(Ae);Q.onDone({begin:parseInt(ge[1],10),chunk:ue})}else ue?Q.onDone({begin:0,chunk:ue}):(ae=Q.onError)==null||ae.call(Q,q.status)}getRequestXhr(ne){return this.pendingRequests[ne].xhr}isPendingRequest(ne){return ne in this.pendingRequests}abortRequest(ne){const re=this.pendingRequests[ne].xhr;delete this.pendingRequests[ne],re.abort()}}class de{constructor(ne){this._source=ne,this._manager=new fe(ne.url,{httpHeaders:ne.httpHeaders,withCredentials:ne.withCredentials}),this._rangeChunkSize=ne.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ne){const re=this._rangeRequestReaders.indexOf(ne);re>=0&&this._rangeRequestReaders.splice(re,1)}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new K(this._manager,this._source),this._fullRequestReader}getRangeReader(ne,re){const Q=new Ee(this._manager,ne,re);return Q.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Q),Q}cancelAllRequests(ne){var re;(re=this._fullRequestReader)==null||re.cancel(ne);for(const Q of this._rangeRequestReaders.slice(0))Q.cancel(ne)}}$.PDFNetworkStream=de;class K{constructor(ne,re){this._manager=ne;const Q={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=re.url,this._fullRequestId=ne.requestFull(Q),this._headersReceivedCapability=new O.PromiseCapability,this._disableRange=re.disableRange||!1,this._contentLength=re.length,this._rangeChunkSize=re.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ne=this._fullRequestId,re=this._manager.getRequestXhr(ne),Q=se=>re.getResponseHeader(se),{allowRangeRequests:q,suggestedLength:oe}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:Q,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});q&&(this._isRangeSupported=!0),this._contentLength=oe||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(Q),this._isRangeSupported&&this._manager.abortRequest(ne),this._headersReceivedCapability.resolve()}_onDone(ne){if(ne&&(this._requests.length>0?this._requests.shift().resolve({value:ne.chunk,done:!1}):this._cachedChunks.push(ne.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ne){this._storedError=(0,R.createResponseStatusError)(ne,this._url),this._headersReceivedCapability.reject(this._storedError);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ne){var re;(re=this.onProgress)==null||re.call(this,{loaded:ne.loaded,total:ne.lengthComputable?ne.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ne=new O.PromiseCapability;return this._requests.push(ne),ne.promise}cancel(ne){this._done=!0,this._headersReceivedCapability.reject(ne);for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ee{constructor(ne,re,Q){this._manager=ne;const q={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ne.url,this._requestId=ne.requestRange(re,Q,q),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ne;(ne=this.onClosed)==null||ne.call(this,this)}_onDone(ne){const re=ne.chunk;this._requests.length>0?this._requests.shift().resolve({value:re,done:!1}):this._queuedChunk=re,this._done=!0;for(const Q of this._requests)Q.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ne){this._storedError=(0,R.createResponseStatusError)(ne,this._url);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ne){var re;this.isStreamingSupported||(re=this.onProgress)==null||re.call(this,{loaded:ne.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const re=this._queuedChunk;return this._queuedChunk=null,{value:re,done:!1}}if(this._done)return{value:void 0,done:!0};const ne=new O.PromiseCapability;return this._requests.push(ne),ne.promise}cancel(ne){this._done=!0;for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var O=H(1),R=H(20);const B=/^file:\/\/\/[a-zA-Z]:\//;function Y(Q){const q=require$$5,oe=q.parse(Q);return oe.protocol==="file:"||oe.host?oe:/^[a-z]:[/\\]/i.test(Q)?q.parse(`file:///${Q}`):(oe.host||(oe.protocol="file:"),oe)}class ve{constructor(q){this.source=q,this.url=Y(q.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var q;return((q=this._fullRequestReader)==null?void 0:q._loaded)??0}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ne(this):new Ee(this),this._fullRequestReader}getRangeReader(q,oe){if(oe<=this._progressiveDataLength)return null;const se=this.isFsUrl?new re(this,q,oe):new le(this,q,oe);return this._rangeRequestReaders.push(se),se}cancelAllRequests(q){var oe;(oe=this._fullRequestReader)==null||oe.cancel(q);for(const se of this._rangeRequestReaders.slice(0))se.cancel(q)}}$.PDFNodeStream=ve;class fe{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null;const oe=q.source;this._contentLength=oe.length,this._loaded=0,this._filename=null,this._disableRange=oe.disableRange||!1,this._rangeChunkSize=oe.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!oe.disableStream,this._isRangeSupported=!oe.disableRange,this._readableStream=null,this._readCapability=new O.PromiseCapability,this._headersCapability=new O.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var se;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new O.PromiseCapability,this.read()):(this._loaded+=q.length,(se=this.onProgress)==null||se.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",oe=>{this._error(oe)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new O.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class de{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new O.PromiseCapability;const oe=q.source;this._isStreamingSupported=!oe.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var se;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new O.PromiseCapability,this.read()):(this._loaded+=q.length,(se=this.onProgress)==null||se.call(this,{loaded:this._loaded}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",oe=>{this._error(oe)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function K(Q,q){return{protocol:Q.protocol,auth:Q.auth,host:Q.hostname,port:Q.port,path:Q.path,method:"GET",headers:q}}class Ee extends fe{constructor(q){super(q);const oe=se=>{if(se.statusCode===404){const ae=new O.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ae,this._headersCapability.reject(ae);return}this._headersCapability.resolve(),this._setReadableStream(se);const ue=ae=>this._readableStream.headers[ae.toLowerCase()],{allowRangeRequests:pe,suggestedLength:ee}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:q.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=pe,this._contentLength=ee||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(ue)};if(this._request=null,this._url.protocol==="http:"){const se=require$$5;this._request=se.request(K(this._url,q.httpHeaders),oe)}else{const se=require$$5;this._request=se.request(K(this._url,q.httpHeaders),oe)}this._request.on("error",se=>{this._storedError=se,this._headersCapability.reject(se)}),this._request.end()}}class le extends de{constructor(q,oe,se){super(q),this._httpHeaders={};for(const pe in q.httpHeaders){const ee=q.httpHeaders[pe];ee!==void 0&&(this._httpHeaders[pe]=ee)}this._httpHeaders.Range=`bytes=${oe}-${se-1}`;const ue=pe=>{if(pe.statusCode===404){const ee=new O.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ee;return}this._setReadableStream(pe)};if(this._request=null,this._url.protocol==="http:"){const pe=require$$5;this._request=pe.request(K(this._url,this._httpHeaders),ue)}else{const pe=require$$5;this._request=pe.request(K(this._url,this._httpHeaders),ue)}this._request.on("error",pe=>{this._storedError=pe}),this._request.end()}}class ne extends fe{constructor(q){super(q);let oe=decodeURIComponent(this._url.path);B.test(this._url.href)&&(oe=oe.replace(/^\//,""));const se=require$$5;se.lstat(oe,(ue,pe)=>{if(ue){ue.code==="ENOENT"&&(ue=new O.MissingPDFException(`Missing PDF "${oe}".`)),this._storedError=ue,this._headersCapability.reject(ue);return}this._contentLength=pe.size,this._setReadableStream(se.createReadStream(oe)),this._headersCapability.resolve()})}}class re extends de{constructor(q,oe,se){super(q);let ue=decodeURIComponent(this._url.path);B.test(this._url.href)&&(ue=ue.replace(/^\//,""));const pe=require$$5;this._setReadableStream(pe.createReadStream(ue,{start:oe,end:se-1}))}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var O=H(6),R=H(1);const B={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Y="http://www.w3.org/XML/1998/namespace",ve="http://www.w3.org/1999/xlink",fe=["butt","round","square"],de=["miter","round","bevel"],K=function(pe,ee="",ae=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ae)return URL.createObjectURL(new Blob([pe],{type:ee}));const Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ge=`data:${ee};base64,`;for(let te=0,_e=pe.length;te<_e;te+=3){const he=pe[te]&255,Pe=pe[te+1]&255,De=pe[te+2]&255,be=he>>2,$e=(he&3)<<4|Pe>>4,Ve=te+1<_e?(Pe&15)<<2|De>>6:64,et=te+2<_e?De&63:64;ge+=Ae[be]+Ae[$e]+Ae[Ve]+Ae[et]}return ge},Ee=function(){const pe=new Uint8Array([137,80,78,71,13,10,26,10]),ee=12,ae=new Int32Array(256);for(let De=0;De<256;De++){let be=De;for(let $e=0;$e<8;$e++)be=be&1?3988292384^be>>1&2147483647:be>>1&2147483647;ae[De]=be}function Ae(De,be,$e){let Ve=-1;for(let et=be;et<$e;et++){const Fe=(Ve^De[et])&255,rt=ae[Fe];Ve=Ve>>>8^rt}return Ve^-1}function ge(De,be,$e,Ve){let et=Ve;const Fe=be.length;$e[et]=Fe>>24&255,$e[et+1]=Fe>>16&255,$e[et+2]=Fe>>8&255,$e[et+3]=Fe&255,et+=4,$e[et]=De.charCodeAt(0)&255,$e[et+1]=De.charCodeAt(1)&255,$e[et+2]=De.charCodeAt(2)&255,$e[et+3]=De.charCodeAt(3)&255,et+=4,$e.set(be,et),et+=be.length;const rt=Ae($e,Ve+4,et);$e[et]=rt>>24&255,$e[et+1]=rt>>16&255,$e[et+2]=rt>>8&255,$e[et+3]=rt&255}function te(De,be,$e){let Ve=1,et=0;for(let Fe=be;Fe<$e;++Fe)Ve=(Ve+(De[Fe]&255))%65521,et=(et+Ve)%65521;return et<<16|Ve}function _e(De){if(!R.isNodeJS)return he(De);try{const be=parseInt(process.versions.node)>=8?De:Buffer.from(De),$e=require$$5.deflateSync(be,{level:9});return $e instanceof Uint8Array?$e:new Uint8Array($e)}catch(be){(0,R.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+be)}return he(De)}function he(De){let be=De.length;const $e=65535,Ve=Math.ceil(be/$e),et=new Uint8Array(2+be+Ve*5+4);let Fe=0;et[Fe++]=120,et[Fe++]=156;let rt=0;for(;be>$e;)et[Fe++]=0,et[Fe++]=255,et[Fe++]=255,et[Fe++]=0,et[Fe++]=0,et.set(De.subarray(rt,rt+$e),Fe),Fe+=$e,rt+=$e,be-=$e;et[Fe++]=1,et[Fe++]=be&255,et[Fe++]=be>>8&255,et[Fe++]=~be&65535&255,et[Fe++]=(~be&65535)>>8&255,et.set(De.subarray(rt),Fe),Fe+=De.length-rt;const ot=te(De,0,De.length);return et[Fe++]=ot>>24&255,et[Fe++]=ot>>16&255,et[Fe++]=ot>>8&255,et[Fe++]=ot&255,et}function Pe(De,be,$e,Ve){const et=De.width,Fe=De.height;let rt,ot,ft;const St=De.data;switch(be){case R.ImageKind.GRAYSCALE_1BPP:ot=0,rt=1,ft=et+7>>3;break;case R.ImageKind.RGB_24BPP:ot=2,rt=8,ft=et*3;break;case R.ImageKind.RGBA_32BPP:ot=6,rt=8,ft=et*4;break;default:throw new Error("invalid format")}const we=new Uint8Array((1+ft)*Fe);let W=0,J=0;for(let Re=0;Re<Fe;++Re)we[W++]=0,we.set(St.subarray(J,J+ft),W),J+=ft,W+=ft;if(be===R.ImageKind.GRAYSCALE_1BPP&&Ve){W=0;for(let Re=0;Re<Fe;Re++){W++;for(let Ke=0;Ke<ft;Ke++)we[W++]^=255}}const G=new Uint8Array([et>>24&255,et>>16&255,et>>8&255,et&255,Fe>>24&255,Fe>>16&255,Fe>>8&255,Fe&255,rt,ot,0,0,0]),ie=_e(we),ce=pe.length+ee*3+G.length+ie.length,ye=new Uint8Array(ce);let Ce=0;return ye.set(pe,Ce),Ce+=pe.length,ge("IHDR",G,ye,Ce),Ce+=ee+G.length,ge("IDATA",ie,ye,Ce),Ce+=ee+ie.length,ge("IEND",new Uint8Array(0),ye,Ce),K(ye,"image/png",$e)}return function(be,$e,Ve){const et=be.kind===void 0?R.ImageKind.GRAYSCALE_1BPP:be.kind;return Pe(be,et,$e,Ve)}}();class le{constructor(){this.fontSizeScale=1,this.fontWeight=B.fontWeight,this.fontSize=0,this.textMatrix=R.IDENTITY_MATRIX,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=R.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=B.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ee,ae){this.x=ee,this.y=ae}}function ne(pe){let ee=[];const ae=[];for(const Ae of pe){if(Ae.fn==="save"){ee.push({fnId:92,fn:"group",items:[]}),ae.push(ee),ee=ee.at(-1).items;continue}Ae.fn==="restore"?ee=ae.pop():ee.push(Ae)}return ee}function re(pe){if(Number.isInteger(pe))return pe.toString();const ee=pe.toFixed(10);let ae=ee.length-1;if(ee[ae]!=="0")return ee;do ae--;while(ee[ae]==="0");return ee.substring(0,ee[ae]==="."?ae:ae+1)}function Q(pe){if(pe[4]===0&&pe[5]===0){if(pe[1]===0&&pe[2]===0)return pe[0]===1&&pe[3]===1?"":`scale(${re(pe[0])} ${re(pe[3])})`;if(pe[0]===pe[3]&&pe[1]===-pe[2]){const ee=Math.acos(pe[0])*180/Math.PI;return`rotate(${re(ee)})`}}else if(pe[0]===1&&pe[1]===0&&pe[2]===0&&pe[3]===1)return`translate(${re(pe[4])} ${re(pe[5])})`;return`matrix(${re(pe[0])} ${re(pe[1])} ${re(pe[2])} ${re(pe[3])} ${re(pe[4])} ${re(pe[5])})`}let q=0,oe=0,se=0;class ue{constructor(ee,ae,Ae=!1){(0,O.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new O.DOMSVGFactory,this.current=new le,this.transformMatrix=R.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ee,this.objs=ae,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Ae,this._operatorIdMapping=[];for(const ge in R.OPS)this._operatorIdMapping[R.OPS[ge]]=ge}getObject(ee,ae=null){return typeof ee=="string"?ee.startsWith("g_")?this.commonObjs.get(ee):this.objs.get(ee):ae}save(){this.transformStack.push(this.transformMatrix);const ee=this.current;this.extraStack.push(ee),this.current=ee.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ee){this.save(),this.executeOpTree(ee),this.restore()}loadDependencies(ee){const ae=ee.fnArray,Ae=ee.argsArray;for(let ge=0,te=ae.length;ge<te;ge++)if(ae[ge]===R.OPS.dependency)for(const _e of Ae[ge]){const he=_e.startsWith("g_")?this.commonObjs:this.objs,Pe=new Promise(De=>{he.get(_e,De)});this.current.dependencies.push(Pe)}return Promise.all(this.current.dependencies)}transform(ee,ae,Ae,ge,te,_e){const he=[ee,ae,Ae,ge,te,_e];this.transformMatrix=R.Util.transform(this.transformMatrix,he),this.tgrp=null}getSVG(ee,ae){this.viewport=ae;const Ae=this._initialize(ae);return this.loadDependencies(ee).then(()=>(this.transformMatrix=R.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ee)),Ae))}convertOpList(ee){const ae=this._operatorIdMapping,Ae=ee.argsArray,ge=ee.fnArray,te=[];for(let _e=0,he=ge.length;_e<he;_e++){const Pe=ge[_e];te.push({fnId:Pe,fn:ae[Pe],args:Ae[_e]})}return ne(te)}executeOpTree(ee){for(const ae of ee){const Ae=ae.fn,ge=ae.fnId,te=ae.args;switch(ge|0){case R.OPS.beginText:this.beginText();break;case R.OPS.dependency:break;case R.OPS.setLeading:this.setLeading(te);break;case R.OPS.setLeadingMoveText:this.setLeadingMoveText(te[0],te[1]);break;case R.OPS.setFont:this.setFont(te);break;case R.OPS.showText:this.showText(te[0]);break;case R.OPS.showSpacedText:this.showText(te[0]);break;case R.OPS.endText:this.endText();break;case R.OPS.moveText:this.moveText(te[0],te[1]);break;case R.OPS.setCharSpacing:this.setCharSpacing(te[0]);break;case R.OPS.setWordSpacing:this.setWordSpacing(te[0]);break;case R.OPS.setHScale:this.setHScale(te[0]);break;case R.OPS.setTextMatrix:this.setTextMatrix(te[0],te[1],te[2],te[3],te[4],te[5]);break;case R.OPS.setTextRise:this.setTextRise(te[0]);break;case R.OPS.setTextRenderingMode:this.setTextRenderingMode(te[0]);break;case R.OPS.setLineWidth:this.setLineWidth(te[0]);break;case R.OPS.setLineJoin:this.setLineJoin(te[0]);break;case R.OPS.setLineCap:this.setLineCap(te[0]);break;case R.OPS.setMiterLimit:this.setMiterLimit(te[0]);break;case R.OPS.setFillRGBColor:this.setFillRGBColor(te[0],te[1],te[2]);break;case R.OPS.setStrokeRGBColor:this.setStrokeRGBColor(te[0],te[1],te[2]);break;case R.OPS.setStrokeColorN:this.setStrokeColorN(te);break;case R.OPS.setFillColorN:this.setFillColorN(te);break;case R.OPS.shadingFill:this.shadingFill(te[0]);break;case R.OPS.setDash:this.setDash(te[0],te[1]);break;case R.OPS.setRenderingIntent:this.setRenderingIntent(te[0]);break;case R.OPS.setFlatness:this.setFlatness(te[0]);break;case R.OPS.setGState:this.setGState(te[0]);break;case R.OPS.fill:this.fill();break;case R.OPS.eoFill:this.eoFill();break;case R.OPS.stroke:this.stroke();break;case R.OPS.fillStroke:this.fillStroke();break;case R.OPS.eoFillStroke:this.eoFillStroke();break;case R.OPS.clip:this.clip("nonzero");break;case R.OPS.eoClip:this.clip("evenodd");break;case R.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case R.OPS.paintImageXObject:this.paintImageXObject(te[0]);break;case R.OPS.paintInlineImageXObject:this.paintInlineImageXObject(te[0]);break;case R.OPS.paintImageMaskXObject:this.paintImageMaskXObject(te[0]);break;case R.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(te[0],te[1]);break;case R.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case R.OPS.closePath:this.closePath();break;case R.OPS.closeStroke:this.closeStroke();break;case R.OPS.closeFillStroke:this.closeFillStroke();break;case R.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case R.OPS.nextLine:this.nextLine();break;case R.OPS.transform:this.transform(te[0],te[1],te[2],te[3],te[4],te[5]);break;case R.OPS.constructPath:this.constructPath(te[0],te[1]);break;case R.OPS.endPath:this.endPath();break;case 92:this.group(ae.items);break;default:(0,R.warn)(`Unimplemented operator ${Ae}`);break}}}setWordSpacing(ee){this.current.wordSpacing=ee}setCharSpacing(ee){this.current.charSpacing=ee}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ee,ae,Ae,ge,te,_e){const he=this.current;he.textMatrix=he.lineMatrix=[ee,ae,Ae,ge,te,_e],he.textMatrixScale=Math.hypot(ee,ae),he.x=he.lineX=0,he.y=he.lineY=0,he.xcoords=[],he.ycoords=[],he.tspan=this.svgFactory.createElement("svg:tspan"),he.tspan.setAttributeNS(null,"font-family",he.fontFamily),he.tspan.setAttributeNS(null,"font-size",`${re(he.fontSize)}px`),he.tspan.setAttributeNS(null,"y",re(-he.y)),he.txtElement=this.svgFactory.createElement("svg:text"),he.txtElement.append(he.tspan)}beginText(){const ee=this.current;ee.x=ee.lineX=0,ee.y=ee.lineY=0,ee.textMatrix=R.IDENTITY_MATRIX,ee.lineMatrix=R.IDENTITY_MATRIX,ee.textMatrixScale=1,ee.tspan=this.svgFactory.createElement("svg:tspan"),ee.txtElement=this.svgFactory.createElement("svg:text"),ee.txtgrp=this.svgFactory.createElement("svg:g"),ee.xcoords=[],ee.ycoords=[]}moveText(ee,ae){const Ae=this.current;Ae.x=Ae.lineX+=ee,Ae.y=Ae.lineY+=ae,Ae.xcoords=[],Ae.ycoords=[],Ae.tspan=this.svgFactory.createElement("svg:tspan"),Ae.tspan.setAttributeNS(null,"font-family",Ae.fontFamily),Ae.tspan.setAttributeNS(null,"font-size",`${re(Ae.fontSize)}px`),Ae.tspan.setAttributeNS(null,"y",re(-Ae.y))}showText(ee){const ae=this.current,Ae=ae.font,ge=ae.fontSize;if(ge===0)return;const te=ae.fontSizeScale,_e=ae.charSpacing,he=ae.wordSpacing,Pe=ae.fontDirection,De=ae.textHScale*Pe,be=Ae.vertical,$e=be?1:-1,Ve=Ae.defaultVMetrics,et=ge*ae.fontMatrix[0];let Fe=0;for(const ft of ee){if(ft===null){Fe+=Pe*he;continue}else if(typeof ft=="number"){Fe+=$e*ft*ge/1e3;continue}const St=(ft.isSpace?he:0)+_e,we=ft.fontChar;let W,J,G=ft.width;if(be){let ce;const ye=ft.vmetric||Ve;ce=ft.vmetric?ye[1]:G*.5,ce=-ce*et;const Ce=ye[2]*et;G=ye?-ye[0]:G,W=ce/te,J=(Fe+Ce)/te}else W=Fe/te,J=0;(ft.isInFont||Ae.missingFile)&&(ae.xcoords.push(ae.x+W),be&&ae.ycoords.push(-ae.y+J),ae.tspan.textContent+=we);const ie=be?G*et-St*Pe:G*et+St*Pe;Fe+=ie}ae.tspan.setAttributeNS(null,"x",ae.xcoords.map(re).join(" ")),be?ae.tspan.setAttributeNS(null,"y",ae.ycoords.map(re).join(" ")):ae.tspan.setAttributeNS(null,"y",re(-ae.y)),be?ae.y-=Fe:ae.x+=Fe*De,ae.tspan.setAttributeNS(null,"font-family",ae.fontFamily),ae.tspan.setAttributeNS(null,"font-size",`${re(ae.fontSize)}px`),ae.fontStyle!==B.fontStyle&&ae.tspan.setAttributeNS(null,"font-style",ae.fontStyle),ae.fontWeight!==B.fontWeight&&ae.tspan.setAttributeNS(null,"font-weight",ae.fontWeight);const rt=ae.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;if(rt===R.TextRenderingMode.FILL||rt===R.TextRenderingMode.FILL_STROKE?(ae.fillColor!==B.fillColor&&ae.tspan.setAttributeNS(null,"fill",ae.fillColor),ae.fillAlpha<1&&ae.tspan.setAttributeNS(null,"fill-opacity",ae.fillAlpha)):ae.textRenderingMode===R.TextRenderingMode.ADD_TO_PATH?ae.tspan.setAttributeNS(null,"fill","transparent"):ae.tspan.setAttributeNS(null,"fill","none"),rt===R.TextRenderingMode.STROKE||rt===R.TextRenderingMode.FILL_STROKE){const ft=1/(ae.textMatrixScale||1);this._setStrokeAttributes(ae.tspan,ft)}let ot=ae.textMatrix;ae.textRise!==0&&(ot=ot.slice(),ot[5]+=ae.textRise),ae.txtElement.setAttributeNS(null,"transform",`${Q(ot)} scale(${re(De)}, -1)`),ae.txtElement.setAttributeNS(Y,"xml:space","preserve"),ae.txtElement.append(ae.tspan),ae.txtgrp.append(ae.txtElement),this._ensureTransformGroup().append(ae.txtElement)}setLeadingMoveText(ee,ae){this.setLeading(-ae),this.moveText(ee,ae)}addFontStyle(ee){if(!ee.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ae=K(ee.data,ee.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ee.loadedName}"; src: url(${ae}); }
`}setFont(ee){const ae=this.current,Ae=this.commonObjs.get(ee[0]);let ge=ee[1];ae.font=Ae,this.embedFonts&&!Ae.missingFile&&!this.embeddedFonts[Ae.loadedName]&&(this.addFontStyle(Ae),this.embeddedFonts[Ae.loadedName]=Ae),ae.fontMatrix=Ae.fontMatrix||R.FONT_IDENTITY_MATRIX;let te="normal";Ae.black?te="900":Ae.bold&&(te="bold");const _e=Ae.italic?"italic":"normal";ge<0?(ge=-ge,ae.fontDirection=-1):ae.fontDirection=1,ae.fontSize=ge,ae.fontFamily=Ae.loadedName,ae.fontWeight=te,ae.fontStyle=_e,ae.tspan=this.svgFactory.createElement("svg:tspan"),ae.tspan.setAttributeNS(null,"y",re(-ae.y)),ae.xcoords=[],ae.ycoords=[]}endText(){var ae;const ee=this.current;ee.textRenderingMode&R.TextRenderingMode.ADD_TO_PATH_FLAG&&((ae=ee.txtElement)!=null&&ae.hasChildNodes())&&(ee.element=ee.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ee){ee>0&&(this.current.lineWidth=ee)}setLineCap(ee){this.current.lineCap=fe[ee]}setLineJoin(ee){this.current.lineJoin=de[ee]}setMiterLimit(ee){this.current.miterLimit=ee}setStrokeAlpha(ee){this.current.strokeAlpha=ee}setStrokeRGBColor(ee,ae,Ae){this.current.strokeColor=R.Util.makeHexColor(ee,ae,Ae)}setFillAlpha(ee){this.current.fillAlpha=ee}setFillRGBColor(ee,ae,Ae){this.current.fillColor=R.Util.makeHexColor(ee,ae,Ae),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ee){this.current.strokeColor=this._makeColorN_Pattern(ee)}setFillColorN(ee){this.current.fillColor=this._makeColorN_Pattern(ee)}shadingFill(ee){const{width:ae,height:Ae}=this.viewport,ge=R.Util.inverseTransform(this.transformMatrix),[te,_e,he,Pe]=R.Util.getAxialAlignedBoundingBox([0,0,ae,Ae],ge),De=this.svgFactory.createElement("svg:rect");De.setAttributeNS(null,"x",te),De.setAttributeNS(null,"y",_e),De.setAttributeNS(null,"width",he-te),De.setAttributeNS(null,"height",Pe-_e),De.setAttributeNS(null,"fill",this._makeShadingPattern(ee)),this.current.fillAlpha<1&&De.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(De)}_makeColorN_Pattern(ee){return ee[0]==="TilingPattern"?this._makeTilingPattern(ee):this._makeShadingPattern(ee)}_makeTilingPattern(ee){const ae=ee[1],Ae=ee[2],ge=ee[3]||R.IDENTITY_MATRIX,[te,_e,he,Pe]=ee[4],De=ee[5],be=ee[6],$e=ee[7],Ve=`shading${se++}`,[et,Fe,rt,ot]=R.Util.normalizeRect([...R.Util.applyTransform([te,_e],ge),...R.Util.applyTransform([he,Pe],ge)]),[ft,St]=R.Util.singularValueDecompose2dScale(ge),we=De*ft,W=be*St,J=this.svgFactory.createElement("svg:pattern");J.setAttributeNS(null,"id",Ve),J.setAttributeNS(null,"patternUnits","userSpaceOnUse"),J.setAttributeNS(null,"width",we),J.setAttributeNS(null,"height",W),J.setAttributeNS(null,"x",`${et}`),J.setAttributeNS(null,"y",`${Fe}`);const G=this.svg,ie=this.transformMatrix,ce=this.current.fillColor,ye=this.current.strokeColor,Ce=this.svgFactory.create(rt-et,ot-Fe);if(this.svg=Ce,this.transformMatrix=ge,$e===2){const Re=R.Util.makeHexColor(...ae);this.current.fillColor=Re,this.current.strokeColor=Re}return this.executeOpTree(this.convertOpList(Ae)),this.svg=G,this.transformMatrix=ie,this.current.fillColor=ce,this.current.strokeColor=ye,J.append(Ce.childNodes[0]),this.defs.append(J),`url(#${Ve})`}_makeShadingPattern(ee){switch(typeof ee=="string"&&(ee=this.objs.get(ee)),ee[0]){case"RadialAxial":const ae=`shading${se++}`,Ae=ee[3];let ge;switch(ee[1]){case"axial":const te=ee[4],_e=ee[5];ge=this.svgFactory.createElement("svg:linearGradient"),ge.setAttributeNS(null,"id",ae),ge.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ge.setAttributeNS(null,"x1",te[0]),ge.setAttributeNS(null,"y1",te[1]),ge.setAttributeNS(null,"x2",_e[0]),ge.setAttributeNS(null,"y2",_e[1]);break;case"radial":const he=ee[4],Pe=ee[5],De=ee[6],be=ee[7];ge=this.svgFactory.createElement("svg:radialGradient"),ge.setAttributeNS(null,"id",ae),ge.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ge.setAttributeNS(null,"cx",Pe[0]),ge.setAttributeNS(null,"cy",Pe[1]),ge.setAttributeNS(null,"r",be),ge.setAttributeNS(null,"fx",he[0]),ge.setAttributeNS(null,"fy",he[1]),ge.setAttributeNS(null,"fr",De);break;default:throw new Error(`Unknown RadialAxial type: ${ee[1]}`)}for(const te of Ae){const _e=this.svgFactory.createElement("svg:stop");_e.setAttributeNS(null,"offset",te[0]),_e.setAttributeNS(null,"stop-color",te[1]),ge.append(_e)}return this.defs.append(ge),`url(#${ae})`;case"Mesh":return(0,R.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ee[0]}`)}}setDash(ee,ae){this.current.dashArray=ee,this.current.dashPhase=ae}constructPath(ee,ae){const Ae=this.current;let ge=Ae.x,te=Ae.y,_e=[],he=0;for(const Pe of ee)switch(Pe|0){case R.OPS.rectangle:ge=ae[he++],te=ae[he++];const De=ae[he++],be=ae[he++],$e=ge+De,Ve=te+be;_e.push("M",re(ge),re(te),"L",re($e),re(te),"L",re($e),re(Ve),"L",re(ge),re(Ve),"Z");break;case R.OPS.moveTo:ge=ae[he++],te=ae[he++],_e.push("M",re(ge),re(te));break;case R.OPS.lineTo:ge=ae[he++],te=ae[he++],_e.push("L",re(ge),re(te));break;case R.OPS.curveTo:ge=ae[he+4],te=ae[he+5],_e.push("C",re(ae[he]),re(ae[he+1]),re(ae[he+2]),re(ae[he+3]),re(ge),re(te)),he+=6;break;case R.OPS.curveTo2:_e.push("C",re(ge),re(te),re(ae[he]),re(ae[he+1]),re(ae[he+2]),re(ae[he+3])),ge=ae[he+2],te=ae[he+3],he+=4;break;case R.OPS.curveTo3:ge=ae[he+2],te=ae[he+3],_e.push("C",re(ae[he]),re(ae[he+1]),re(ge),re(te),re(ge),re(te)),he+=4;break;case R.OPS.closePath:_e.push("Z");break}_e=_e.join(" "),Ae.path&&ee.length>0&&ee[0]!==R.OPS.rectangle&&ee[0]!==R.OPS.moveTo?_e=Ae.path.getAttributeNS(null,"d")+_e:(Ae.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Ae.path)),Ae.path.setAttributeNS(null,"d",_e),Ae.path.setAttributeNS(null,"fill","none"),Ae.element=Ae.path,Ae.setCurrentPoint(ge,te)}endPath(){const ee=this.current;if(ee.path=null,!this.pendingClip)return;if(!ee.element){this.pendingClip=null;return}const ae=`clippath${q++}`,Ae=this.svgFactory.createElement("svg:clipPath");Ae.setAttributeNS(null,"id",ae),Ae.setAttributeNS(null,"transform",Q(this.transformMatrix));const ge=ee.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ge.setAttributeNS(null,"clip-rule","evenodd"):ge.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Ae.append(ge),this.defs.append(Ae),ee.activeClipUrl){ee.clipGroup=null;for(const te of this.extraStack)te.clipGroup=null;Ae.setAttributeNS(null,"clip-path",ee.activeClipUrl)}ee.activeClipUrl=`url(#${ae})`,this.tgrp=null}clip(ee){this.pendingClip=ee}closePath(){const ee=this.current;if(ee.path){const ae=`${ee.path.getAttributeNS(null,"d")}Z`;ee.path.setAttributeNS(null,"d",ae)}}setLeading(ee){this.current.leading=-ee}setTextRise(ee){this.current.textRise=ee}setTextRenderingMode(ee){this.current.textRenderingMode=ee}setHScale(ee){this.current.textHScale=ee/100}setRenderingIntent(ee){}setFlatness(ee){}setGState(ee){for(const[ae,Ae]of ee)switch(ae){case"LW":this.setLineWidth(Ae);break;case"LC":this.setLineCap(Ae);break;case"LJ":this.setLineJoin(Ae);break;case"ML":this.setMiterLimit(Ae);break;case"D":this.setDash(Ae[0],Ae[1]);break;case"RI":this.setRenderingIntent(Ae);break;case"FL":this.setFlatness(Ae);break;case"Font":this.setFont(Ae);break;case"CA":this.setStrokeAlpha(Ae);break;case"ca":this.setFillAlpha(Ae);break;default:(0,R.warn)(`Unimplemented graphic state operator ${ae}`);break}}fill(){const ee=this.current;ee.element&&(ee.element.setAttributeNS(null,"fill",ee.fillColor),ee.element.setAttributeNS(null,"fill-opacity",ee.fillAlpha),this.endPath())}stroke(){const ee=this.current;ee.element&&(this._setStrokeAttributes(ee.element),ee.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ee,ae=1){const Ae=this.current;let ge=Ae.dashArray;ae!==1&&ge.length>0&&(ge=ge.map(function(te){return ae*te})),ee.setAttributeNS(null,"stroke",Ae.strokeColor),ee.setAttributeNS(null,"stroke-opacity",Ae.strokeAlpha),ee.setAttributeNS(null,"stroke-miterlimit",re(Ae.miterLimit)),ee.setAttributeNS(null,"stroke-linecap",Ae.lineCap),ee.setAttributeNS(null,"stroke-linejoin",Ae.lineJoin),ee.setAttributeNS(null,"stroke-width",re(ae*Ae.lineWidth)+"px"),ee.setAttributeNS(null,"stroke-dasharray",ge.map(re).join(" ")),ee.setAttributeNS(null,"stroke-dashoffset",re(ae*Ae.dashPhase)+"px")}eoFill(){var ee;(ee=this.current.element)==null||ee.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ee;(ee=this.current.element)==null||ee.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x","0"),ee.setAttributeNS(null,"y","0"),ee.setAttributeNS(null,"width","1px"),ee.setAttributeNS(null,"height","1px"),ee.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ee)}paintImageXObject(ee){const ae=this.getObject(ee);if(!ae){(0,R.warn)(`Dependent image with object ID ${ee} is not ready yet`);return}this.paintInlineImageXObject(ae)}paintInlineImageXObject(ee,ae){const Ae=ee.width,ge=ee.height,te=Ee(ee,this.forceDataSchema,!!ae),_e=this.svgFactory.createElement("svg:rect");_e.setAttributeNS(null,"x","0"),_e.setAttributeNS(null,"y","0"),_e.setAttributeNS(null,"width",re(Ae)),_e.setAttributeNS(null,"height",re(ge)),this.current.element=_e,this.clip("nonzero");const he=this.svgFactory.createElement("svg:image");he.setAttributeNS(ve,"xlink:href",te),he.setAttributeNS(null,"x","0"),he.setAttributeNS(null,"y",re(-ge)),he.setAttributeNS(null,"width",re(Ae)+"px"),he.setAttributeNS(null,"height",re(ge)+"px"),he.setAttributeNS(null,"transform",`scale(${re(1/Ae)} ${re(-1/ge)})`),ae?ae.append(he):this._ensureTransformGroup().append(he)}paintImageMaskXObject(ee){const ae=this.getObject(ee.data,ee);if(ae.bitmap){(0,R.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Ae=this.current,ge=ae.width,te=ae.height,_e=Ae.fillColor;Ae.maskId=`mask${oe++}`;const he=this.svgFactory.createElement("svg:mask");he.setAttributeNS(null,"id",Ae.maskId);const Pe=this.svgFactory.createElement("svg:rect");Pe.setAttributeNS(null,"x","0"),Pe.setAttributeNS(null,"y","0"),Pe.setAttributeNS(null,"width",re(ge)),Pe.setAttributeNS(null,"height",re(te)),Pe.setAttributeNS(null,"fill",_e),Pe.setAttributeNS(null,"mask",`url(#${Ae.maskId})`),this.defs.append(he),this._ensureTransformGroup().append(Pe),this.paintInlineImageXObject(ae,he)}paintFormXObjectBegin(ee,ae){if(Array.isArray(ee)&&ee.length===6&&this.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),ae){const Ae=ae[2]-ae[0],ge=ae[3]-ae[1],te=this.svgFactory.createElement("svg:rect");te.setAttributeNS(null,"x",ae[0]),te.setAttributeNS(null,"y",ae[1]),te.setAttributeNS(null,"width",re(Ae)),te.setAttributeNS(null,"height",re(ge)),this.current.element=te,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ee){const ae=this.svgFactory.create(ee.width,ee.height),Ae=this.svgFactory.createElement("svg:defs");ae.append(Ae),this.defs=Ae;const ge=this.svgFactory.createElement("svg:g");return ge.setAttributeNS(null,"transform",Q(ee.transform)),ae.append(ge),this.svg=ge,ae}_ensureClipGroup(){if(!this.current.clipGroup){const ee=this.svgFactory.createElement("svg:g");ee.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ee),this.current.clipGroup=ee}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Q(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=ue},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class H{static textContent(R){const B=[],Y={items:B,styles:Object.create(null)};function ve(fe){var Ee;if(!fe)return;let de=null;const K=fe.name;if(K==="#text")de=fe.value;else if(H.shouldBuildText(K))(Ee=fe==null?void 0:fe.attributes)!=null&&Ee.textContent?de=fe.attributes.textContent:fe.value&&(de=fe.value);else return;if(de!==null&&B.push({str:de}),!!fe.children)for(const le of fe.children)ve(le)}return ve(R),Y}static shouldBuildText(R){return!(R==="textarea"||R==="input"||R==="option"||R==="select")}}$.XfaText=H},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Q,$.updateTextLayer=q;var O=H(1),R=H(6);const B=1e5,Y=30,ve=.8,fe=new Map;function de(oe,se){let ue;if(se&&O.FeatureTest.isOffscreenCanvasSupported)ue=new OffscreenCanvas(oe,oe).getContext("2d",{alpha:!1});else{const pe=document.createElement("canvas");pe.width=pe.height=oe,ue=pe.getContext("2d",{alpha:!1})}return ue}function K(oe,se){const ue=fe.get(oe);if(ue)return ue;const pe=de(Y,se);pe.font=`${Y}px ${oe}`;const ee=pe.measureText("");let ae=ee.fontBoundingBoxAscent,Ae=Math.abs(ee.fontBoundingBoxDescent);if(ae){const te=ae/(ae+Ae);return fe.set(oe,te),pe.canvas.width=pe.canvas.height=0,te}pe.strokeStyle="red",pe.clearRect(0,0,Y,Y),pe.strokeText("g",0,0);let ge=pe.getImageData(0,0,Y,Y).data;Ae=0;for(let te=ge.length-1-3;te>=0;te-=4)if(ge[te]>0){Ae=Math.ceil(te/4/Y);break}pe.clearRect(0,0,Y,Y),pe.strokeText("A",0,Y),ge=pe.getImageData(0,0,Y,Y).data,ae=0;for(let te=0,_e=ge.length;te<_e;te+=4)if(ge[te]>0){ae=Y-Math.floor(te/4/Y);break}if(pe.canvas.width=pe.canvas.height=0,ae){const te=ae/(ae+Ae);return fe.set(oe,te),te}return fe.set(oe,ve),ve}function Ee(oe,se,ue){const pe=document.createElement("span"),ee={angle:0,canvasWidth:0,hasText:se.str!=="",hasEOL:se.hasEOL,fontSize:0};oe._textDivs.push(pe);const ae=O.Util.transform(oe._transform,se.transform);let Ae=Math.atan2(ae[1],ae[0]);const ge=ue[se.fontName];ge.vertical&&(Ae+=Math.PI/2);const te=Math.hypot(ae[2],ae[3]),_e=te*K(ge.fontFamily,oe._isOffscreenCanvasSupported);let he,Pe;Ae===0?(he=ae[4],Pe=ae[5]-_e):(he=ae[4]+_e*Math.sin(Ae),Pe=ae[5]-_e*Math.cos(Ae));const De="calc(var(--scale-factor)*",be=pe.style;oe._container===oe._rootContainer?(be.left=`${(100*he/oe._pageWidth).toFixed(2)}%`,be.top=`${(100*Pe/oe._pageHeight).toFixed(2)}%`):(be.left=`${De}${he.toFixed(2)}px)`,be.top=`${De}${Pe.toFixed(2)}px)`),be.fontSize=`${De}${te.toFixed(2)}px)`,be.fontFamily=ge.fontFamily,ee.fontSize=te,pe.setAttribute("role","presentation"),pe.textContent=se.str,pe.dir=se.dir,oe._fontInspectorEnabled&&(pe.dataset.fontName=se.fontName),Ae!==0&&(ee.angle=Ae*(180/Math.PI));let $e=!1;if(se.str.length>1)$e=!0;else if(se.str!==" "&&se.transform[0]!==se.transform[3]){const Ve=Math.abs(se.transform[0]),et=Math.abs(se.transform[3]);Ve!==et&&Math.max(Ve,et)/Math.min(Ve,et)>1.5&&($e=!0)}$e&&(ee.canvasWidth=ge.vertical?se.height:se.width),oe._textDivProperties.set(pe,ee),oe._isReadableStream&&oe._layoutText(pe)}function le(oe){const{div:se,scale:ue,properties:pe,ctx:ee,prevFontSize:ae,prevFontFamily:Ae}=oe,{style:ge}=se;let te="";if(pe.canvasWidth!==0&&pe.hasText){const{fontFamily:_e}=ge,{canvasWidth:he,fontSize:Pe}=pe;(ae!==Pe||Ae!==_e)&&(ee.font=`${Pe*ue}px ${_e}`,oe.prevFontSize=Pe,oe.prevFontFamily=_e);const{width:De}=ee.measureText(se.textContent);De>0&&(te=`scaleX(${he*ue/De})`)}pe.angle!==0&&(te=`rotate(${pe.angle}deg) ${te}`),te.length>0&&(ge.transform=te)}function ne(oe){if(oe._canceled)return;const se=oe._textDivs,ue=oe._capability;if(se.length>B){ue.resolve();return}if(!oe._isReadableStream)for(const ee of se)oe._layoutText(ee);ue.resolve()}class re{constructor({textContentSource:se,container:ue,viewport:pe,textDivs:ee,textDivProperties:ae,textContentItemsStr:Ae,isOffscreenCanvasSupported:ge}){var De;this._textContentSource=se,this._isReadableStream=se instanceof ReadableStream,this._container=this._rootContainer=ue,this._textDivs=ee||[],this._textContentItemsStr=Ae||[],this._isOffscreenCanvasSupported=ge,this._fontInspectorEnabled=!!((De=globalThis.FontInspector)!=null&&De.enabled),this._reader=null,this._textDivProperties=ae||new WeakMap,this._canceled=!1,this._capability=new O.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:pe.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:de(0,ge)};const{pageWidth:te,pageHeight:_e,pageX:he,pageY:Pe}=pe.rawDims;this._transform=[1,0,0,-1,-he,Pe+_e],this._pageWidth=te,this._pageHeight=_e,(0,R.setLayerDimensions)(ue,pe),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new O.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new O.AbortException("TextLayer task cancelled."))}_processItems(se,ue){for(const pe of se){if(pe.str===void 0){if(pe.type==="beginMarkedContentProps"||pe.type==="beginMarkedContent"){const ee=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),pe.id!==null&&this._container.setAttribute("id",`${pe.id}`),ee.append(this._container)}else pe.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(pe.str),Ee(this,pe,ue)}}_layoutText(se){const ue=this._layoutTextParams.properties=this._textDivProperties.get(se);if(this._layoutTextParams.div=se,le(this._layoutTextParams),ue.hasText&&this._container.append(se),ue.hasEOL){const pe=document.createElement("br");pe.setAttribute("role","presentation"),this._container.append(pe)}}_render(){const se=new O.PromiseCapability;let ue=Object.create(null);if(this._isReadableStream){const pe=()=>{this._reader.read().then(({value:ee,done:ae})=>{if(ae){se.resolve();return}Object.assign(ue,ee.styles),this._processItems(ee.items,ue),pe()},se.reject)};this._reader=this._textContentSource.getReader(),pe()}else if(this._textContentSource){const{items:pe,styles:ee}=this._textContentSource;this._processItems(pe,ee),se.resolve()}else throw new Error('No "textContentSource" parameter specified.');se.promise.then(()=>{ue=null,ne(this)},this._capability.reject)}}$.TextLayerRenderTask=re;function Q(oe){!oe.textContentSource&&(oe.textContent||oe.textContentStream)&&((0,R.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),oe.textContentSource=oe.textContent||oe.textContentStream);const{container:se,viewport:ue}=oe,pe=getComputedStyle(se),ee=pe.getPropertyValue("visibility"),ae=parseFloat(pe.getPropertyValue("--scale-factor"));ee==="visible"&&(!ae||Math.abs(ae-ue.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Ae=new re(oe);return Ae._render(),Ae}function q({container:oe,viewport:se,textDivs:ue,textDivProperties:pe,isOffscreenCanvasSupported:ee,mustRotate:ae=!0,mustRescale:Ae=!0}){if(ae&&(0,R.setLayerDimensions)(oe,{rotation:se.rotation}),Ae){const ge=de(0,ee),_e={prevFontSize:null,prevFontFamily:null,div:null,scale:se.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ge};for(const he of ue)_e.properties=pe.get(he),_e.div=he,le(_e)}}},(A,$,H)=>{var K,Ee,le,ne,re,Q,q,oe,se,ue,pe,Di,ae,Jr,ge,Oi,_e,Ni;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var O=H(1),R=H(4),B=H(28),Y=H(33),ve=H(6),fe=H(34);const Pe=class Pe{constructor({uiManager:be,pageIndex:$e,div:Ve,accessibilityManager:et,annotationLayer:Fe,viewport:rt,l10n:ot}){Te(this,pe);Te(this,ae);Te(this,ge);Te(this,_e);Te(this,K,void 0);Te(this,Ee,!1);Te(this,le,null);Te(this,ne,this.pointerup.bind(this));Te(this,re,this.pointerdown.bind(this));Te(this,Q,new Map);Te(this,q,!1);Te(this,oe,!1);Te(this,se,!1);Te(this,ue,void 0);const ft=[B.FreeTextEditor,Y.InkEditor,fe.StampEditor];if(!Pe._initialized){Pe._initialized=!0;for(const St of ft)St.initialize(ot)}be.registerEditorTypes(ft),it(this,ue,be),this.pageIndex=$e,this.div=Ve,it(this,K,et),it(this,le,Fe),this.viewport=rt,V(this,ue).addLayer(this)}get isEmpty(){return V(this,Q).size===0}updateToolbar(be){V(this,ue).updateToolbar(be)}updateMode(be=V(this,ue).getMode()){ze(this,_e,Ni).call(this),be===O.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),be!==O.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",be===O.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",be===O.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",be===O.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(be){if(!be&&V(this,ue).getMode()!==O.AnnotationEditorType.INK)return;if(!be){for(const Ve of V(this,Q).values())if(Ve.isEmpty()){Ve.setInBackground();return}}ze(this,ae,Jr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(be){V(this,ue).setEditingState(be)}addCommands(be){V(this,ue).addCommands(be)}enable(){this.div.style.pointerEvents="auto";const be=new Set;for(const Ve of V(this,Q).values())Ve.enableEditing(),Ve.annotationElementId&&be.add(Ve.annotationElementId);if(!V(this,le))return;const $e=V(this,le).getEditableAnnotations();for(const Ve of $e){if(Ve.hide(),V(this,ue).isDeletedAnnotationElement(Ve.data.id)||be.has(Ve.data.id))continue;const et=this.deserialize(Ve);et&&(this.addOrRebuild(et),et.enableEditing())}}disable(){var $e;it(this,se,!0),this.div.style.pointerEvents="none";const be=new Set;for(const Ve of V(this,Q).values()){if(Ve.disableEditing(),!Ve.annotationElementId||Ve.serialize()!==null){be.add(Ve.annotationElementId);continue}($e=this.getEditableAnnotation(Ve.annotationElementId))==null||$e.show(),Ve.remove()}if(V(this,le)){const Ve=V(this,le).getEditableAnnotations();for(const et of Ve){const{id:Fe}=et.data;be.has(Fe)||V(this,ue).isDeletedAnnotationElement(Fe)||et.show()}}ze(this,_e,Ni).call(this),this.isEmpty&&(this.div.hidden=!0),it(this,se,!1)}getEditableAnnotation(be){var $e;return(($e=V(this,le))==null?void 0:$e.getEditableAnnotation(be))||null}setActiveEditor(be){V(this,ue).getActive()!==be&&V(this,ue).setActiveEditor(be)}enableClick(){this.div.addEventListener("pointerdown",V(this,re)),this.div.addEventListener("pointerup",V(this,ne))}disableClick(){this.div.removeEventListener("pointerdown",V(this,re)),this.div.removeEventListener("pointerup",V(this,ne))}attach(be){V(this,Q).set(be.id,be);const{annotationElementId:$e}=be;$e&&V(this,ue).isDeletedAnnotationElement($e)&&V(this,ue).removeDeletedAnnotationElement(be)}detach(be){var $e;V(this,Q).delete(be.id),($e=V(this,K))==null||$e.removePointerInTextLayer(be.contentDiv),!V(this,se)&&be.annotationElementId&&V(this,ue).addDeletedAnnotationElement(be)}remove(be){this.detach(be),V(this,ue).removeEditor(be),be.div.contains(document.activeElement)&&setTimeout(()=>{V(this,ue).focusMainContainer()},0),be.div.remove(),be.isAttachedToDOM=!1,V(this,oe)||this.addInkEditorIfNeeded(!1)}changeParent(be){var $e;be.parent!==this&&(be.annotationElementId&&(V(this,ue).addDeletedAnnotationElement(be.annotationElementId),R.AnnotationEditor.deleteAnnotationElement(be),be.annotationElementId=null),this.attach(be),($e=be.parent)==null||$e.detach(be),be.setParent(this),be.div&&be.isAttachedToDOM&&(be.div.remove(),this.div.append(be.div)))}add(be){if(this.changeParent(be),V(this,ue).addEditor(be),this.attach(be),!be.isAttachedToDOM){const $e=be.render();this.div.append($e),be.isAttachedToDOM=!0}be.fixAndSetPosition(),be.onceAdded(),V(this,ue).addToAnnotationStorage(be)}moveEditorInDOM(be){var Ve;if(!be.isAttachedToDOM)return;const{activeElement:$e}=document;be.div.contains($e)&&(be._focusEventsAllowed=!1,setTimeout(()=>{be.div.contains(document.activeElement)?be._focusEventsAllowed=!0:(be.div.addEventListener("focusin",()=>{be._focusEventsAllowed=!0},{once:!0}),$e.focus())},0)),be._structTreeParentId=(Ve=V(this,K))==null?void 0:Ve.moveElementInDOM(this.div,be.div,be.contentDiv,!0)}addOrRebuild(be){be.needsToBeRebuilt()?be.rebuild():this.add(be)}addUndoableEditor(be){const $e=()=>be._uiManager.rebuild(be),Ve=()=>{be.remove()};this.addCommands({cmd:$e,undo:Ve,mustExec:!1})}getNextId(){return V(this,ue).getId()}pasteEditor(be,$e){V(this,ue).updateToolbar(be),V(this,ue).updateMode(be);const{offsetX:Ve,offsetY:et}=ze(this,ge,Oi).call(this),Fe=this.getNextId(),rt=ze(this,pe,Di).call(this,{parent:this,id:Fe,x:Ve,y:et,uiManager:V(this,ue),isCentered:!0,...$e});rt&&this.add(rt)}deserialize(be){switch(be.annotationType??be.annotationEditorType){case O.AnnotationEditorType.FREETEXT:return B.FreeTextEditor.deserialize(be,this,V(this,ue));case O.AnnotationEditorType.INK:return Y.InkEditor.deserialize(be,this,V(this,ue));case O.AnnotationEditorType.STAMP:return fe.StampEditor.deserialize(be,this,V(this,ue))}return null}addNewEditor(){ze(this,ae,Jr).call(this,ze(this,ge,Oi).call(this),!0)}setSelected(be){V(this,ue).setSelected(be)}toggleSelected(be){V(this,ue).toggleSelected(be)}isSelected(be){return V(this,ue).isSelected(be)}unselect(be){V(this,ue).unselect(be)}pointerup(be){const{isMac:$e}=O.FeatureTest.platform;if(!(be.button!==0||be.ctrlKey&&$e)&&be.target===this.div&&V(this,q)){if(it(this,q,!1),!V(this,Ee)){it(this,Ee,!0);return}if(V(this,ue).getMode()===O.AnnotationEditorType.STAMP){V(this,ue).unselectAll();return}ze(this,ae,Jr).call(this,be,!1)}}pointerdown(be){if(V(this,q)){it(this,q,!1);return}const{isMac:$e}=O.FeatureTest.platform;if(be.button!==0||be.ctrlKey&&$e||be.target!==this.div)return;it(this,q,!0);const Ve=V(this,ue).getActive();it(this,Ee,!Ve||Ve.isEmpty())}findNewParent(be,$e,Ve){const et=V(this,ue).findParent($e,Ve);return et===null||et===this?!1:(et.changeParent(be),!0)}destroy(){var be,$e;((be=V(this,ue).getActive())==null?void 0:be.parent)===this&&(V(this,ue).commitOrRemove(),V(this,ue).setActiveEditor(null));for(const Ve of V(this,Q).values())($e=V(this,K))==null||$e.removePointerInTextLayer(Ve.contentDiv),Ve.setParent(null),Ve.isAttachedToDOM=!1,Ve.div.remove();this.div=null,V(this,Q).clear(),V(this,ue).removeLayer(this)}render({viewport:be}){this.viewport=be,(0,ve.setLayerDimensions)(this.div,be);for(const $e of V(this,ue).getEditors(this.pageIndex))this.add($e);this.updateMode()}update({viewport:be}){V(this,ue).commitOrRemove(),this.viewport=be,(0,ve.setLayerDimensions)(this.div,{rotation:be.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:be,pageHeight:$e}=this.viewport.rawDims;return[be,$e]}};K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakMap,se=new WeakMap,ue=new WeakMap,pe=new WeakSet,Di=function(be){switch(V(this,ue).getMode()){case O.AnnotationEditorType.FREETEXT:return new B.FreeTextEditor(be);case O.AnnotationEditorType.INK:return new Y.InkEditor(be);case O.AnnotationEditorType.STAMP:return new fe.StampEditor(be)}return null},ae=new WeakSet,Jr=function(be,$e){const Ve=this.getNextId(),et=ze(this,pe,Di).call(this,{parent:this,id:Ve,x:be.offsetX,y:be.offsetY,uiManager:V(this,ue),isCentered:$e});return et&&this.add(et),et},ge=new WeakSet,Oi=function(){const{x:be,y:$e,width:Ve,height:et}=this.div.getBoundingClientRect(),Fe=Math.max(0,be),rt=Math.max(0,$e),ot=Math.min(window.innerWidth,be+Ve),ft=Math.min(window.innerHeight,$e+et),St=(Fe+ot)/2-be,we=(rt+ft)/2-$e,[W,J]=this.viewport.rotation%180===0?[St,we]:[we,St];return{offsetX:W,offsetY:J}},_e=new WeakSet,Ni=function(){it(this,oe,!0);for(const be of V(this,Q).values())be.isEmpty()&&be.remove();it(this,oe,!1)},On(Pe,"_initialized",!1);let de=Pe;$.AnnotationEditorLayer=de},(A,$,H)=>{var fe,de,K,Ee,le,ne,re,Q,q,oe,xa,ue,Ma,ee,$a,Ae,Dr,te,Bi,he,Ta,De,ji;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var O=H(1),R=H(5),B=H(4),Y=H(29);const $e=class $e extends B.AnnotationEditor{constructor(Fe){super({...Fe,name:"freeTextEditor"});Te(this,oe);Te(this,ue);Te(this,ee);Te(this,Ae);Te(this,te);Te(this,he);Te(this,De);Te(this,fe,this.editorDivBlur.bind(this));Te(this,de,this.editorDivFocus.bind(this));Te(this,K,this.editorDivInput.bind(this));Te(this,Ee,this.editorDivKeydown.bind(this));Te(this,le,void 0);Te(this,ne,"");Te(this,re,`${this.id}-editor`);Te(this,Q,void 0);Te(this,q,null);it(this,le,Fe.color||$e._defaultColor||B.AnnotationEditor._defaultLineColor),it(this,Q,Fe.fontSize||$e._defaultFontSize)}static get _keyboardManager(){const Fe=$e.prototype,rt=St=>St.isEmpty(),ot=R.AnnotationEditorUIManager.TRANSLATE_SMALL,ft=R.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,O.shadow)(this,"_keyboardManager",new R.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Fe.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Fe.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Fe._translateEmpty,{args:[-ot,0],checker:rt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Fe._translateEmpty,{args:[-ft,0],checker:rt}],[["ArrowRight","mac+ArrowRight"],Fe._translateEmpty,{args:[ot,0],checker:rt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Fe._translateEmpty,{args:[ft,0],checker:rt}],[["ArrowUp","mac+ArrowUp"],Fe._translateEmpty,{args:[0,-ot],checker:rt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Fe._translateEmpty,{args:[0,-ft],checker:rt}],[["ArrowDown","mac+ArrowDown"],Fe._translateEmpty,{args:[0,ot],checker:rt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Fe._translateEmpty,{args:[0,ft],checker:rt}]]))}static initialize(Fe){B.AnnotationEditor.initialize(Fe,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const rt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(rt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Fe,rt){switch(Fe){case O.AnnotationEditorParamsType.FREETEXT_SIZE:$e._defaultFontSize=rt;break;case O.AnnotationEditorParamsType.FREETEXT_COLOR:$e._defaultColor=rt;break}}updateParams(Fe,rt){switch(Fe){case O.AnnotationEditorParamsType.FREETEXT_SIZE:ze(this,oe,xa).call(this,rt);break;case O.AnnotationEditorParamsType.FREETEXT_COLOR:ze(this,ue,Ma).call(this,rt);break}}static get defaultPropertiesToUpdate(){return[[O.AnnotationEditorParamsType.FREETEXT_SIZE,$e._defaultFontSize],[O.AnnotationEditorParamsType.FREETEXT_COLOR,$e._defaultColor||B.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[O.AnnotationEditorParamsType.FREETEXT_SIZE,V(this,Q)],[O.AnnotationEditorParamsType.FREETEXT_COLOR,V(this,le)]]}_translateEmpty(Fe,rt){this._uiManager.translateSelectedEditors(Fe,rt,!0)}getInitialTranslation(){const Fe=this.parentScale;return[-$e._internalPadding*Fe,-($e._internalPadding+V(this,Q))*Fe]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(O.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",V(this,Ee)),this.editorDiv.addEventListener("focus",V(this,de)),this.editorDiv.addEventListener("blur",V(this,fe)),this.editorDiv.addEventListener("input",V(this,K)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",V(this,re)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",V(this,Ee)),this.editorDiv.removeEventListener("focus",V(this,de)),this.editorDiv.removeEventListener("blur",V(this,fe)),this.editorDiv.removeEventListener("input",V(this,K)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Fe){this._focusEventsAllowed&&(super.focusin(Fe),Fe.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Fe;if(this.width){ze(this,De,ji).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Fe=this._initialOptions)!=null&&Fe.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Fe=V(this,ne),rt=it(this,ne,ze(this,ee,$a).call(this).trimEnd());if(Fe===rt)return;const ot=ft=>{if(it(this,ne,ft),!ft){this.remove();return}ze(this,te,Bi).call(this),this._uiManager.rebuild(this),ze(this,Ae,Dr).call(this)};this.addCommands({cmd:()=>{ot(rt)},undo:()=>{ot(Fe)},mustExec:!1}),ze(this,Ae,Dr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Fe){this.enterInEditMode()}keydown(Fe){Fe.target===this.div&&Fe.key==="Enter"&&(this.enterInEditMode(),Fe.preventDefault())}editorDivKeydown(Fe){$e._keyboardManager.exec(this,Fe)}editorDivFocus(Fe){this.isEditing=!0}editorDivBlur(Fe){this.isEditing=!1}editorDivInput(Fe){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Fe,rt;this.width&&(Fe=this.x,rt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",V(this,re)),this.enableEditing(),B.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(ft=>{var St;return(St=this.editorDiv)==null?void 0:St.setAttribute("aria-label",ft)}),B.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(ft=>{var St;return(St=this.editorDiv)==null?void 0:St.setAttribute("default-content",ft)}),this.editorDiv.contentEditable=!0;const{style:ot}=this.editorDiv;if(ot.fontSize=`calc(${V(this,Q)}px * var(--scale-factor))`,ot.color=V(this,le),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,R.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ft,St]=this.parentDimensions;if(this.annotationElementId){const{position:we}=V(this,q);let[W,J]=this.getInitialTranslation();[W,J]=this.pageTranslationToScreen(W,J);const[G,ie]=this.pageDimensions,[ce,ye]=this.pageTranslation;let Ce,Re;switch(this.rotation){case 0:Ce=Fe+(we[0]-ce)/G,Re=rt+this.height-(we[1]-ye)/ie;break;case 90:Ce=Fe+(we[0]-ce)/G,Re=rt-(we[1]-ye)/ie,[W,J]=[J,-W];break;case 180:Ce=Fe-this.width+(we[0]-ce)/G,Re=rt-(we[1]-ye)/ie,[W,J]=[-W,-J];break;case 270:Ce=Fe+(we[0]-ce-this.height*ie)/G,Re=rt+(we[1]-ye-this.width*G)/ie,[W,J]=[-J,W];break}this.setAt(Ce*ft,Re*St,W,J)}else this.setAt(Fe*ft,rt*St,this.width*ft,this.height*St);ze(this,te,Bi).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Fe,rt,ot){let ft=null;if(Fe instanceof Y.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:we,fontColor:W},rect:J,rotation:G,id:ie},textContent:ce,textPosition:ye,parent:{page:{pageNumber:Ce}}}=Fe;if(!ce||ce.length===0)return null;ft=Fe={annotationType:O.AnnotationEditorType.FREETEXT,color:Array.from(W),fontSize:we,value:ce.join(`
`),position:ye,pageIndex:Ce-1,rect:J,rotation:G,id:ie,deleted:!1}}const St=super.deserialize(Fe,rt,ot);return it(St,Q,Fe.fontSize),it(St,le,O.Util.makeHexColor(...Fe.color)),it(St,ne,Fe.value),St.annotationElementId=Fe.id||null,it(St,q,ft),St}serialize(Fe=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const rt=$e._internalPadding*this.parentScale,ot=this.getRect(rt,rt),ft=B.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:V(this,le)),St={annotationType:O.AnnotationEditorType.FREETEXT,color:ft,fontSize:V(this,Q),value:V(this,ne),pageIndex:this.pageIndex,rect:ot,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Fe?St:this.annotationElementId&&!ze(this,he,Ta).call(this,St)?null:(St.id=this.annotationElementId,St)}};fe=new WeakMap,de=new WeakMap,K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakSet,xa=function(Fe){const rt=ft=>{this.editorDiv.style.fontSize=`calc(${ft}px * var(--scale-factor))`,this.translate(0,-(ft-V(this,Q))*this.parentScale),it(this,Q,ft),ze(this,Ae,Dr).call(this)},ot=V(this,Q);this.addCommands({cmd:()=>{rt(Fe)},undo:()=>{rt(ot)},mustExec:!0,type:O.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ue=new WeakSet,Ma=function(Fe){const rt=V(this,le);this.addCommands({cmd:()=>{it(this,le,this.editorDiv.style.color=Fe)},undo:()=>{it(this,le,this.editorDiv.style.color=rt)},mustExec:!0,type:O.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ee=new WeakSet,$a=function(){const Fe=this.editorDiv.getElementsByTagName("div");if(Fe.length===0)return this.editorDiv.innerText;const rt=[];for(const ot of Fe)rt.push(ot.innerText.replace(/\r\n?|\n/,""));return rt.join(`
`)},Ae=new WeakSet,Dr=function(){const[Fe,rt]=this.parentDimensions;let ot;if(this.isAttachedToDOM)ot=this.div.getBoundingClientRect();else{const{currentLayer:ft,div:St}=this,we=St.style.display;St.style.display="hidden",ft.div.append(this.div),ot=St.getBoundingClientRect(),St.remove(),St.style.display=we}this.rotation%180===this.parentRotation%180?(this.width=ot.width/Fe,this.height=ot.height/rt):(this.width=ot.height/Fe,this.height=ot.width/rt),this.fixAndSetPosition()},te=new WeakSet,Bi=function(){if(this.editorDiv.replaceChildren(),!!V(this,ne))for(const Fe of V(this,ne).split(`
`)){const rt=document.createElement("div");rt.append(Fe?document.createTextNode(Fe):document.createElement("br")),this.editorDiv.append(rt)}},he=new WeakSet,Ta=function(Fe){const{value:rt,fontSize:ot,color:ft,rect:St,pageIndex:we}=V(this,q);return Fe.value!==rt||Fe.fontSize!==ot||Fe.rect.some((W,J)=>Math.abs(W-St[J])>=1)||Fe.color.some((W,J)=>W!==ft[J])||Fe.pageIndex!==we},De=new WeakSet,ji=function(Fe=!1){if(!this.annotationElementId)return;if(ze(this,Ae,Dr).call(this),!Fe&&(this.width===0||this.height===0)){setTimeout(()=>ze(this,De,ji).call(this,!0),0);return}const rt=$e._internalPadding*this.parentScale;V(this,q).rect=this.getRect(rt,rt)},On($e,"_freeTextDefaultContent",""),On($e,"_internalPadding",0),On($e,"_defaultColor",null),On($e,"_defaultFontSize",10),On($e,"_type","freetext");let ve=$e;$.FreeTextEditor=ve},(A,$,H)=>{var J,ie,Er,ye,Ra,Re,Ke,qe,nt,ct,bt,dt,pt,vt,mt,Lt,st,Ue,Ge,lt,Ct,Pt,Vt,Fa,Xt,Qr,an,zi,un,Hi,We,Ne,wt,ht,vn,kn,Ze,Vi,Bt,$t,jt,Ht,La,At,Wi;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var O=H(1),R=H(6),B=H(3),Y=H(30),ve=H(31),fe=H(32);const de=1e3,K=9,Ee=new WeakSet;function le(Nt){return{width:Nt[2]-Nt[0],height:Nt[3]-Nt[1]}}class ne{static create(xe){switch(xe.data.annotationType){case O.AnnotationType.LINK:return new Q(xe);case O.AnnotationType.TEXT:return new q(xe);case O.AnnotationType.WIDGET:switch(xe.data.fieldType){case"Tx":return new se(xe);case"Btn":return xe.data.radioButton?new ee(xe):xe.data.checkBox?new pe(xe):new ae(xe);case"Ch":return new Ae(xe);case"Sig":return new ue(xe)}return new oe(xe);case O.AnnotationType.POPUP:return new ge(xe);case O.AnnotationType.FREETEXT:return new _e(xe);case O.AnnotationType.LINE:return new he(xe);case O.AnnotationType.SQUARE:return new Pe(xe);case O.AnnotationType.CIRCLE:return new De(xe);case O.AnnotationType.POLYLINE:return new be(xe);case O.AnnotationType.CARET:return new Ve(xe);case O.AnnotationType.INK:return new et(xe);case O.AnnotationType.POLYGON:return new $e(xe);case O.AnnotationType.HIGHLIGHT:return new Fe(xe);case O.AnnotationType.UNDERLINE:return new rt(xe);case O.AnnotationType.SQUIGGLY:return new ot(xe);case O.AnnotationType.STRIKEOUT:return new ft(xe);case O.AnnotationType.STAMP:return new St(xe);case O.AnnotationType.FILEATTACHMENT:return new we(xe);default:return new re(xe)}}}const G=class G{constructor(xe,{isRenderable:U=!1,ignoreBorder:Se=!1,createQuadrilaterals:Me=!1}={}){Te(this,J,!1);this.isRenderable=U,this.data=xe.data,this.layer=xe.layer,this.linkService=xe.linkService,this.downloadManager=xe.downloadManager,this.imageResourcesPath=xe.imageResourcesPath,this.renderForms=xe.renderForms,this.svgFactory=xe.svgFactory,this.annotationStorage=xe.annotationStorage,this.enableScripting=xe.enableScripting,this.hasJSActions=xe.hasJSActions,this._fieldObjects=xe.fieldObjects,this.parent=xe.parent,U&&(this.container=this._createContainer(Se)),Me&&this._createQuadrilaterals()}static _hasPopupData({titleObj:xe,contentsObj:U,richText:Se}){return!!(xe!=null&&xe.str||U!=null&&U.str||Se!=null&&Se.str)}get hasPopupData(){return G._hasPopupData(this.data)}_createContainer(xe){const{data:U,parent:{page:Se,viewport:Me}}=this,Be=document.createElement("section");Be.setAttribute("data-annotation-id",U.id),this instanceof oe||(Be.tabIndex=de),Be.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Be.setAttribute("aria-haspopup","dialog"),U.noRotate&&Be.classList.add("norotate");const{pageWidth:Xe,pageHeight:at,pageX:Et,pageY:Ft}=Me.rawDims;if(!U.rect||this instanceof ge){const{rotation:Kt}=U;return!U.hasOwnCanvas&&Kt!==0&&this.setRotation(Kt,Be),Be}const{width:Tt,height:nn}=le(U.rect),Dt=O.Util.normalizeRect([U.rect[0],Se.view[3]-U.rect[1]+Se.view[1],U.rect[2],Se.view[3]-U.rect[3]+Se.view[1]]);if(!xe&&U.borderStyle.width>0){Be.style.borderWidth=`${U.borderStyle.width}px`;const Kt=U.borderStyle.horizontalCornerRadius,ln=U.borderStyle.verticalCornerRadius;if(Kt>0||ln>0){const Cn=`calc(${Kt}px * var(--scale-factor)) / calc(${ln}px * var(--scale-factor))`;Be.style.borderRadius=Cn}else if(this instanceof ee){const Cn=`calc(${Tt}px * var(--scale-factor)) / calc(${nn}px * var(--scale-factor))`;Be.style.borderRadius=Cn}switch(U.borderStyle.style){case O.AnnotationBorderStyleType.SOLID:Be.style.borderStyle="solid";break;case O.AnnotationBorderStyleType.DASHED:Be.style.borderStyle="dashed";break;case O.AnnotationBorderStyleType.BEVELED:(0,O.warn)("Unimplemented border style: beveled");break;case O.AnnotationBorderStyleType.INSET:(0,O.warn)("Unimplemented border style: inset");break;case O.AnnotationBorderStyleType.UNDERLINE:Be.style.borderBottomStyle="solid";break}const En=U.borderColor||null;En?(it(this,J,!0),Be.style.borderColor=O.Util.makeHexColor(En[0]|0,En[1]|0,En[2]|0)):Be.style.borderWidth=0}Be.style.left=`${100*(Dt[0]-Et)/Xe}%`,Be.style.top=`${100*(Dt[1]-Ft)/at}%`;const{rotation:Ot}=U;return U.hasOwnCanvas||Ot===0?(Be.style.width=`${100*Tt/Xe}%`,Be.style.height=`${100*nn/at}%`):this.setRotation(Ot,Be),Be}setRotation(xe,U=this.container){if(!this.data.rect)return;const{pageWidth:Se,pageHeight:Me}=this.parent.viewport.rawDims,{width:Be,height:Xe}=le(this.data.rect);let at,Et;xe%180===0?(at=100*Be/Se,Et=100*Xe/Me):(at=100*Xe/Se,Et=100*Be/Me),U.style.width=`${at}%`,U.style.height=`${Et}%`,U.setAttribute("data-main-rotation",(360-xe)%360)}get _commonActions(){const xe=(U,Se,Me)=>{const Be=Me.detail[U],Xe=Be[0],at=Be.slice(1);Me.target.style[Se]=Y.ColorConverters[`${Xe}_HTML`](at),this.annotationStorage.setValue(this.data.id,{[Se]:Y.ColorConverters[`${Xe}_rgb`](at)})};return(0,O.shadow)(this,"_commonActions",{display:U=>{const{display:Se}=U.detail,Me=Se%2===1;this.container.style.visibility=Me?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Me,noPrint:Se===1||Se===2})},print:U=>{this.annotationStorage.setValue(this.data.id,{noPrint:!U.detail.print})},hidden:U=>{const{hidden:Se}=U.detail;this.container.style.visibility=Se?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Se,noView:Se})},focus:U=>{setTimeout(()=>U.target.focus({preventScroll:!1}),0)},userName:U=>{U.target.title=U.detail.userName},readonly:U=>{U.target.disabled=U.detail.readonly},required:U=>{this._setRequired(U.target,U.detail.required)},bgColor:U=>{xe("bgColor","backgroundColor",U)},fillColor:U=>{xe("fillColor","backgroundColor",U)},fgColor:U=>{xe("fgColor","color",U)},textColor:U=>{xe("textColor","color",U)},borderColor:U=>{xe("borderColor","borderColor",U)},strokeColor:U=>{xe("strokeColor","borderColor",U)},rotation:U=>{const Se=U.detail.rotation;this.setRotation(Se),this.annotationStorage.setValue(this.data.id,{rotation:Se})}})}_dispatchEventFromSandbox(xe,U){const Se=this._commonActions;for(const Me of Object.keys(U.detail)){const Be=xe[Me]||Se[Me];Be==null||Be(U)}}_setDefaultPropertiesFromJS(xe){if(!this.enableScripting)return;const U=this.annotationStorage.getRawValue(this.data.id);if(!U)return;const Se=this._commonActions;for(const[Me,Be]of Object.entries(U)){const Xe=Se[Me];if(Xe){const at={detail:{[Me]:Be},target:xe};Xe(at),delete U[Me]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:xe}=this.data;if(!xe)return;const[U,Se,Me,Be]=this.data.rect;if(xe.length===1){const[,{x:ln,y:En},{x:Cn,y:qn}]=xe[0];if(Me===ln&&Be===En&&U===Cn&&Se===qn)return}const{style:Xe}=this.container;let at;if(V(this,J)){const{borderColor:ln,borderWidth:En}=Xe;Xe.borderWidth=0,at=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${ln}" stroke-width="${En}">`],this.container.classList.add("hasBorder")}const Et=Me-U,Ft=Be-Se,{svgFactory:Tt}=this,nn=Tt.createElement("svg");nn.classList.add("quadrilateralsContainer"),nn.setAttribute("width",0),nn.setAttribute("height",0);const Dt=Tt.createElement("defs");nn.append(Dt);const Ot=Tt.createElement("clipPath"),Kt=`clippath_${this.data.id}`;Ot.setAttribute("id",Kt),Ot.setAttribute("clipPathUnits","objectBoundingBox"),Dt.append(Ot);for(const[,{x:ln,y:En},{x:Cn,y:qn}]of xe){const Nn=Tt.createElement("rect"),nr=(Cn-U)/Et,ir=(Be-En)/Ft,lr=(ln-Cn)/Et,Br=(En-qn)/Ft;Nn.setAttribute("x",nr),Nn.setAttribute("y",ir),Nn.setAttribute("width",lr),Nn.setAttribute("height",Br),Ot.append(Nn),at==null||at.push(`<rect vector-effect="non-scaling-stroke" x="${nr}" y="${ir}" width="${lr}" height="${Br}"/>`)}V(this,J)&&(at.push("</g></svg>')"),Xe.backgroundImage=at.join("")),this.container.append(nn),this.container.style.clipPath=`url(#${Kt})`}_createPopup(){const{container:xe,data:U}=this;xe.setAttribute("aria-haspopup","dialog");const Se=new ge({data:{color:U.color,titleObj:U.titleObj,modificationDate:U.modificationDate,contentsObj:U.contentsObj,richText:U.richText,parentRect:U.rect,borderStyle:0,id:`popup_${U.id}`,rotation:U.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Se.render())}render(){(0,O.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(xe,U=null){const Se=[];if(this._fieldObjects){const Me=this._fieldObjects[xe];if(Me)for(const{page:Be,id:Xe,exportValues:at}of Me){if(Be===-1||Xe===U)continue;const Et=typeof at=="string"?at:null,Ft=document.querySelector(`[data-element-id="${Xe}"]`);if(Ft&&!Ee.has(Ft)){(0,O.warn)(`_getElementsByName - element not allowed: ${Xe}`);continue}Se.push({id:Xe,exportValue:Et,domElement:Ft})}return Se}for(const Me of document.getElementsByName(xe)){const{exportValue:Be}=Me,Xe=Me.getAttribute("data-element-id");Xe!==U&&Ee.has(Me)&&Se.push({id:Xe,exportValue:Be,domElement:Me})}return Se}show(){var xe;this.container&&(this.container.hidden=!1),(xe=this.popup)==null||xe.maybeShow()}hide(){var xe;this.container&&(this.container.hidden=!0),(xe=this.popup)==null||xe.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const xe=this.getElementsToTriggerPopup();if(Array.isArray(xe))for(const U of xe)U.classList.add("highlightArea");else xe.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:xe,data:{id:U}}=this;this.container.addEventListener("dblclick",()=>{var Se;(Se=this.linkService.eventBus)==null||Se.dispatch("switchannotationeditormode",{source:this,mode:xe,editId:U})})}};J=new WeakMap;let re=G;class Q extends re{constructor(U,Se=null){super(U,{isRenderable:!0,ignoreBorder:!!(Se!=null&&Se.ignoreBorder),createQuadrilaterals:!0});Te(this,ie);Te(this,ye);this.isTooltipOnly=U.data.isTooltipOnly}render(){const{data:U,linkService:Se}=this,Me=document.createElement("a");Me.setAttribute("data-element-id",U.id);let Be=!1;return U.url?(Se.addLinkAttributes(Me,U.url,U.newWindow),Be=!0):U.action?(this._bindNamedAction(Me,U.action),Be=!0):U.attachment?(this._bindAttachment(Me,U.attachment),Be=!0):U.setOCGState?(ze(this,ye,Ra).call(this,Me,U.setOCGState),Be=!0):U.dest?(this._bindLink(Me,U.dest),Be=!0):(U.actions&&(U.actions.Action||U.actions["Mouse Up"]||U.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Me,U),Be=!0),U.resetForm?(this._bindResetFormAction(Me,U.resetForm),Be=!0):this.isTooltipOnly&&!Be&&(this._bindLink(Me,""),Be=!0)),this.container.classList.add("linkAnnotation"),Be&&this.container.append(Me),this.container}_bindLink(U,Se){U.href=this.linkService.getDestinationHash(Se),U.onclick=()=>(Se&&this.linkService.goToDestination(Se),!1),(Se||Se==="")&&ze(this,ie,Er).call(this)}_bindNamedAction(U,Se){U.href=this.linkService.getAnchorUrl(""),U.onclick=()=>(this.linkService.executeNamedAction(Se),!1),ze(this,ie,Er).call(this)}_bindAttachment(U,Se){U.href=this.linkService.getAnchorUrl(""),U.onclick=()=>{var Me;return(Me=this.downloadManager)==null||Me.openOrDownloadData(this.container,Se.content,Se.filename),!1},ze(this,ie,Er).call(this)}_bindJSAction(U,Se){U.href=this.linkService.getAnchorUrl("");const Me=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Be of Object.keys(Se.actions)){const Xe=Me.get(Be);Xe&&(U[Xe]=()=>{var at;return(at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Se.id,name:Be}}),!1})}U.onclick||(U.onclick=()=>!1),ze(this,ie,Er).call(this)}_bindResetFormAction(U,Se){const Me=U.onclick;if(Me||(U.href=this.linkService.getAnchorUrl("")),ze(this,ie,Er).call(this),!this._fieldObjects){(0,O.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Me||(U.onclick=()=>!1);return}U.onclick=()=>{var nn;Me==null||Me();const{fields:Be,refs:Xe,include:at}=Se,Et=[];if(Be.length!==0||Xe.length!==0){const Dt=new Set(Xe);for(const Ot of Be){const Kt=this._fieldObjects[Ot]||[];for(const{id:ln}of Kt)Dt.add(ln)}for(const Ot of Object.values(this._fieldObjects))for(const Kt of Ot)Dt.has(Kt.id)===at&&Et.push(Kt)}else for(const Dt of Object.values(this._fieldObjects))Et.push(...Dt);const Ft=this.annotationStorage,Tt=[];for(const Dt of Et){const{id:Ot}=Dt;switch(Tt.push(Ot),Dt.type){case"text":{const ln=Dt.defaultValue||"";Ft.setValue(Ot,{value:ln});break}case"checkbox":case"radiobutton":{const ln=Dt.defaultValue===Dt.exportValues;Ft.setValue(Ot,{value:ln});break}case"combobox":case"listbox":{const ln=Dt.defaultValue||"";Ft.setValue(Ot,{value:ln});break}default:continue}const Kt=document.querySelector(`[data-element-id="${Ot}"]`);if(Kt){if(!Ee.has(Kt)){(0,O.warn)(`_bindResetFormAction - element not allowed: ${Ot}`);continue}}else continue;Kt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((nn=this.linkService.eventBus)==null||nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Tt,name:"ResetForm"}})),!1}}}ie=new WeakSet,Er=function(){this.container.setAttribute("data-internal-link","")},ye=new WeakSet,Ra=function(U,Se){U.href=this.linkService.getAnchorUrl(""),U.onclick=()=>(this.linkService.executeSetOCGState(Se),!1),ze(this,ie,Er).call(this)};class q extends re{constructor(xe){super(xe,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const xe=document.createElement("img");return xe.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",xe.alt="[{{type}} Annotation]",xe.dataset.l10nId="text_annotation_type",xe.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(xe),this.container}}class oe extends re{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(xe){var U;this.data.hasOwnCanvas&&(((U=xe.previousSibling)==null?void 0:U.nodeName)==="CANVAS"&&(xe.previousSibling.hidden=!0),xe.hidden=!1)}_getKeyModifier(xe){const{isWin:U,isMac:Se}=O.FeatureTest.platform;return U&&xe.ctrlKey||Se&&xe.metaKey}_setEventListener(xe,U,Se,Me,Be){Se.includes("mouse")?xe.addEventListener(Se,Xe=>{var at;(at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Me,value:Be(Xe),shift:Xe.shiftKey,modifier:this._getKeyModifier(Xe)}})}):xe.addEventListener(Se,Xe=>{var at;if(Se==="blur"){if(!U.focused||!Xe.relatedTarget)return;U.focused=!1}else if(Se==="focus"){if(U.focused)return;U.focused=!0}Be&&((at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Me,value:Be(Xe)}}))})}_setEventListeners(xe,U,Se,Me){var Be,Xe,at;for(const[Et,Ft]of Se)(Ft==="Action"||(Be=this.data.actions)!=null&&Be[Ft])&&((Ft==="Focus"||Ft==="Blur")&&(U||(U={focused:!1})),this._setEventListener(xe,U,Et,Ft,Me),Ft==="Focus"&&!((Xe=this.data.actions)!=null&&Xe.Blur)?this._setEventListener(xe,U,"blur","Blur",null):Ft==="Blur"&&!((at=this.data.actions)!=null&&at.Focus)&&this._setEventListener(xe,U,"focus","Focus",null))}_setBackgroundColor(xe){const U=this.data.backgroundColor||null;xe.style.backgroundColor=U===null?"transparent":O.Util.makeHexColor(U[0],U[1],U[2])}_setTextStyle(xe){const U=["left","center","right"],{fontColor:Se}=this.data.defaultAppearanceData,Me=this.data.defaultAppearanceData.fontSize||K,Be=xe.style;let Xe;const at=2,Et=Ft=>Math.round(10*Ft)/10;if(this.data.multiLine){const Ft=Math.abs(this.data.rect[3]-this.data.rect[1]-at),Tt=Math.round(Ft/(O.LINE_FACTOR*Me))||1,nn=Ft/Tt;Xe=Math.min(Me,Et(nn/O.LINE_FACTOR))}else{const Ft=Math.abs(this.data.rect[3]-this.data.rect[1]-at);Xe=Math.min(Me,Et(Ft/O.LINE_FACTOR))}Be.fontSize=`calc(${Xe}px * var(--scale-factor))`,Be.color=O.Util.makeHexColor(Se[0],Se[1],Se[2]),this.data.textAlignment!==null&&(Be.textAlign=U[this.data.textAlignment])}_setRequired(xe,U){U?xe.setAttribute("required",!0):xe.removeAttribute("required"),xe.setAttribute("aria-required",U)}}class se extends oe{constructor(xe){const U=xe.renderForms||!xe.data.hasAppearance&&!!xe.data.fieldValue;super(xe,{isRenderable:U})}setPropertyOnSiblings(xe,U,Se,Me){const Be=this.annotationStorage;for(const Xe of this._getElementsByName(xe.name,xe.id))Xe.domElement&&(Xe.domElement[U]=Se),Be.setValue(Xe.id,{[Me]:Se})}render(){var Me,Be;const xe=this.annotationStorage,U=this.data.id;this.container.classList.add("textWidgetAnnotation");let Se=null;if(this.renderForms){const Xe=xe.getValue(U,{value:this.data.fieldValue});let at=Xe.value||"";const Et=xe.getValue(U,{charLimit:this.data.maxLen}).charLimit;Et&&at.length>Et&&(at=at.slice(0,Et));let Ft=Xe.formattedValue||((Me=this.data.textContent)==null?void 0:Me.join(`
`))||null;Ft&&this.data.comb&&(Ft=Ft.replaceAll(/\s+/g,""));const Tt={userValue:at,formattedValue:Ft,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Se=document.createElement("textarea"),Se.textContent=Ft??at,this.data.doNotScroll&&(Se.style.overflowY="hidden")):(Se=document.createElement("input"),Se.type="text",Se.setAttribute("value",Ft??at),this.data.doNotScroll&&(Se.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Se.hidden=!0),Ee.add(Se),Se.setAttribute("data-element-id",U),Se.disabled=this.data.readOnly,Se.name=this.data.fieldName,Se.tabIndex=de,this._setRequired(Se,this.data.required),Et&&(Se.maxLength=Et),Se.addEventListener("input",Dt=>{xe.setValue(U,{value:Dt.target.value}),this.setPropertyOnSiblings(Se,"value",Dt.target.value,"value"),Tt.formattedValue=null}),Se.addEventListener("resetform",Dt=>{const Ot=this.data.defaultFieldValue??"";Se.value=Tt.userValue=Ot,Tt.formattedValue=null});let nn=Dt=>{const{formattedValue:Ot}=Tt;Ot!=null&&(Dt.target.value=Ot),Dt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Se.addEventListener("focus",Ot=>{if(Tt.focused)return;const{target:Kt}=Ot;Tt.userValue&&(Kt.value=Tt.userValue),Tt.lastCommittedValue=Kt.value,Tt.commitKey=1,Tt.focused=!0}),Se.addEventListener("updatefromsandbox",Ot=>{this.showElementAndHideCanvas(Ot.target);const Kt={value(ln){Tt.userValue=ln.detail.value??"",xe.setValue(U,{value:Tt.userValue.toString()}),ln.target.value=Tt.userValue},formattedValue(ln){const{formattedValue:En}=ln.detail;Tt.formattedValue=En,En!=null&&ln.target!==document.activeElement&&(ln.target.value=En),xe.setValue(U,{formattedValue:En})},selRange(ln){ln.target.setSelectionRange(...ln.detail.selRange)},charLimit:ln=>{var Nn;const{charLimit:En}=ln.detail,{target:Cn}=ln;if(En===0){Cn.removeAttribute("maxLength");return}Cn.setAttribute("maxLength",En);let qn=Tt.userValue;!qn||qn.length<=En||(qn=qn.slice(0,En),Cn.value=Tt.userValue=qn,xe.setValue(U,{value:qn}),(Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:qn,willCommit:!0,commitKey:1,selStart:Cn.selectionStart,selEnd:Cn.selectionEnd}}))}};this._dispatchEventFromSandbox(Kt,Ot)}),Se.addEventListener("keydown",Ot=>{var En;Tt.commitKey=1;let Kt=-1;if(Ot.key==="Escape"?Kt=0:Ot.key==="Enter"&&!this.data.multiLine?Kt=2:Ot.key==="Tab"&&(Tt.commitKey=3),Kt===-1)return;const{value:ln}=Ot.target;Tt.lastCommittedValue!==ln&&(Tt.lastCommittedValue=ln,Tt.userValue=ln,(En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:ln,willCommit:!0,commitKey:Kt,selStart:Ot.target.selectionStart,selEnd:Ot.target.selectionEnd}}))});const Dt=nn;nn=null,Se.addEventListener("blur",Ot=>{var ln;if(!Tt.focused||!Ot.relatedTarget)return;Tt.focused=!1;const{value:Kt}=Ot.target;Tt.userValue=Kt,Tt.lastCommittedValue!==Kt&&((ln=this.linkService.eventBus)==null||ln.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Kt,willCommit:!0,commitKey:Tt.commitKey,selStart:Ot.target.selectionStart,selEnd:Ot.target.selectionEnd}})),Dt(Ot)}),(Be=this.data.actions)!=null&&Be.Keystroke&&Se.addEventListener("beforeinput",Ot=>{var ir;Tt.lastCommittedValue=null;const{data:Kt,target:ln}=Ot,{value:En,selectionStart:Cn,selectionEnd:qn}=ln;let Nn=Cn,nr=qn;switch(Ot.inputType){case"deleteWordBackward":{const lr=En.substring(0,Cn).match(/\w*[^\w]*$/);lr&&(Nn-=lr[0].length);break}case"deleteWordForward":{const lr=En.substring(Cn).match(/^[^\w]*\w*/);lr&&(nr+=lr[0].length);break}case"deleteContentBackward":Cn===qn&&(Nn-=1);break;case"deleteContentForward":Cn===qn&&(nr+=1);break}Ot.preventDefault(),(ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:En,change:Kt||"",willCommit:!1,selStart:Nn,selEnd:nr}})}),this._setEventListeners(Se,Tt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ot=>Ot.target.value)}if(nn&&Se.addEventListener("blur",nn),this.data.comb){const Ot=(this.data.rect[2]-this.data.rect[0])/Et;Se.classList.add("comb"),Se.style.letterSpacing=`calc(${Ot}px * var(--scale-factor) - 1ch)`}}else Se=document.createElement("div"),Se.textContent=this.data.fieldValue,Se.style.verticalAlign="middle",Se.style.display="table-cell";return this._setTextStyle(Se),this._setBackgroundColor(Se),this._setDefaultPropertiesFromJS(Se),this.container.append(Se),this.container}}class ue extends oe{constructor(xe){super(xe,{isRenderable:!!xe.data.hasOwnCanvas})}}class pe extends oe{constructor(xe){super(xe,{isRenderable:xe.renderForms})}render(){const xe=this.annotationStorage,U=this.data,Se=U.id;let Me=xe.getValue(Se,{value:U.exportValue===U.fieldValue}).value;typeof Me=="string"&&(Me=Me!=="Off",xe.setValue(Se,{value:Me})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Be=document.createElement("input");return Ee.add(Be),Be.setAttribute("data-element-id",Se),Be.disabled=U.readOnly,this._setRequired(Be,this.data.required),Be.type="checkbox",Be.name=U.fieldName,Me&&Be.setAttribute("checked",!0),Be.setAttribute("exportValue",U.exportValue),Be.tabIndex=de,Be.addEventListener("change",Xe=>{const{name:at,checked:Et}=Xe.target;for(const Ft of this._getElementsByName(at,Se)){const Tt=Et&&Ft.exportValue===U.exportValue;Ft.domElement&&(Ft.domElement.checked=Tt),xe.setValue(Ft.id,{value:Tt})}xe.setValue(Se,{value:Et})}),Be.addEventListener("resetform",Xe=>{const at=U.defaultFieldValue||"Off";Xe.target.checked=at===U.exportValue}),this.enableScripting&&this.hasJSActions&&(Be.addEventListener("updatefromsandbox",Xe=>{const at={value(Et){Et.target.checked=Et.detail.value!=="Off",xe.setValue(Se,{value:Et.target.checked})}};this._dispatchEventFromSandbox(at,Xe)}),this._setEventListeners(Be,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Xe=>Xe.target.checked)),this._setBackgroundColor(Be),this._setDefaultPropertiesFromJS(Be),this.container.append(Be),this.container}}class ee extends oe{constructor(xe){super(xe,{isRenderable:xe.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const xe=this.annotationStorage,U=this.data,Se=U.id;let Me=xe.getValue(Se,{value:U.fieldValue===U.buttonValue}).value;typeof Me=="string"&&(Me=Me!==U.buttonValue,xe.setValue(Se,{value:Me}));const Be=document.createElement("input");if(Ee.add(Be),Be.setAttribute("data-element-id",Se),Be.disabled=U.readOnly,this._setRequired(Be,this.data.required),Be.type="radio",Be.name=U.fieldName,Me&&Be.setAttribute("checked",!0),Be.tabIndex=de,Be.addEventListener("change",Xe=>{const{name:at,checked:Et}=Xe.target;for(const Ft of this._getElementsByName(at,Se))xe.setValue(Ft.id,{value:!1});xe.setValue(Se,{value:Et})}),Be.addEventListener("resetform",Xe=>{const at=U.defaultFieldValue;Xe.target.checked=at!=null&&at===U.buttonValue}),this.enableScripting&&this.hasJSActions){const Xe=U.buttonValue;Be.addEventListener("updatefromsandbox",at=>{const Et={value:Ft=>{const Tt=Xe===Ft.detail.value;for(const nn of this._getElementsByName(Ft.target.name)){const Dt=Tt&&nn.id===Se;nn.domElement&&(nn.domElement.checked=Dt),xe.setValue(nn.id,{value:Dt})}}};this._dispatchEventFromSandbox(Et,at)}),this._setEventListeners(Be,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],at=>at.target.checked)}return this._setBackgroundColor(Be),this._setDefaultPropertiesFromJS(Be),this.container.append(Be),this.container}}class ae extends Q{constructor(xe){super(xe,{ignoreBorder:xe.data.hasAppearance})}render(){const xe=super.render();xe.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(xe.title=this.data.alternativeText);const U=xe.lastChild;return this.enableScripting&&this.hasJSActions&&U&&(this._setDefaultPropertiesFromJS(U),U.addEventListener("updatefromsandbox",Se=>{this._dispatchEventFromSandbox({},Se)})),xe}}class Ae extends oe{constructor(xe){super(xe,{isRenderable:xe.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const xe=this.annotationStorage,U=this.data.id,Se=xe.getValue(U,{value:this.data.fieldValue}),Me=document.createElement("select");Ee.add(Me),Me.setAttribute("data-element-id",U),Me.disabled=this.data.readOnly,this._setRequired(Me,this.data.required),Me.name=this.data.fieldName,Me.tabIndex=de;let Be=this.data.combo&&this.data.options.length>0;this.data.combo||(Me.size=this.data.options.length,this.data.multiSelect&&(Me.multiple=!0)),Me.addEventListener("resetform",Tt=>{const nn=this.data.defaultFieldValue;for(const Dt of Me.options)Dt.selected=Dt.value===nn});for(const Tt of this.data.options){const nn=document.createElement("option");nn.textContent=Tt.displayValue,nn.value=Tt.exportValue,Se.value.includes(Tt.exportValue)&&(nn.setAttribute("selected",!0),Be=!1),Me.append(nn)}let Xe=null;if(Be){const Tt=document.createElement("option");Tt.value=" ",Tt.setAttribute("hidden",!0),Tt.setAttribute("selected",!0),Me.prepend(Tt),Xe=()=>{Tt.remove(),Me.removeEventListener("input",Xe),Xe=null},Me.addEventListener("input",Xe)}const at=Tt=>{const nn=Tt?"value":"textContent",{options:Dt,multiple:Ot}=Me;return Ot?Array.prototype.filter.call(Dt,Kt=>Kt.selected).map(Kt=>Kt[nn]):Dt.selectedIndex===-1?null:Dt[Dt.selectedIndex][nn]};let Et=at(!1);const Ft=Tt=>{const nn=Tt.target.options;return Array.prototype.map.call(nn,Dt=>({displayValue:Dt.textContent,exportValue:Dt.value}))};return this.enableScripting&&this.hasJSActions?(Me.addEventListener("updatefromsandbox",Tt=>{const nn={value(Dt){Xe==null||Xe();const Ot=Dt.detail.value,Kt=new Set(Array.isArray(Ot)?Ot:[Ot]);for(const ln of Me.options)ln.selected=Kt.has(ln.value);xe.setValue(U,{value:at(!0)}),Et=at(!1)},multipleSelection(Dt){Me.multiple=!0},remove(Dt){const Ot=Me.options,Kt=Dt.detail.remove;Ot[Kt].selected=!1,Me.remove(Kt),Ot.length>0&&Array.prototype.findIndex.call(Ot,En=>En.selected)===-1&&(Ot[0].selected=!0),xe.setValue(U,{value:at(!0),items:Ft(Dt)}),Et=at(!1)},clear(Dt){for(;Me.length!==0;)Me.remove(0);xe.setValue(U,{value:null,items:[]}),Et=at(!1)},insert(Dt){const{index:Ot,displayValue:Kt,exportValue:ln}=Dt.detail.insert,En=Me.children[Ot],Cn=document.createElement("option");Cn.textContent=Kt,Cn.value=ln,En?En.before(Cn):Me.append(Cn),xe.setValue(U,{value:at(!0),items:Ft(Dt)}),Et=at(!1)},items(Dt){const{items:Ot}=Dt.detail;for(;Me.length!==0;)Me.remove(0);for(const Kt of Ot){const{displayValue:ln,exportValue:En}=Kt,Cn=document.createElement("option");Cn.textContent=ln,Cn.value=En,Me.append(Cn)}Me.options.length>0&&(Me.options[0].selected=!0),xe.setValue(U,{value:at(!0),items:Ft(Dt)}),Et=at(!1)},indices(Dt){const Ot=new Set(Dt.detail.indices);for(const Kt of Dt.target.options)Kt.selected=Ot.has(Kt.index);xe.setValue(U,{value:at(!0)}),Et=at(!1)},editable(Dt){Dt.target.disabled=!Dt.detail.editable}};this._dispatchEventFromSandbox(nn,Tt)}),Me.addEventListener("input",Tt=>{var Dt;const nn=at(!0);xe.setValue(U,{value:nn}),Tt.preventDefault(),(Dt=this.linkService.eventBus)==null||Dt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Et,changeEx:nn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Me,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Tt=>Tt.target.value)):Me.addEventListener("input",function(Tt){xe.setValue(U,{value:at(!0)})}),this.data.combo&&this._setTextStyle(Me),this._setBackgroundColor(Me),this._setDefaultPropertiesFromJS(Me),this.container.append(Me),this.container}}class ge extends re{constructor(xe){const{data:U,elements:Se}=xe;super(xe,{isRenderable:re._hasPopupData(U)}),this.elements=Se}render(){this.container.classList.add("popupAnnotation");const xe=new te({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),U=[];for(const Se of this.elements)Se.popup=xe,U.push(Se.data.id),Se.addHighlightArea();return this.container.setAttribute("aria-controls",U.map(Se=>`${O.AnnotationPrefix}${Se}`).join(",")),this.container}}class te{constructor({container:xe,color:U,elements:Se,titleObj:Me,modificationDate:Be,contentsObj:Xe,richText:at,parent:Et,rect:Ft,parentRect:Tt,open:nn}){Te(this,Vt);Te(this,Xt);Te(this,an);Te(this,un);Te(this,Re,null);Te(this,Ke,ze(this,Vt,Fa).bind(this));Te(this,qe,ze(this,un,Hi).bind(this));Te(this,nt,ze(this,an,zi).bind(this));Te(this,ct,ze(this,Xt,Qr).bind(this));Te(this,bt,null);Te(this,dt,null);Te(this,pt,null);Te(this,vt,null);Te(this,mt,null);Te(this,Lt,null);Te(this,st,!1);Te(this,Ue,null);Te(this,Ge,null);Te(this,lt,null);Te(this,Ct,null);Te(this,Pt,!1);var Ot;it(this,dt,xe),it(this,Ct,Me),it(this,pt,Xe),it(this,lt,at),it(this,mt,Et),it(this,bt,U),it(this,Ge,Ft),it(this,Lt,Tt),it(this,vt,Se);const Dt=R.PDFDateString.toDateObject(Be);Dt&&it(this,Re,Et.l10n.get("annotation_date_string",{date:Dt.toLocaleDateString(),time:Dt.toLocaleTimeString()})),this.trigger=Se.flatMap(Kt=>Kt.getElementsToTriggerPopup());for(const Kt of this.trigger)Kt.addEventListener("click",V(this,ct)),Kt.addEventListener("mouseenter",V(this,nt)),Kt.addEventListener("mouseleave",V(this,qe)),Kt.classList.add("popupTriggerArea");for(const Kt of Se)(Ot=Kt.container)==null||Ot.addEventListener("keydown",V(this,Ke));V(this,dt).hidden=!0,nn&&ze(this,Xt,Qr).call(this)}render(){if(V(this,Ue))return;const{page:{view:xe},viewport:{rawDims:{pageWidth:U,pageHeight:Se,pageX:Me,pageY:Be}}}=V(this,mt),Xe=it(this,Ue,document.createElement("div"));if(Xe.className="popup",V(this,bt)){const Nn=Xe.style.outlineColor=O.Util.makeHexColor(...V(this,bt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Xe.style.backgroundColor=`color-mix(in srgb, ${Nn} 30%, white)`:Xe.style.backgroundColor=O.Util.makeHexColor(...V(this,bt).map(ir=>Math.floor(.7*(255-ir)+ir)))}const at=document.createElement("span");at.className="header";const Et=document.createElement("h1");if(at.append(Et),{dir:Et.dir,str:Et.textContent}=V(this,Ct),Xe.append(at),V(this,Re)){const Nn=document.createElement("span");Nn.classList.add("popupDate"),V(this,Re).then(nr=>{Nn.textContent=nr}),at.append(Nn)}const Ft=V(this,pt),Tt=V(this,lt);if(Tt!=null&&Tt.str&&(!(Ft!=null&&Ft.str)||Ft.str===Tt.str))fe.XfaLayer.render({xfaHtml:Tt.html,intent:"richText",div:Xe}),Xe.lastChild.classList.add("richText","popupContent");else{const Nn=this._formatContents(Ft);Xe.append(Nn)}let nn=!!V(this,Lt),Dt=nn?V(this,Lt):V(this,Ge);for(const Nn of V(this,vt))if(!Dt||O.Util.intersect(Nn.data.rect,Dt)!==null){Dt=Nn.data.rect,nn=!0;break}const Ot=O.Util.normalizeRect([Dt[0],xe[3]-Dt[1]+xe[1],Dt[2],xe[3]-Dt[3]+xe[1]]),ln=nn?Dt[2]-Dt[0]+5:0,En=Ot[0]+ln,Cn=Ot[1],{style:qn}=V(this,dt);qn.left=`${100*(En-Me)/U}%`,qn.top=`${100*(Cn-Be)/Se}%`,V(this,dt).append(Xe)}_formatContents({str:xe,dir:U}){const Se=document.createElement("p");Se.classList.add("popupContent"),Se.dir=U;const Me=xe.split(/(?:\r\n?|\n)/);for(let Be=0,Xe=Me.length;Be<Xe;++Be){const at=Me[Be];Se.append(document.createTextNode(at)),Be<Xe-1&&Se.append(document.createElement("br"))}return Se}forceHide(){it(this,Pt,this.isVisible),V(this,Pt)&&(V(this,dt).hidden=!0)}maybeShow(){V(this,Pt)&&(it(this,Pt,!1),V(this,dt).hidden=!1)}get isVisible(){return V(this,dt).hidden===!1}}Re=new WeakMap,Ke=new WeakMap,qe=new WeakMap,nt=new WeakMap,ct=new WeakMap,bt=new WeakMap,dt=new WeakMap,pt=new WeakMap,vt=new WeakMap,mt=new WeakMap,Lt=new WeakMap,st=new WeakMap,Ue=new WeakMap,Ge=new WeakMap,lt=new WeakMap,Ct=new WeakMap,Pt=new WeakMap,Vt=new WeakSet,Fa=function(xe){xe.altKey||xe.shiftKey||xe.ctrlKey||xe.metaKey||(xe.key==="Enter"||xe.key==="Escape"&&V(this,st))&&ze(this,Xt,Qr).call(this)},Xt=new WeakSet,Qr=function(){it(this,st,!V(this,st)),V(this,st)?(ze(this,an,zi).call(this),V(this,dt).addEventListener("click",V(this,ct)),V(this,dt).addEventListener("keydown",V(this,Ke))):(ze(this,un,Hi).call(this),V(this,dt).removeEventListener("click",V(this,ct)),V(this,dt).removeEventListener("keydown",V(this,Ke)))},an=new WeakSet,zi=function(){V(this,Ue)||this.render(),this.isVisible?V(this,st)&&V(this,dt).classList.add("focused"):(V(this,dt).hidden=!1,V(this,dt).style.zIndex=parseInt(V(this,dt).style.zIndex)+1e3)},un=new WeakSet,Hi=function(){V(this,dt).classList.remove("focused"),!(V(this,st)||!this.isVisible)&&(V(this,dt).hidden=!0,V(this,dt).style.zIndex=parseInt(V(this,dt).style.zIndex)-1e3)};class _e extends re{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0}),this.textContent=xe.data.textContent,this.textPosition=xe.data.textPosition,this.annotationEditorType=O.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const xe=document.createElement("div");xe.classList.add("annotationTextContent"),xe.setAttribute("role","comment");for(const U of this.textContent){const Se=document.createElement("span");Se.textContent=U,xe.append(Se)}this.container.append(xe)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=_e;class he extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});Te(this,We,null)}render(){this.container.classList.add("lineAnnotation");const U=this.data,{width:Se,height:Me}=le(U.rect),Be=this.svgFactory.create(Se,Me,!0),Xe=it(this,We,this.svgFactory.createElement("svg:line"));return Xe.setAttribute("x1",U.rect[2]-U.lineCoordinates[0]),Xe.setAttribute("y1",U.rect[3]-U.lineCoordinates[1]),Xe.setAttribute("x2",U.rect[2]-U.lineCoordinates[2]),Xe.setAttribute("y2",U.rect[3]-U.lineCoordinates[3]),Xe.setAttribute("stroke-width",U.borderStyle.width||1),Xe.setAttribute("stroke","transparent"),Xe.setAttribute("fill","transparent"),Be.append(Xe),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,We)}addHighlightArea(){this.container.classList.add("highlightArea")}}We=new WeakMap;class Pe extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});Te(this,Ne,null)}render(){this.container.classList.add("squareAnnotation");const U=this.data,{width:Se,height:Me}=le(U.rect),Be=this.svgFactory.create(Se,Me,!0),Xe=U.borderStyle.width,at=it(this,Ne,this.svgFactory.createElement("svg:rect"));return at.setAttribute("x",Xe/2),at.setAttribute("y",Xe/2),at.setAttribute("width",Se-Xe),at.setAttribute("height",Me-Xe),at.setAttribute("stroke-width",Xe||1),at.setAttribute("stroke","transparent"),at.setAttribute("fill","transparent"),Be.append(at),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,Ne)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ne=new WeakMap;class De extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});Te(this,wt,null)}render(){this.container.classList.add("circleAnnotation");const U=this.data,{width:Se,height:Me}=le(U.rect),Be=this.svgFactory.create(Se,Me,!0),Xe=U.borderStyle.width,at=it(this,wt,this.svgFactory.createElement("svg:ellipse"));return at.setAttribute("cx",Se/2),at.setAttribute("cy",Me/2),at.setAttribute("rx",Se/2-Xe/2),at.setAttribute("ry",Me/2-Xe/2),at.setAttribute("stroke-width",Xe||1),at.setAttribute("stroke","transparent"),at.setAttribute("fill","transparent"),Be.append(at),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,wt)}addHighlightArea(){this.container.classList.add("highlightArea")}}wt=new WeakMap;class be extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});Te(this,ht,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const U=this.data,{width:Se,height:Me}=le(U.rect),Be=this.svgFactory.create(Se,Me,!0);let Xe=[];for(const Et of U.vertices){const Ft=Et.x-U.rect[0],Tt=U.rect[3]-Et.y;Xe.push(Ft+","+Tt)}Xe=Xe.join(" ");const at=it(this,ht,this.svgFactory.createElement(this.svgElementName));return at.setAttribute("points",Xe),at.setAttribute("stroke-width",U.borderStyle.width||1),at.setAttribute("stroke","transparent"),at.setAttribute("fill","transparent"),Be.append(at),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,ht)}addHighlightArea(){this.container.classList.add("highlightArea")}}ht=new WeakMap;class $e extends be{constructor(xe){super(xe),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ve extends re{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class et extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});Te(this,vn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=O.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const U=this.data,{width:Se,height:Me}=le(U.rect),Be=this.svgFactory.create(Se,Me,!0);for(const Xe of U.inkLists){let at=[];for(const Ft of Xe){const Tt=Ft.x-U.rect[0],nn=U.rect[3]-Ft.y;at.push(`${Tt},${nn}`)}at=at.join(" ");const Et=this.svgFactory.createElement(this.svgElementName);V(this,vn).push(Et),Et.setAttribute("points",at),Et.setAttribute("stroke-width",U.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),!U.popupRef&&this.hasPopupData&&this._createPopup(),Be.append(Et)}return this.container.append(Be),this.container}getElementsToTriggerPopup(){return V(this,vn)}addHighlightArea(){this.container.classList.add("highlightArea")}}vn=new WeakMap,$.InkAnnotationElement=et;class Fe extends re{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class rt extends re{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ot extends re{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ft extends re{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class St extends re{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=St;class we extends re{constructor(U){var Be;super(U,{isRenderable:!0});Te(this,Ze);Te(this,kn,null);const{filename:Se,content:Me}=this.data.file;this.filename=(0,R.getFilenameFromUrl)(Se,!0),this.content=Me,(Be=this.linkService.eventBus)==null||Be.dispatch("fileattachmentannotation",{source:this,filename:Se,content:Me})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:U,data:Se}=this;let Me;Se.hasAppearance||Se.fillAlpha===0?Me=document.createElement("div"):(Me=document.createElement("img"),Me.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Se.name)?"paperclip":"pushpin"}.svg`,Se.fillAlpha&&Se.fillAlpha<1&&(Me.style=`filter: opacity(${Math.round(Se.fillAlpha*100)}%);`)),Me.addEventListener("dblclick",ze(this,Ze,Vi).bind(this)),it(this,kn,Me);const{isMac:Be}=O.FeatureTest.platform;return U.addEventListener("keydown",Xe=>{Xe.key==="Enter"&&(Be?Xe.metaKey:Xe.ctrlKey)&&ze(this,Ze,Vi).call(this)}),!Se.popupRef&&this.hasPopupData?this._createPopup():Me.classList.add("popupTriggerArea"),U.append(Me),U}getElementsToTriggerPopup(){return V(this,kn)}addHighlightArea(){this.container.classList.add("highlightArea")}}kn=new WeakMap,Ze=new WeakSet,Vi=function(){var U;(U=this.downloadManager)==null||U.openOrDownloadData(this.container,this.content,this.filename)};class W{constructor({div:xe,accessibilityManager:U,annotationCanvasMap:Se,l10n:Me,page:Be,viewport:Xe}){Te(this,Ht);Te(this,At);Te(this,Bt,null);Te(this,$t,null);Te(this,jt,new Map);this.div=xe,it(this,Bt,U),it(this,$t,Se),this.l10n=Me,this.page=Be,this.viewport=Xe,this.zIndex=0,this.l10n||(this.l10n=ve.NullL10n)}async render(xe){const{annotations:U}=xe,Se=this.div;(0,R.setLayerDimensions)(Se,this.viewport);const Me=new Map,Be={data:null,layer:Se,linkService:xe.linkService,downloadManager:xe.downloadManager,imageResourcesPath:xe.imageResourcesPath||"",renderForms:xe.renderForms!==!1,svgFactory:new R.DOMSVGFactory,annotationStorage:xe.annotationStorage||new B.AnnotationStorage,enableScripting:xe.enableScripting===!0,hasJSActions:xe.hasJSActions,fieldObjects:xe.fieldObjects,parent:this,elements:null};for(const Xe of U){if(Xe.noHTML)continue;const at=Xe.annotationType===O.AnnotationType.POPUP;if(at){const Tt=Me.get(Xe.id);if(!Tt)continue;Be.elements=Tt}else{const{width:Tt,height:nn}=le(Xe.rect);if(Tt<=0||nn<=0)continue}Be.data=Xe;const Et=ne.create(Be);if(!Et.isRenderable)continue;if(!at&&Xe.popupRef){const Tt=Me.get(Xe.popupRef);Tt?Tt.push(Et):Me.set(Xe.popupRef,[Et])}Et.annotationEditorType>0&&V(this,jt).set(Et.data.id,Et);const Ft=Et.render();Xe.hidden&&(Ft.style.visibility="hidden"),ze(this,Ht,La).call(this,Ft,Xe.id)}ze(this,At,Wi).call(this),await this.l10n.translate(Se)}update({viewport:xe}){const U=this.div;this.viewport=xe,(0,R.setLayerDimensions)(U,{rotation:xe.rotation}),ze(this,At,Wi).call(this),U.hidden=!1}getEditableAnnotations(){return Array.from(V(this,jt).values())}getEditableAnnotation(xe){return V(this,jt).get(xe)}}Bt=new WeakMap,$t=new WeakMap,jt=new WeakMap,Ht=new WeakSet,La=function(xe,U){var Me;const Se=xe.firstChild||xe;Se.id=`${O.AnnotationPrefix}${U}`,this.div.append(xe),(Me=V(this,Bt))==null||Me.moveElementInDOM(this.div,xe,Se,!1)},At=new WeakSet,Wi=function(){if(!V(this,$t))return;const xe=this.div;for(const[U,Se]of V(this,$t)){const Me=xe.querySelector(`[data-annotation-id="${U}"]`);if(!Me)continue;const{firstChild:Be}=Me;Be?Be.nodeName==="CANVAS"?Be.replaceWith(Se):Be.before(Se):Me.append(Se)}V(this,$t).clear()},$.AnnotationLayer=W},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function H(B){return Math.floor(Math.max(0,Math.min(1,B))*255).toString(16).padStart(2,"0")}function O(B){return Math.max(0,Math.min(255,255*B))}class R{static CMYK_G([Y,ve,fe,de]){return["G",1-Math.min(1,.3*Y+.59*fe+.11*ve+de)]}static G_CMYK([Y]){return["CMYK",0,0,0,1-Y]}static G_RGB([Y]){return["RGB",Y,Y,Y]}static G_rgb([Y]){return Y=O(Y),[Y,Y,Y]}static G_HTML([Y]){const ve=H(Y);return`#${ve}${ve}${ve}`}static RGB_G([Y,ve,fe]){return["G",.3*Y+.59*ve+.11*fe]}static RGB_rgb(Y){return Y.map(O)}static RGB_HTML(Y){return`#${Y.map(H).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Y,ve,fe,de]){return["RGB",1-Math.min(1,Y+de),1-Math.min(1,fe+de),1-Math.min(1,ve+de)]}static CMYK_rgb([Y,ve,fe,de]){return[O(1-Math.min(1,Y+de)),O(1-Math.min(1,fe+de)),O(1-Math.min(1,ve+de))]}static CMYK_HTML(Y){const ve=this.CMYK_RGB(Y).slice(1);return this.RGB_HTML(ve)}static RGB_CMYK([Y,ve,fe]){const de=1-Y,K=1-ve,Ee=1-fe,le=Math.min(de,K,Ee);return["CMYK",de,K,Ee,le]}}$.ColorConverters=R},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=O;const H={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};H.print_progress_percent="{{progress}}%";function O(Y,ve){switch(Y){case"find_match_count":Y=`find_match_count[${ve.total===1?"one":"other"}]`;break;case"find_match_count_limit":Y=`find_match_count_limit[${ve.limit===1?"one":"other"}]`;break}return H[Y]||""}function R(Y,ve){return ve?Y.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(fe,de)=>de in ve?ve[de]:"{{"+de+"}}"):Y}const B={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Y,ve=null,fe=O(Y,ve)){return R(fe,ve)},async translate(Y){}};$.NullL10n=B},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var O=H(25);class R{static setupStorage(Y,ve,fe,de,K){const Ee=de.getValue(ve,{value:null});switch(fe.name){case"textarea":if(Ee.value!==null&&(Y.textContent=Ee.value),K==="print")break;Y.addEventListener("input",le=>{de.setValue(ve,{value:le.target.value})});break;case"input":if(fe.attributes.type==="radio"||fe.attributes.type==="checkbox"){if(Ee.value===fe.attributes.xfaOn?Y.setAttribute("checked",!0):Ee.value===fe.attributes.xfaOff&&Y.removeAttribute("checked"),K==="print")break;Y.addEventListener("change",le=>{de.setValue(ve,{value:le.target.checked?le.target.getAttribute("xfaOn"):le.target.getAttribute("xfaOff")})})}else{if(Ee.value!==null&&Y.setAttribute("value",Ee.value),K==="print")break;Y.addEventListener("input",le=>{de.setValue(ve,{value:le.target.value})})}break;case"select":if(Ee.value!==null){Y.setAttribute("value",Ee.value);for(const le of fe.children)le.attributes.value===Ee.value?le.attributes.selected=!0:le.attributes.hasOwnProperty("selected")&&delete le.attributes.selected}Y.addEventListener("input",le=>{const ne=le.target.options,re=ne.selectedIndex===-1?"":ne[ne.selectedIndex].value;de.setValue(ve,{value:re})});break}}static setAttributes({html:Y,element:ve,storage:fe=null,intent:de,linkService:K}){const{attributes:Ee}=ve,le=Y instanceof HTMLAnchorElement;Ee.type==="radio"&&(Ee.name=`${Ee.name}-${de}`);for(const[ne,re]of Object.entries(Ee))if(re!=null)switch(ne){case"class":re.length&&Y.setAttribute(ne,re.join(" "));break;case"dataId":break;case"id":Y.setAttribute("data-element-id",re);break;case"style":Object.assign(Y.style,re);break;case"textContent":Y.textContent=re;break;default:(!le||ne!=="href"&&ne!=="newWindow")&&Y.setAttribute(ne,re)}le&&K.addLinkAttributes(Y,Ee.href,Ee.newWindow),fe&&Ee.dataId&&this.setupStorage(Y,Ee.dataId,ve,fe)}static render(Y){var Q;const ve=Y.annotationStorage,fe=Y.linkService,de=Y.xfaHtml,K=Y.intent||"display",Ee=document.createElement(de.name);de.attributes&&this.setAttributes({html:Ee,element:de,intent:K,linkService:fe});const le=[[de,-1,Ee]],ne=Y.div;if(ne.append(Ee),Y.viewport){const q=`matrix(${Y.viewport.transform.join(",")})`;ne.style.transform=q}K!=="richText"&&ne.setAttribute("class","xfaLayer xfaFont");const re=[];for(;le.length>0;){const[q,oe,se]=le.at(-1);if(oe+1===q.children.length){le.pop();continue}const ue=q.children[++le.at(-1)[1]];if(ue===null)continue;const{name:pe}=ue;if(pe==="#text"){const ae=document.createTextNode(ue.value);re.push(ae),se.append(ae);continue}const ee=(Q=ue==null?void 0:ue.attributes)!=null&&Q.xmlns?document.createElementNS(ue.attributes.xmlns,pe):document.createElement(pe);if(se.append(ee),ue.attributes&&this.setAttributes({html:ee,element:ue,storage:ve,intent:K,linkService:fe}),ue.children&&ue.children.length>0)le.push([ue,-1,ee]);else if(ue.value){const ae=document.createTextNode(ue.value);O.XfaText.shouldBuildText(pe)&&re.push(ae),ee.append(ae)}}for(const q of ne.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))q.setAttribute("readOnly",!0);return{textDivs:re}}static update(Y){const ve=`matrix(${Y.viewport.transform.join(",")})`;Y.div.style.transform=ve,Y.div.hidden=!1}}$.XfaLayer=R},(A,$,H)=>{var de,K,Ee,le,ne,re,Q,q,oe,se,ue,pe,ee,ae,Ae,Ia,te,Da,he,Oa,De,Na,$e,Ui,et,Ba,rt,Gi,ft,ja,we,za,J,Ha,ie,Va,ye,Wa,Re,hr,qe,qi,ct,ei,dt,ti,vt,kr,Lt,Xi,Ue,ni,lt,Ua,Pt,Ki,Jt,Ga,en,qa,Wt,Yi,ut,ri,Ne,xr;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var O=H(1),R=H(4),B=H(29),Y=H(6),ve=H(5);const ht=class ht extends R.AnnotationEditor{constructor(Ze){super({...Ze,name:"inkEditor"});Te(this,Ae);Te(this,te);Te(this,he);Te(this,De);Te(this,$e);Te(this,et);Te(this,rt);Te(this,ft);Te(this,we);Te(this,J);Te(this,ie);Te(this,ye);Te(this,Re);Te(this,qe);Te(this,ct);Te(this,dt);Te(this,vt);Te(this,Lt);Te(this,Ue);Te(this,en);Te(this,Wt);Te(this,ut);Te(this,Ne);Te(this,de,0);Te(this,K,0);Te(this,Ee,this.canvasPointermove.bind(this));Te(this,le,this.canvasPointerleave.bind(this));Te(this,ne,this.canvasPointerup.bind(this));Te(this,re,this.canvasPointerdown.bind(this));Te(this,Q,new Path2D);Te(this,q,!1);Te(this,oe,!1);Te(this,se,!1);Te(this,ue,null);Te(this,pe,0);Te(this,ee,0);Te(this,ae,null);this.color=Ze.color||null,this.thickness=Ze.thickness||null,this.opacity=Ze.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ze){R.AnnotationEditor.initialize(Ze,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ze,kt){switch(Ze){case O.AnnotationEditorParamsType.INK_THICKNESS:ht._defaultThickness=kt;break;case O.AnnotationEditorParamsType.INK_COLOR:ht._defaultColor=kt;break;case O.AnnotationEditorParamsType.INK_OPACITY:ht._defaultOpacity=kt/100;break}}updateParams(Ze,kt){switch(Ze){case O.AnnotationEditorParamsType.INK_THICKNESS:ze(this,Ae,Ia).call(this,kt);break;case O.AnnotationEditorParamsType.INK_COLOR:ze(this,te,Da).call(this,kt);break;case O.AnnotationEditorParamsType.INK_OPACITY:ze(this,he,Oa).call(this,kt);break}}static get defaultPropertiesToUpdate(){return[[O.AnnotationEditorParamsType.INK_THICKNESS,ht._defaultThickness],[O.AnnotationEditorParamsType.INK_COLOR,ht._defaultColor||R.AnnotationEditor._defaultLineColor],[O.AnnotationEditorParamsType.INK_OPACITY,Math.round(ht._defaultOpacity*100)]]}get propertiesToUpdate(){return[[O.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ht._defaultThickness],[O.AnnotationEditorParamsType.INK_COLOR,this.color||ht._defaultColor||R.AnnotationEditor._defaultLineColor],[O.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ht._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ze(this,ct,ei).call(this),ze(this,dt,ti).call(this)),this.isAttachedToDOM||(this.parent.add(this),ze(this,vt,kr).call(this)),ze(this,Ne,xr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,V(this,ue).disconnect(),it(this,ue,null),super.remove())}setParent(Ze){!this.parent&&Ze?this._uiManager.removeShouldRescale(this):this.parent&&Ze===null&&this._uiManager.addShouldRescale(this),super.setParent(Ze)}onScaleChanging(){const[Ze,kt]=this.parentDimensions,Bt=this.width*Ze,$t=this.height*kt;this.setDimensions(Bt,$t)}enableEditMode(){V(this,q)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",V(this,re)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",V(this,re)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){V(this,q)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),it(this,q,!0),this.div.classList.add("disabled"),ze(this,Ne,xr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ze){this._focusEventsAllowed&&(super.focusin(Ze),this.enableEditMode())}canvasPointerdown(Ze){Ze.button!==0||!this.isInEditMode()||V(this,q)||(this.setInForeground(),Ze.preventDefault(),Ze.type!=="mouse"&&this.div.focus(),ze(this,et,Ba).call(this,Ze.offsetX,Ze.offsetY))}canvasPointermove(Ze){Ze.preventDefault(),ze(this,rt,Gi).call(this,Ze.offsetX,Ze.offsetY)}canvasPointerup(Ze){Ze.preventDefault(),ze(this,qe,qi).call(this,Ze)}canvasPointerleave(Ze){ze(this,qe,qi).call(this,Ze)}get isResizable(){return!this.isEmpty()&&V(this,q)}render(){if(this.div)return this.div;let Ze,kt;this.width&&(Ze=this.x,kt=this.y),super.render(),R.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(yn=>{var At;return(At=this.div)==null?void 0:At.setAttribute("aria-label",yn)});const[Bt,$t,jt,Ht]=ze(this,De,Na).call(this);if(this.setAt(Bt,$t,0,0),this.setDims(jt,Ht),ze(this,ct,ei).call(this),this.width){const[yn,At]=this.parentDimensions;this.setAspectRatio(this.width*yn,this.height*At),this.setAt(Ze*yn,kt*At,this.width*yn,this.height*At),it(this,se,!0),ze(this,vt,kr).call(this),this.setDims(this.width*yn,this.height*At),ze(this,Re,hr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ze(this,dt,ti).call(this),this.div}setDimensions(Ze,kt){const Bt=Math.round(Ze),$t=Math.round(kt);if(V(this,pe)===Bt&&V(this,ee)===$t)return;it(this,pe,Bt),it(this,ee,$t),this.canvas.style.visibility="hidden";const[jt,Ht]=this.parentDimensions;this.width=Ze/jt,this.height=kt/Ht,this.fixAndSetPosition(),V(this,q)&&ze(this,Lt,Xi).call(this,Ze,kt),ze(this,vt,kr).call(this),ze(this,Re,hr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ze,kt,Bt){var Be,Xe,at;if(Ze instanceof B.InkAnnotationElement)return null;const $t=super.deserialize(Ze,kt,Bt);$t.thickness=Ze.thickness,$t.color=O.Util.makeHexColor(...Ze.color),$t.opacity=Ze.opacity;const[jt,Ht]=$t.pageDimensions,yn=$t.width*jt,At=$t.height*Ht,pn=$t.parentScale,Nt=Ze.thickness/2;it($t,q,!0),it($t,pe,Math.round(yn)),it($t,ee,Math.round(At));const{paths:xe,rect:U,rotation:Se}=Ze;for(let{bezier:Et}of xe){Et=ze(Be=ht,Jt,Ga).call(Be,Et,U,Se);const Ft=[];$t.paths.push(Ft);let Tt=pn*(Et[0]-Nt),nn=pn*(Et[1]-Nt);for(let Ot=2,Kt=Et.length;Ot<Kt;Ot+=6){const ln=pn*(Et[Ot]-Nt),En=pn*(Et[Ot+1]-Nt),Cn=pn*(Et[Ot+2]-Nt),qn=pn*(Et[Ot+3]-Nt),Nn=pn*(Et[Ot+4]-Nt),nr=pn*(Et[Ot+5]-Nt);Ft.push([[Tt,nn],[ln,En],[Cn,qn],[Nn,nr]]),Tt=Nn,nn=nr}const Dt=ze(this,lt,Ua).call(this,Ft);$t.bezierPath2D.push(Dt)}const Me=ze(Xe=$t,Wt,Yi).call(Xe);return it($t,K,Math.max(R.AnnotationEditor.MIN_SIZE,Me[2]-Me[0])),it($t,de,Math.max(R.AnnotationEditor.MIN_SIZE,Me[3]-Me[1])),ze(at=$t,Lt,Xi).call(at,yn,At),$t}serialize(){if(this.isEmpty())return null;const Ze=this.getRect(0,0),kt=R.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:O.AnnotationEditorType.INK,color:kt,thickness:this.thickness,opacity:this.opacity,paths:ze(this,en,qa).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ze),pageIndex:this.pageIndex,rect:Ze,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};de=new WeakMap,K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakMap,se=new WeakMap,ue=new WeakMap,pe=new WeakMap,ee=new WeakMap,ae=new WeakMap,Ae=new WeakSet,Ia=function(Ze){const kt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ze,ze(this,Ne,xr).call(this)},undo:()=>{this.thickness=kt,ze(this,Ne,xr).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},te=new WeakSet,Da=function(Ze){const kt=this.color;this.addCommands({cmd:()=>{this.color=Ze,ze(this,Re,hr).call(this)},undo:()=>{this.color=kt,ze(this,Re,hr).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},he=new WeakSet,Oa=function(Ze){Ze/=100;const kt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ze,ze(this,Re,hr).call(this)},undo:()=>{this.opacity=kt,ze(this,Re,hr).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},De=new WeakSet,Na=function(){const{parentRotation:Ze,parentDimensions:[kt,Bt]}=this;switch(Ze){case 90:return[0,Bt,Bt,kt];case 180:return[kt,Bt,kt,Bt];case 270:return[kt,0,Bt,kt];default:return[0,0,kt,Bt]}},$e=new WeakSet,Ui=function(){const{ctx:Ze,color:kt,opacity:Bt,thickness:$t,parentScale:jt,scaleFactor:Ht}=this;Ze.lineWidth=$t*jt/Ht,Ze.lineCap="round",Ze.lineJoin="round",Ze.miterLimit=10,Ze.strokeStyle=`${kt}${(0,ve.opacityToHex)(Bt)}`},et=new WeakSet,Ba=function(Ze,kt){this.canvas.addEventListener("contextmenu",Y.noContextMenu),this.canvas.addEventListener("pointerleave",V(this,le)),this.canvas.addEventListener("pointermove",V(this,Ee)),this.canvas.addEventListener("pointerup",V(this,ne)),this.canvas.removeEventListener("pointerdown",V(this,re)),this.isEditing=!0,V(this,se)||(it(this,se,!0),ze(this,vt,kr).call(this),this.thickness||(this.thickness=ht._defaultThickness),this.color||(this.color=ht._defaultColor||R.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=ht._defaultOpacity)),this.currentPath.push([Ze,kt]),it(this,oe,!1),ze(this,$e,Ui).call(this),it(this,ae,()=>{ze(this,J,Ha).call(this),V(this,ae)&&window.requestAnimationFrame(V(this,ae))}),window.requestAnimationFrame(V(this,ae))},rt=new WeakSet,Gi=function(Ze,kt){const[Bt,$t]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ze===Bt&&kt===$t)return;const jt=this.currentPath;let Ht=V(this,Q);if(jt.push([Ze,kt]),it(this,oe,!0),jt.length<=2){Ht.moveTo(...jt[0]),Ht.lineTo(Ze,kt);return}jt.length===3&&(it(this,Q,Ht=new Path2D),Ht.moveTo(...jt[0])),ze(this,ie,Va).call(this,Ht,...jt.at(-3),...jt.at(-2),Ze,kt)},ft=new WeakSet,ja=function(){if(this.currentPath.length===0)return;const Ze=this.currentPath.at(-1);V(this,Q).lineTo(...Ze)},we=new WeakSet,za=function(Ze,kt){it(this,ae,null),Ze=Math.min(Math.max(Ze,0),this.canvas.width),kt=Math.min(Math.max(kt,0),this.canvas.height),ze(this,rt,Gi).call(this,Ze,kt),ze(this,ft,ja).call(this);let Bt;if(this.currentPath.length!==1)Bt=ze(this,ye,Wa).call(this);else{const At=[Ze,kt];Bt=[[At,At.slice(),At.slice(),At]]}const $t=V(this,Q),jt=this.currentPath;this.currentPath=[],it(this,Q,new Path2D);const Ht=()=>{this.allRawPaths.push(jt),this.paths.push(Bt),this.bezierPath2D.push($t),this.rebuild()},yn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ze(this,ct,ei).call(this),ze(this,dt,ti).call(this)),ze(this,Ne,xr).call(this))};this.addCommands({cmd:Ht,undo:yn,mustExec:!0})},J=new WeakSet,Ha=function(){if(!V(this,oe))return;it(this,oe,!1);const Ze=Math.ceil(this.thickness*this.parentScale),kt=this.currentPath.slice(-3),Bt=kt.map(Ht=>Ht[0]),$t=kt.map(Ht=>Ht[1]);Math.min(...Bt)-Ze,Math.max(...Bt)+Ze,Math.min(...$t)-Ze,Math.max(...$t)+Ze;const{ctx:jt}=this;jt.save(),jt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Ht of this.bezierPath2D)jt.stroke(Ht);jt.stroke(V(this,Q)),jt.restore()},ie=new WeakSet,Va=function(Ze,kt,Bt,$t,jt,Ht,yn){const At=(kt+$t)/2,pn=(Bt+jt)/2,Nt=($t+Ht)/2,xe=(jt+yn)/2;Ze.bezierCurveTo(At+2*($t-At)/3,pn+2*(jt-pn)/3,Nt+2*($t-Nt)/3,xe+2*(jt-xe)/3,Nt,xe)},ye=new WeakSet,Wa=function(){const Ze=this.currentPath;if(Ze.length<=2)return[[Ze[0],Ze[0],Ze.at(-1),Ze.at(-1)]];const kt=[];let Bt,[$t,jt]=Ze[0];for(Bt=1;Bt<Ze.length-2;Bt++){const[U,Se]=Ze[Bt],[Me,Be]=Ze[Bt+1],Xe=(U+Me)/2,at=(Se+Be)/2,Et=[$t+2*(U-$t)/3,jt+2*(Se-jt)/3],Ft=[Xe+2*(U-Xe)/3,at+2*(Se-at)/3];kt.push([[$t,jt],Et,Ft,[Xe,at]]),[$t,jt]=[Xe,at]}const[Ht,yn]=Ze[Bt],[At,pn]=Ze[Bt+1],Nt=[$t+2*(Ht-$t)/3,jt+2*(yn-jt)/3],xe=[At+2*(Ht-At)/3,pn+2*(yn-pn)/3];return kt.push([[$t,jt],Nt,xe,[At,pn]]),kt},Re=new WeakSet,hr=function(){if(this.isEmpty()){ze(this,Ue,ni).call(this);return}ze(this,$e,Ui).call(this);const{canvas:Ze,ctx:kt}=this;kt.setTransform(1,0,0,1,0,0),kt.clearRect(0,0,Ze.width,Ze.height),ze(this,Ue,ni).call(this);for(const Bt of this.bezierPath2D)kt.stroke(Bt)},qe=new WeakSet,qi=function(Ze){this.canvas.removeEventListener("pointerleave",V(this,le)),this.canvas.removeEventListener("pointermove",V(this,Ee)),this.canvas.removeEventListener("pointerup",V(this,ne)),this.canvas.addEventListener("pointerdown",V(this,re)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Y.noContextMenu)},10),ze(this,we,za).call(this,Ze.offsetX,Ze.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ct=new WeakSet,ei=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",R.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ze=>{var kt;return(kt=this.canvas)==null?void 0:kt.setAttribute("aria-label",Ze)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},dt=new WeakSet,ti=function(){it(this,ue,new ResizeObserver(Ze=>{const kt=Ze[0].contentRect;kt.width&&kt.height&&this.setDimensions(kt.width,kt.height)})),V(this,ue).observe(this.div)},vt=new WeakSet,kr=function(){if(!V(this,se))return;const[Ze,kt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ze),this.canvas.height=Math.ceil(this.height*kt),ze(this,Ue,ni).call(this)},Lt=new WeakSet,Xi=function(Ze,kt){const Bt=ze(this,ut,ri).call(this),$t=(Ze-Bt)/V(this,K),jt=(kt-Bt)/V(this,de);this.scaleFactor=Math.min($t,jt)},Ue=new WeakSet,ni=function(){const Ze=ze(this,ut,ri).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ze,this.translationY*this.scaleFactor+Ze)},lt=new WeakSet,Ua=function(Ze){const kt=new Path2D;for(let Bt=0,$t=Ze.length;Bt<$t;Bt++){const[jt,Ht,yn,At]=Ze[Bt];Bt===0&&kt.moveTo(...jt),kt.bezierCurveTo(Ht[0],Ht[1],yn[0],yn[1],At[0],At[1])}return kt},Pt=new WeakSet,Ki=function(Ze,kt,Bt){const[$t,jt,Ht,yn]=kt;switch(Bt){case 0:for(let At=0,pn=Ze.length;At<pn;At+=2)Ze[At]+=$t,Ze[At+1]=yn-Ze[At+1];break;case 90:for(let At=0,pn=Ze.length;At<pn;At+=2){const Nt=Ze[At];Ze[At]=Ze[At+1]+$t,Ze[At+1]=Nt+jt}break;case 180:for(let At=0,pn=Ze.length;At<pn;At+=2)Ze[At]=Ht-Ze[At],Ze[At+1]+=jt;break;case 270:for(let At=0,pn=Ze.length;At<pn;At+=2){const Nt=Ze[At];Ze[At]=Ht-Ze[At+1],Ze[At+1]=yn-Nt}break;default:throw new Error("Invalid rotation")}return Ze},Jt=new WeakSet,Ga=function(Ze,kt,Bt){const[$t,jt,Ht,yn]=kt;switch(Bt){case 0:for(let At=0,pn=Ze.length;At<pn;At+=2)Ze[At]-=$t,Ze[At+1]=yn-Ze[At+1];break;case 90:for(let At=0,pn=Ze.length;At<pn;At+=2){const Nt=Ze[At];Ze[At]=Ze[At+1]-jt,Ze[At+1]=Nt-$t}break;case 180:for(let At=0,pn=Ze.length;At<pn;At+=2)Ze[At]=Ht-Ze[At],Ze[At+1]-=jt;break;case 270:for(let At=0,pn=Ze.length;At<pn;At+=2){const Nt=Ze[At];Ze[At]=yn-Ze[At+1],Ze[At+1]=Ht-Nt}break;default:throw new Error("Invalid rotation")}return Ze},en=new WeakSet,qa=function(Ze,kt,Bt,$t){var pn,Nt;const jt=[],Ht=this.thickness/2,yn=Ze*kt+Ht,At=Ze*Bt+Ht;for(const xe of this.paths){const U=[],Se=[];for(let Me=0,Be=xe.length;Me<Be;Me++){const[Xe,at,Et,Ft]=xe[Me],Tt=Ze*Xe[0]+yn,nn=Ze*Xe[1]+At,Dt=Ze*at[0]+yn,Ot=Ze*at[1]+At,Kt=Ze*Et[0]+yn,ln=Ze*Et[1]+At,En=Ze*Ft[0]+yn,Cn=Ze*Ft[1]+At;Me===0&&(U.push(Tt,nn),Se.push(Tt,nn)),U.push(Dt,Ot,Kt,ln,En,Cn),Se.push(Dt,Ot),Me===Be-1&&Se.push(En,Cn)}jt.push({bezier:ze(pn=ht,Pt,Ki).call(pn,U,$t,this.rotation),points:ze(Nt=ht,Pt,Ki).call(Nt,Se,$t,this.rotation)})}return jt},Wt=new WeakSet,Yi=function(){let Ze=1/0,kt=-1/0,Bt=1/0,$t=-1/0;for(const jt of this.paths)for(const[Ht,yn,At,pn]of jt){const Nt=O.Util.bezierBoundingBox(...Ht,...yn,...At,...pn);Ze=Math.min(Ze,Nt[0]),Bt=Math.min(Bt,Nt[1]),kt=Math.max(kt,Nt[2]),$t=Math.max($t,Nt[3])}return[Ze,Bt,kt,$t]},ut=new WeakSet,ri=function(){return V(this,q)?Math.ceil(this.thickness*this.parentScale):0},Ne=new WeakSet,xr=function(Ze=!1){if(this.isEmpty())return;if(!V(this,q)){ze(this,Re,hr).call(this);return}const kt=ze(this,Wt,Yi).call(this),Bt=ze(this,ut,ri).call(this);it(this,K,Math.max(R.AnnotationEditor.MIN_SIZE,kt[2]-kt[0])),it(this,de,Math.max(R.AnnotationEditor.MIN_SIZE,kt[3]-kt[1]));const $t=Math.ceil(Bt+V(this,K)*this.scaleFactor),jt=Math.ceil(Bt+V(this,de)*this.scaleFactor),[Ht,yn]=this.parentDimensions;this.width=$t/Ht,this.height=jt/yn,this.setAspectRatio($t,jt);const At=this.translationX,pn=this.translationY;this.translationX=-kt[0],this.translationY=-kt[1],ze(this,vt,kr).call(this),ze(this,Re,hr).call(this),it(this,pe,$t),it(this,ee,jt),this.setDims($t,jt);const Nt=Ze?Bt/this.scaleFactor/2:0;this.translate(At-this.translationX-Nt,pn-this.translationY-Nt)},Te(ht,lt),Te(ht,Pt),Te(ht,Jt),On(ht,"_defaultColor",null),On(ht,"_defaultOpacity",1),On(ht,"_defaultThickness",1),On(ht,"_type","ink");let fe=ht;$.InkEditor=fe},(A,$,H)=>{var fe,de,K,Ee,le,ne,re,Q,q,oe,se,Or,pe,Nr,ae,ii,ge,Zi,_e,Xa,Pe,Ka,be,Ji,Ve,ai,Fe,Ya;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var O=H(1),R=H(4),B=H(6),Y=H(29);const ot=class ot extends R.AnnotationEditor{constructor(we){super({...we,name:"stampEditor"});Te(this,se);Te(this,pe);Te(this,ae);Te(this,ge);Te(this,_e);Te(this,Pe);Te(this,be);Te(this,Ve);Te(this,Fe);Te(this,fe,null);Te(this,de,null);Te(this,K,null);Te(this,Ee,null);Te(this,le,null);Te(this,ne,null);Te(this,re,null);Te(this,Q,null);Te(this,q,!1);Te(this,oe,!1);it(this,Ee,we.bitmapUrl),it(this,le,we.bitmapFile)}static initialize(we){R.AnnotationEditor.initialize(we)}static get supportedTypes(){const we=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,O.shadow)(this,"supportedTypes",we.map(W=>`image/${W}`))}static get supportedTypesStr(){return(0,O.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(we){return this.supportedTypes.includes(we)}static paste(we,W){W.pasteEditor(O.AnnotationEditorType.STAMP,{bitmapFile:we.getAsFile()})}remove(){var we,W;V(this,de)&&(it(this,fe,null),this._uiManager.imageManager.deleteId(V(this,de)),(we=V(this,ne))==null||we.remove(),it(this,ne,null),(W=V(this,re))==null||W.disconnect(),it(this,re,null)),super.remove()}rebuild(){if(!this.parent){V(this,de)&&ze(this,ae,ii).call(this);return}super.rebuild(),this.div!==null&&(V(this,de)&&ze(this,ae,ii).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(V(this,K)||V(this,fe)||V(this,Ee)||V(this,le))}get isResizable(){return!0}render(){if(this.div)return this.div;let we,W;if(this.width&&(we=this.x,W=this.y),super.render(),this.div.hidden=!0,V(this,fe)?ze(this,ge,Zi).call(this):ze(this,ae,ii).call(this),this.width){const[J,G]=this.parentDimensions;this.setAt(we*J,W*G,this.width*J,this.height*G)}return this.div}static deserialize(we,W,J){if(we instanceof Y.StampAnnotationElement)return null;const G=super.deserialize(we,W,J),{rect:ie,bitmapUrl:ce,bitmapId:ye,isSvg:Ce,accessibilityData:Re}=we;ye&&J.imageManager.isValidId(ye)?it(G,de,ye):it(G,Ee,ce),it(G,q,Ce);const[Ke,qe]=G.pageDimensions;return G.width=(ie[2]-ie[0])/Ke,G.height=(ie[3]-ie[1])/qe,Re&&(G.altTextData=Re),G}serialize(we=!1,W=null){if(this.isEmpty())return null;const J={annotationType:O.AnnotationEditorType.STAMP,bitmapId:V(this,de),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:V(this,q),structTreeParentId:this._structTreeParentId};if(we)return J.bitmapUrl=ze(this,Ve,ai).call(this,!0),J.accessibilityData=this.altTextData,J;const{decorative:G,altText:ie}=this.altTextData;if(!G&&ie&&(J.accessibilityData={type:"Figure",alt:ie}),W===null)return J;W.stamps||(W.stamps=new Map);const ce=V(this,q)?(J.rect[2]-J.rect[0])*(J.rect[3]-J.rect[1]):null;if(!W.stamps.has(V(this,de)))W.stamps.set(V(this,de),{area:ce,serialized:J}),J.bitmap=ze(this,Ve,ai).call(this,!1);else if(V(this,q)){const ye=W.stamps.get(V(this,de));ce>ye.area&&(ye.area=ce,ye.serialized.bitmap.close(),ye.serialized.bitmap=ze(this,Ve,ai).call(this,!1))}return J}};fe=new WeakMap,de=new WeakMap,K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakMap,se=new WeakSet,Or=function(we,W=!1){if(!we){this.remove();return}it(this,fe,we.bitmap),W||(it(this,de,we.id),it(this,q,we.isSvg)),ze(this,ge,Zi).call(this)},pe=new WeakSet,Nr=function(){it(this,K,null),this._uiManager.enableWaiting(!1),V(this,ne)&&this.div.focus()},ae=new WeakSet,ii=function(){if(V(this,de)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(V(this,de)).then(W=>ze(this,se,Or).call(this,W,!0)).finally(()=>ze(this,pe,Nr).call(this));return}if(V(this,Ee)){const W=V(this,Ee);it(this,Ee,null),this._uiManager.enableWaiting(!0),it(this,K,this._uiManager.imageManager.getFromUrl(W).then(J=>ze(this,se,Or).call(this,J)).finally(()=>ze(this,pe,Nr).call(this)));return}if(V(this,le)){const W=V(this,le);it(this,le,null),this._uiManager.enableWaiting(!0),it(this,K,this._uiManager.imageManager.getFromFile(W).then(J=>ze(this,se,Or).call(this,J)).finally(()=>ze(this,pe,Nr).call(this)));return}const we=document.createElement("input");we.type="file",we.accept=ot.supportedTypesStr,it(this,K,new Promise(W=>{we.addEventListener("change",async()=>{if(!we.files||we.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const J=await this._uiManager.imageManager.getFromFile(we.files[0]);ze(this,se,Or).call(this,J)}W()}),we.addEventListener("cancel",()=>{this.remove(),W()})}).finally(()=>ze(this,pe,Nr).call(this))),we.click()},ge=new WeakSet,Zi=function(){const{div:we}=this;let{width:W,height:J}=V(this,fe);const[G,ie]=this.pageDimensions,ce=.75;if(this.width)W=this.width*G,J=this.height*ie;else if(W>ce*G||J>ce*ie){const Ke=Math.min(ce*G/W,ce*ie/J);W*=Ke,J*=Ke}const[ye,Ce]=this.parentDimensions;this.setDims(W*ye/G,J*Ce/ie),this._uiManager.enableWaiting(!1);const Re=it(this,ne,document.createElement("canvas"));we.append(Re),we.hidden=!1,ze(this,be,Ji).call(this,W,J),ze(this,Fe,Ya).call(this),V(this,oe)||(this.parent.addUndoableEditor(this),it(this,oe,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},_e=new WeakSet,Xa=function(we,W){var ce;const[J,G]=this.parentDimensions;this.width=we/J,this.height=W/G,this.setDims(we,W),(ce=this._initialOptions)!=null&&ce.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,V(this,Q)!==null&&clearTimeout(V(this,Q)),it(this,Q,setTimeout(()=>{it(this,Q,null),ze(this,be,Ji).call(this,we,W)},200))},Pe=new WeakSet,Ka=function(we,W){const{width:J,height:G}=V(this,fe);let ie=J,ce=G,ye=V(this,fe);for(;ie>2*we||ce>2*W;){const Ce=ie,Re=ce;ie>2*we&&(ie=ie>=16384?Math.floor(ie/2)-1:Math.ceil(ie/2)),ce>2*W&&(ce=ce>=16384?Math.floor(ce/2)-1:Math.ceil(ce/2));const Ke=new OffscreenCanvas(ie,ce);Ke.getContext("2d").drawImage(ye,0,0,Ce,Re,0,0,ie,ce),ye=Ke.transferToImageBitmap()}return ye},be=new WeakSet,Ji=function(we,W){we=Math.ceil(we),W=Math.ceil(W);const J=V(this,ne);if(!J||J.width===we&&J.height===W)return;J.width=we,J.height=W;const G=V(this,q)?V(this,fe):ze(this,Pe,Ka).call(this,we,W),ie=J.getContext("2d");ie.filter=this._uiManager.hcmFilter,ie.drawImage(G,0,0,G.width,G.height,0,0,we,W)},Ve=new WeakSet,ai=function(we){if(we){if(V(this,q)){const G=this._uiManager.imageManager.getSvgUrl(V(this,de));if(G)return G}const W=document.createElement("canvas");return{width:W.width,height:W.height}=V(this,fe),W.getContext("2d").drawImage(V(this,fe),0,0),W.toDataURL()}if(V(this,q)){const[W,J]=this.pageDimensions,G=Math.round(this.width*W*B.PixelsPerInch.PDF_TO_CSS_UNITS),ie=Math.round(this.height*J*B.PixelsPerInch.PDF_TO_CSS_UNITS),ce=new OffscreenCanvas(G,ie);return ce.getContext("2d").drawImage(V(this,fe),0,0,V(this,fe).width,V(this,fe).height,0,0,G,ie),ce.transferToImageBitmap()}return structuredClone(V(this,fe))},Fe=new WeakSet,Ya=function(){it(this,re,new ResizeObserver(we=>{const W=we[0].contentRect;W.width&&W.height&&ze(this,_e,Xa).call(this,W.width,W.height)})),V(this,re).observe(this.div)},On(ot,"_type","stamp");let ve=ot;$.StampEditor=ve}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var $=__webpack_module_cache__[A];if($!==void 0)return $.exports;var H=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](H,H.exports,__w_pdfjs_require__),H.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return B.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Y.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return ve.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(A,"DOMSVGFactory",{enumerable:!0,get:function(){return O.DOMSVGFactory}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return fe.GlobalWorkerOptions}}),Object.defineProperty(A,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return O.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return O.PixelsPerInch}}),Object.defineProperty(A,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return O.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return H.SVGGraphics}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return de.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return O.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return O.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return O.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return O.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return O.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return O.loadScript}}),Object.defineProperty(A,"noContextMenu",{enumerable:!0,get:function(){return O.noContextMenu}}),Object.defineProperty(A,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return R.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return O.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return R.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return H.version}});var $=__w_pdfjs_require__(1),H=__w_pdfjs_require__(2),O=__w_pdfjs_require__(6),R=__w_pdfjs_require__(26),B=__w_pdfjs_require__(27),Y=__w_pdfjs_require__(5),ve=__w_pdfjs_require__(29),fe=__w_pdfjs_require__(14),de=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]);(function(A){var $=reactExports,H=pdfExports;function O(X){var me=Object.create(null);return X&&Object.keys(X).forEach(function(ke){if(ke!=="default"){var Le=Object.getOwnPropertyDescriptor(X,ke);Object.defineProperty(me,ke,Le.get?Le:{enumerable:!0,get:function(){return X[ke]}})}}),me.default=X,Object.freeze(me)}var R,B=O($),Y=O(H);A.AnnotationType=void 0,(R=A.AnnotationType||(A.AnnotationType={}))[R.Text=1]="Text",R[R.Link=2]="Link",R[R.FreeText=3]="FreeText",R[R.Line=4]="Line",R[R.Square=5]="Square",R[R.Circle=6]="Circle",R[R.Polygon=7]="Polygon",R[R.Polyline=8]="Polyline",R[R.Highlight=9]="Highlight",R[R.Underline=10]="Underline",R[R.Squiggly=11]="Squiggly",R[R.StrikeOut=12]="StrikeOut",R[R.Stamp=13]="Stamp",R[R.Caret=14]="Caret",R[R.Ink=15]="Ink",R[R.Popup=16]="Popup",R[R.FileAttachment=17]="FileAttachment";var ve=function(X,me){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ke,Le){ke.__proto__=Le}||function(ke,Le){for(var Oe in Le)Object.prototype.hasOwnProperty.call(Le,Oe)&&(ke[Oe]=Le[Oe])},ve(X,me)};function fe(X,me){if(typeof me!="function"&&me!==null)throw new TypeError("Class extends value "+String(me)+" is not a constructor or null");function ke(){this.constructor=X}ve(X,me),X.prototype=me===null?Object.create(me):(ke.prototype=me.prototype,new ke)}var de,K=function(){return K=Object.assign||function(X){for(var me,ke=1,Le=arguments.length;ke<Le;ke++)for(var Oe in me=arguments[ke])Object.prototype.hasOwnProperty.call(me,Oe)&&(X[Oe]=me[Oe]);return X},K.apply(this,arguments)};A.TextDirection=void 0,(de=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",de.LeftToRight="LTR";var Ee,le=B.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ne=function(X){var me=[];return Object.keys(X).forEach(function(ke){ke&&X[ke]&&me.push(ke)}),me.join(" ")},re=typeof window<"u"?B.useLayoutEffect:B.useEffect,Q=function(X){var me=B.useRef(null),ke=X.once,Le=X.threshold,Oe=X.onVisibilityChanged;return re(function(){var je=me.current;if(je){var tt=new IntersectionObserver(function(Ye){Ye.forEach(function(Ie){var Qe=Ie.isIntersecting,Je=Ie.intersectionRatio;Oe({isVisible:Qe,ratio:Je}),Qe&&ke&&(tt.unobserve(je),tt.disconnect())})},{threshold:Le||0});return tt.observe(je),function(){tt.unobserve(je),tt.disconnect()}}},[]),me},q=function(X){var me=X.children,ke=X.ignoreDirection,Le=ke!==void 0&&ke,Oe=X.size,je=Oe===void 0?24:Oe,tt=B.useContext(le).direction,Ye=!Le&&tt===A.TextDirection.RightToLeft,Ie="".concat(je||24,"px");return B.createElement("svg",{"aria-hidden":"true",className:ne({"rpv-core__icon":!0,"rpv-core__icon--rtl":Ye}),focusable:"false",height:Ie,viewBox:"0 0 24 24",width:Ie},me)},oe=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},se=function(X){var me=X.children,ke=X.testId,Le=X.onClick,Oe=B.useContext(le).direction===A.TextDirection.RightToLeft,je=ke?{"data-testid":ke}:{};return B.createElement("button",K({className:ne({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Oe}),type:"button",onClick:Le},je),me)},ue=function(X){var me=X.size,ke=me===void 0?"4rem":me,Le=X.testId,Oe=B.useState(!1),je=Oe[0],tt=Oe[1],Ye=Le?{"data-testid":Le}:{},Ie=Q({onVisibilityChanged:function(Qe){tt(Qe.isVisible)}});return B.createElement("div",K({},Ye,{className:ne({"rpv-core__spinner":!0,"rpv-core__spinner--animating":je}),ref:Ie,style:{height:ke,width:ke}}))},pe=function(X){var me=X.ariaLabel,ke=me===void 0?"":me,Le=X.autoFocus,Oe=Le!==void 0&&Le,je=X.placeholder,tt=je===void 0?"":je,Ye=X.testId,Ie=X.type,Qe=Ie===void 0?"text":Ie,Je=X.value,yt=Je===void 0?"":Je,_t=X.onChange,gt=X.onKeyDown,It=gt===void 0?function(){}:gt,Rt=B.useContext(le).direction,Mt=B.useRef(),_n=Rt===A.TextDirection.RightToLeft,Qt={ref:Mt,"data-testid":"","aria-label":ke,className:ne({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":_n}),placeholder:tt,value:yt,onChange:function(tn){return _t(tn.target.value)},onKeyDown:It};return Ye&&(Qt["data-testid"]=Ye),re(function(){if(Oe){var tn=Mt.current;if(tn){var cn=window.scrollX,Ut=window.scrollY;tn.focus(),window.scrollTo(cn,Ut)}}},[]),Qe==="text"?B.createElement("input",K({type:"text"},Qt)):B.createElement("input",K({type:"password"},Qt))};(function(X){X[X.ExitFullScreen=0]="ExitFullScreen",X[X.FullScreenChange=1]="FullScreenChange",X[X.FullScreenElement=2]="FullScreenElement",X[X.FullScreenEnabled=3]="FullScreenEnabled",X[X.RequestFullScreen=4]="RequestFullScreen"})(Ee||(Ee={}));var ee,ae={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Ae={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},ge={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},te=typeof window<"u",_e=te&&(Ee.FullScreenEnabled in document&&ae||Ae.FullScreenEnabled in document&&Ae||ge.FullScreenEnabled in document&&ge)||ae,he=function(){return te&&_e.FullScreenEnabled in document&&document[_e.FullScreenEnabled]===!0},Pe=function(X){return te?X[_e.ExitFullScreen]():Promise.resolve({})},De=function(){return te?document[_e.FullScreenElement]:null},be=function(X,me){var ke=B.useRef(),Le=function(){ke.current&&clearTimeout(ke.current)};return B.useEffect(function(){return function(){return Le()}},[]),B.useCallback(function(){for(var Oe=[],je=0;je<arguments.length;je++)Oe[je]=arguments[je];Le(),ke.current=setTimeout(function(){X.apply(void 0,Oe)},me)},[X,me])},$e=function(){var X=B.useRef(!1);return B.useEffect(function(){return X.current=!0,function(){X.current=!1}},[]),X},Ve=function(X){var me=B.useRef(X);return B.useEffect(function(){me.current=X},[X]),me.current};(function(X){X.NotRenderedYet="NotRenderedYet",X.Rendering="Rendering",X.Rendered="Rendered"})(ee||(ee={}));var et,Fe=-9999,rt=function(X){var me=X.doc,ke=me.numPages,Le=me.loadingTask.docId,Oe=B.useMemo(function(){return Array(ke).fill(null).map(function(Ye,Ie){return{pageIndex:Ie,renderStatus:ee.NotRenderedYet,visibility:Fe}})},[Le]),je=B.useRef({currentRenderingPage:-1,startRange:0,endRange:ke-1,visibilities:Oe}),tt=function(Ye,Ie){je.current.visibilities[Ye].visibility=Ie};return{getHighestPriorityPage:function(){var Ye=je.current.visibilities.slice(je.current.startRange,je.current.endRange+1).filter(function(_t){return _t.visibility>Fe});if(!Ye.length)return-1;for(var Ie=Ye[0].pageIndex,Qe=Ye[Ye.length-1].pageIndex,Je=Ye.length,yt=0;yt<Je;yt++){if(Ye[yt].renderStatus===ee.Rendering)return-1;if(Ye[yt].renderStatus===ee.NotRenderedYet)return Ye[yt].pageIndex}return Qe+1<ke&&je.current.visibilities[Qe+1].renderStatus!==ee.Rendered?Qe+1:Ie-1>=0&&je.current.visibilities[Ie-1].renderStatus!==ee.Rendered?Ie-1:-1},isInRange:function(Ye){return Ye>=je.current.startRange&&Ye<=je.current.endRange},markNotRendered:function(){for(var Ye=0;Ye<ke;Ye++)je.current.visibilities[Ye].renderStatus=ee.NotRenderedYet},markRendered:function(Ye){je.current.visibilities[Ye].renderStatus=ee.Rendered},markRendering:function(Ye){je.current.currentRenderingPage!==-1&&je.current.currentRenderingPage!==Ye&&je.current.visibilities[je.current.currentRenderingPage].renderStatus===ee.Rendering&&(je.current.visibilities[je.current.currentRenderingPage].renderStatus=ee.NotRenderedYet),je.current.visibilities[Ye].renderStatus=ee.Rendering,je.current.currentRenderingPage=Ye},setOutOfRange:function(Ye){tt(Ye,Fe)},setRange:function(Ye,Ie){je.current.startRange=Ye,je.current.endRange=Ie;for(var Qe=0;Qe<ke;Qe++)(Qe<Ye||Qe>Ie)&&(je.current.visibilities[Qe].visibility=Fe,je.current.visibilities[Qe].renderStatus=ee.NotRenderedYet)},setVisibility:tt}},ot={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},ft=B.createContext({l10n:ot,setL10n:function(){}}),St=0,we=function(){return St++},W=function(X,me,ke){var Le=function(Oe){var je=me.current;if(je){var tt=Oe.target;if(tt instanceof Element&&tt.shadowRoot){var Ye=Oe.composedPath();Ye.length>0&&!je.contains(Ye[0])&&ke()}else je.contains(tt)||ke()}};B.useEffect(function(){if(X){var Oe={capture:!0};return document.addEventListener("click",Le,Oe),function(){document.removeEventListener("click",Le,Oe)}}},[])},J=function(X){var me=function(ke){ke.key==="Escape"&&X()};B.useEffect(function(){return document.addEventListener("keyup",me),function(){document.removeEventListener("keyup",me)}},[])},G=function(X){var me=X.ariaControlsSuffix,ke=X.children,Le=X.closeOnClickOutside,Oe=X.closeOnEscape,je=X.onToggle,tt=B.useRef(),Ye=B.useContext(le).direction===A.TextDirection.RightToLeft;return B.useEffect(function(){var Ie=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Ie}},[]),J(function(){tt.current&&Oe&&je()}),W(Le,tt,je),re(function(){var Ie=tt.current;if(Ie){var Qe=.75*document.body.clientHeight;Ie.getBoundingClientRect().height>=Qe&&(Ie.style.overflow="auto",Ie.style.maxHeight="".concat(Qe,"px"))}},[]),B.createElement("div",{"aria-modal":"true",className:ne({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Ye}),id:"rpv-core__modal-body-".concat(me),ref:tt,role:"dialog",tabIndex:-1},ke)},ie=function(X){var me=X.children;return B.createElement("div",{className:"rpv-core__modal-overlay"},me)};A.ToggleStatus=void 0,(et=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",et.Open="Open",et.Toggle="Toggle";var ce,ye=function(X){var me=B.useState(X),ke=me[0],Le=me[1];return{opened:ke,toggle:function(Oe){switch(Oe){case A.ToggleStatus.Close:Le(!1);break;case A.ToggleStatus.Open:Le(!0);break;case A.ToggleStatus.Toggle:default:Le(function(je){return!je})}}}},Ce=function(X){var me=X.content,ke=X.isOpened,Le=ke!==void 0&&ke,Oe=X.target,je=ye(Le),tt=je.opened,Ye=je.toggle;return B.createElement(B.Fragment,null,Oe&&Oe(Ye,tt),tt&&me(Ye))};A.Position=void 0,(ce=A.Position||(A.Position={})).TopLeft="TOP_LEFT",ce.TopCenter="TOP_CENTER",ce.TopRight="TOP_RIGHT",ce.RightTop="RIGHT_TOP",ce.RightCenter="RIGHT_CENTER",ce.RightBottom="RIGHT_BOTTOM",ce.BottomLeft="BOTTOM_LEFT",ce.BottomCenter="BOTTOM_CENTER",ce.BottomRight="BOTTOM_RIGHT",ce.LeftTop="LEFT_TOP",ce.LeftCenter="LEFT_CENTER",ce.LeftBottom="LEFT_BOTTOM";var Re,Ke,qe,nt,ct,bt,dt,pt,vt=function(X,me,ke,Le,Oe){re(function(){var je=me.current,tt=X.current,Ye=ke.current;if(tt&&je&&Ye){var Ie=Ye.getBoundingClientRect(),Qe=function(_t,gt,It,Rt){var Mt=gt.getBoundingClientRect(),_n=_t.getBoundingClientRect(),Qt=_n.height,tn=_n.width,cn=0,Ut=0;switch(It){case A.Position.TopLeft:cn=Mt.top-Qt,Ut=Mt.left;break;case A.Position.TopCenter:cn=Mt.top-Qt,Ut=Mt.left+Mt.width/2-tn/2;break;case A.Position.TopRight:cn=Mt.top-Qt,Ut=Mt.left+Mt.width-tn;break;case A.Position.RightTop:cn=Mt.top,Ut=Mt.left+Mt.width;break;case A.Position.RightCenter:cn=Mt.top+Mt.height/2-Qt/2,Ut=Mt.left+Mt.width;break;case A.Position.RightBottom:cn=Mt.top+Mt.height-Qt,Ut=Mt.left+Mt.width;break;case A.Position.BottomLeft:cn=Mt.top+Mt.height,Ut=Mt.left;break;case A.Position.BottomCenter:cn=Mt.top+Mt.height,Ut=Mt.left+Mt.width/2-tn/2;break;case A.Position.BottomRight:cn=Mt.top+Mt.height,Ut=Mt.left+Mt.width-tn;break;case A.Position.LeftTop:cn=Mt.top,Ut=Mt.left-tn;break;case A.Position.LeftCenter:cn=Mt.top+Mt.height/2-Qt/2,Ut=Mt.left-tn;break;case A.Position.LeftBottom:cn=Mt.top+Mt.height-Qt,Ut=Mt.left-tn}return{left:Ut+(Rt.left||0),top:cn+(Rt.top||0)}}(tt,je,Le,Oe),Je=Qe.top,yt=Qe.left;tt.style.top="".concat(Je-Ie.top,"px"),tt.style.left="".concat(yt-Ie.left,"px")}},[])},mt=function(X){var me,ke=X.customClassName,Le=X.position;return B.createElement("div",{className:ne((me={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Le===A.Position.TopLeft,"rpv-core__arrow--tc":Le===A.Position.TopCenter,"rpv-core__arrow--tr":Le===A.Position.TopRight,"rpv-core__arrow--rt":Le===A.Position.RightTop,"rpv-core__arrow--rc":Le===A.Position.RightCenter,"rpv-core__arrow--rb":Le===A.Position.RightBottom,"rpv-core__arrow--bl":Le===A.Position.BottomLeft,"rpv-core__arrow--bc":Le===A.Position.BottomCenter,"rpv-core__arrow--br":Le===A.Position.BottomRight,"rpv-core__arrow--lt":Le===A.Position.LeftTop,"rpv-core__arrow--lc":Le===A.Position.LeftCenter,"rpv-core__arrow--lb":Le===A.Position.LeftBottom},me["".concat(ke)]=ke!=="",me))})},Lt=function(X){var me=X.ariaControlsSuffix,ke=X.children,Le=X.closeOnClickOutside,Oe=X.offset,je=X.position,tt=X.targetRef,Ye=X.onClose,Ie=B.useRef(),Qe=B.useRef(),Je=B.useRef(),yt=B.useContext(le).direction===A.TextDirection.RightToLeft;W(Le,Ie,Ye),vt(Ie,tt,Je,je,Oe),re(function(){var gt=Qe.current;if(gt){var It=.75*document.body.clientHeight;gt.getBoundingClientRect().height>=It&&(gt.style.overflow="auto",gt.style.maxHeight="".concat(It,"px"))}},[]);var _t="rpv-core__popover-body-inner-".concat(me);return B.createElement(B.Fragment,null,B.createElement("div",{ref:Je,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{"aria-describedby":_t,className:ne({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":yt}),id:"rpv-core__popover-body-".concat(me),ref:Ie,role:"dialog",tabIndex:-1},B.createElement(mt,{customClassName:"rpv-core__popover-body-arrow",position:je}),B.createElement("div",{id:_t,ref:Qe},ke)))},st=function(X){var me=X.closeOnEscape,ke=X.onClose,Le=B.useRef();return J(function(){Le.current&&me&&ke()}),B.createElement("div",{className:"rpv-core__popover-overlay",ref:Le})},Ue=function(X){var me=X.ariaControlsSuffix,ke=X.children,Le=X.contentRef,Oe=X.offset,je=X.position,tt=X.targetRef,Ye=B.useRef(),Ie=B.useContext(le).direction===A.TextDirection.RightToLeft;return vt(Le,tt,Ye,je,Oe),B.createElement(B.Fragment,null,B.createElement("div",{ref:Ye,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{className:ne({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Ie}),id:"rpv-core__tooltip-body-".concat(me),ref:Le,role:"tooltip"},B.createElement(mt,{customClassName:"rpv-core__tooltip-body-arrow",position:je}),B.createElement("div",{className:"rpv-core__tooltip-body-content"},ke)))};A.FullScreenMode=void 0,(Re=A.FullScreenMode||(A.FullScreenMode={})).Normal="Normal",Re.Entering="Entering",Re.Entered="Entered",Re.EnteredCompletely="EnteredCompletely",Re.Exitting="Exitting",Re.Exited="Exited",A.LayerRenderStatus=void 0,(Ke=A.LayerRenderStatus||(A.LayerRenderStatus={}))[Ke.PreRender=0]="PreRender",Ke[Ke.DidRender=1]="DidRender",A.PageMode=void 0,(qe=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",qe.Bookmarks="UseOutlines",qe.ContentGroup="UseOC",qe.Default="UserNone",qe.FullScreen="FullScreen",qe.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(nt=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",nt.WrongPassword="WrongPassword",A.RotateDirection=void 0,(ct=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",ct.Forward="Forward",A.ScrollMode=void 0,(bt=A.ScrollMode||(A.ScrollMode={})).Page="Page",bt.Horizontal="Horizontal",bt.Vertical="Vertical",bt.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(dt=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",dt.PageFit="PageFit",dt.PageWidth="PageWidth",A.ViewMode=void 0,(pt=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",pt.DualPageWithCover="DualPageWithCover",pt.SinglePage="SinglePage";var Ge,lt=function(X,me){return X.reduce(function(ke,Le,Oe){return Oe%me?ke[ke.length-1].push(Le):ke.push([Le]),ke},[])},Ct=function(X,me){switch(me[1].name){case"XYZ":return{bottomOffset:function(ke,Le){return me[3]===null?Le:me[3]},leftOffset:function(ke,Le){return me[2]===null?0:me[2]},pageIndex:X,scaleTo:me[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:X,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:me[2],leftOffset:0,pageIndex:X,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:X,scaleTo:1}}},Pt=new Map,Vt=new Map,Jt=function(X,me){return"".concat(X.loadingTask.docId,"___").concat(me.num,"R").concat(me.gen===0?"":me.gen)},Xt=function(X,me,ke){Pt.set(Jt(X,me),ke)},en=function(X,me){if(!X)return Promise.reject("The document is not loaded yet");var ke="".concat(X.loadingTask.docId,"___").concat(me),Le=Vt.get(ke);return Le?Promise.resolve(Le):new Promise(function(Oe,je){X.getPage(me+1).then(function(tt){Vt.set(ke,tt),tt.ref&&Xt(X,tt.ref,me),Oe(tt)})})},an=function(X,me){return new Promise(function(ke){new Promise(function(Le){typeof me=="string"?X.getDestination(me).then(function(Oe){Le(Oe)}):Le(me)}).then(function(Le){if(typeof Le[0]=="object"&&Le[0]!==null){var Oe=Le[0],je=function(Ye,Ie){var Qe=Jt(Ye,Ie);return Pt.has(Qe)?Pt.get(Qe):null}(X,Oe);je===null?X.getPageIndex(Oe).then(function(Ye){Xt(X,Oe,Ye),an(X,me).then(function(Ie){return ke(Ie)})}):ke(Ct(je,Le))}else{var tt=Ct(Le[0],Le);ke(tt)}})})};(function(X){X[X.Solid=1]="Solid",X[X.Dashed=2]="Dashed",X[X.Beveled=3]="Beveled",X[X.Inset=4]="Inset",X[X.Underline=5]="Underline"})(Ge||(Ge={}));var Wt,un=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),ut=function(X,me,ke,Le){var Oe=parseInt(X,10);return Oe>=me&&Oe<=ke?Oe:Le},We=function(X){return X.contentsObj?X.contentsObj.str:X.contents||""},Ne=function(X){return X.titleObj?X.titleObj.str:X.title||""},wt=function(X){var me=X.annotation,ke=B.useContext(le).direction,Le=Ne(me),Oe=We(me),je=ke===A.TextDirection.RightToLeft,tt=B.useRef(),Ye="";if(me.modificationDate){var Ie=function(Qe){var Je=un.exec(Qe);if(!Je)return null;var yt=parseInt(Je[1],10),_t=ut(Je[2],1,12,1)-1,gt=ut(Je[3],1,31,1),It=ut(Je[4],0,23,0),Rt=ut(Je[5],0,59,0),Mt=ut(Je[6],0,59,0),_n=Je[7]||"Z",Qt=ut(Je[8],0,23,0),tn=ut(Je[9],0,59,0);switch(_n){case"-":It+=Qt,Rt+=tn;break;case"+":It-=Qt,Rt-=tn}return new Date(Date.UTC(yt,_t,gt,It,Rt,Mt))}(me.modificationDate);Ye=Ie?"".concat(Ie.toLocaleDateString(),", ").concat(Ie.toLocaleTimeString()):""}return B.useLayoutEffect(function(){if(tt.current){var Qe=document.querySelector('[data-annotation-id="'.concat(me.id,'"]'));if(Qe){var Je=Qe;return Je.style.zIndex+=1,function(){Je.style.zIndex="".concat(parseInt(Je.style.zIndex,10)-1)}}}},[]),B.createElement("div",{ref:tt,className:ne({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":je}),style:{top:me.annotationType===A.AnnotationType.Popup?"":"100%"}},Le&&B.createElement(B.Fragment,null,B.createElement("div",{className:ne({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!je,"rpv-core__annotation-popup-title--rtl":je})},Le),B.createElement("div",{className:"rpv-core__annotation-popup-date"},Ye)),Oe&&B.createElement("div",{className:"rpv-core__annotation-popup-content"},Oe.split(`
`).map(function(Qe,Je){return B.createElement(B.Fragment,{key:Je},Qe,B.createElement("br",null))})))};(function(X){X.Click="Click",X.Hover="Hover"})(Wt||(Wt={}));var ht,vn=function(X){var me,ke=X.annotation,Le=X.children,Oe=X.ignoreBorder,je=X.hasPopup,tt=X.isRenderable,Ye=X.page,Ie=X.viewport,Qe=ke.rect,Je=function(){var on=ye(!1),xn=on.opened,Pn=on.toggle,Mn=B.useState(Wt.Hover),$n=Mn[0],Rn=Mn[1];return{opened:xn,closeOnHover:function(){$n===Wt.Hover&&Pn(A.ToggleStatus.Close)},openOnHover:function(){$n===Wt.Hover&&Pn(A.ToggleStatus.Open)},toggleOnClick:function(){switch($n){case Wt.Click:xn&&Rn(Wt.Hover),Pn(A.ToggleStatus.Toggle);break;case Wt.Hover:Rn(Wt.Click),Pn(A.ToggleStatus.Open)}}}}(),yt=Je.closeOnHover,_t=Je.opened,gt=Je.openOnHover,It=Je.toggleOnClick,Rt=(me=[Qe[0],Ye.view[3]+Ye.view[1]-Qe[1],Qe[2],Ye.view[3]+Ye.view[1]-Qe[3]],[Math.min(me[0],me[2]),Math.min(me[1],me[3]),Math.max(me[0],me[2]),Math.max(me[1],me[3])]),Mt=Qe[2]-Qe[0],_n=Qe[3]-Qe[1],Qt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Oe&&ke.borderStyle.width>0){switch(ke.borderStyle.style){case Ge.Dashed:Qt.borderStyle="dashed";break;case Ge.Solid:Qt.borderStyle="solid";break;case Ge.Underline:Qt=Object.assign({borderBottomStyle:"solid"},Qt);case Ge.Beveled:case Ge.Inset:}var tn=ke.borderStyle.width;Qt.borderWidth="".concat(tn,"px"),ke.borderStyle.style!==Ge.Underline&&(Mt-=2*tn,_n-=2*tn);var cn=ke.borderStyle,Ut=cn.horizontalCornerRadius,dn=cn.verticalCornerRadius;(Ut>0||dn>0)&&(Qt.borderRadius="".concat(Ut,"px / ").concat(dn,"px")),ke.color?Qt.borderColor="rgb(".concat(0|ke.color[0],", ").concat(0|ke.color[1],", ").concat(0|ke.color[2],")"):Qt.borderWidth="0"}return B.createElement(B.Fragment,null,tt&&Le({popup:{opened:_t,closeOnHover:yt,openOnHover:gt,toggleOnClick:It},slot:{attrs:{style:Object.assign({height:"".concat(_n,"px"),left:"".concat(Rt[0],"px"),top:"".concat(Rt[1],"px"),transform:"matrix(".concat(Ie.transform.join(","),")"),transformOrigin:"-".concat(Rt[0],"px -").concat(Rt[1],"px"),width:"".concat(Mt,"px")},Qt)},children:B.createElement(B.Fragment,null,je&&_t&&B.createElement(wt,{annotation:ke}))}}))},kn=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt);return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Ze=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt),Ie=me.rect,Qe=Ie[2]-Ie[0],Je=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(_t){return B.createElement("div",K({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":me.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Je,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Qe," ").concat(Je),width:"".concat(Qe,"px")},B.createElement("circle",{cy:Je/2,fill:"none",rx:Qe/2-yt/2,ry:Je/2-yt/2,stroke:"transparent",strokeWidth:yt||1})),_t.slot.children)})},kt=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=Ne(me),je=We(me),tt=!(me.hasPopup!==!1||!Oe&&!je),Ye=function(){var Ie,Qe,Je,yt,_t=me.file;_t&&(Ie=_t.filename,Qe=_t.content,Je=typeof Qe=="string"?"":URL.createObjectURL(new Blob([Qe],{type:""})),(yt=document.createElement("a")).style.display="none",yt.href=Je||Ie,yt.setAttribute("download",function(gt){var It=gt.split("/").pop();return It?It.split("#")[0].split("?")[0]:gt}(Ie)),document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),Je&&URL.revokeObjectURL(Je))};return B.createElement(vn,{annotation:me,hasPopup:tt,ignoreBorder:!0,isRenderable:!0,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onDoubleClick:Ye,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Bt=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt);return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},$t=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=Ne(me),je=We(me),tt=!(!Oe&&!je),Ye=!me.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(me.parentType)!==-1;return re(function(){if(me.parentId){var Ie=document.querySelector('[data-annotation-id="'.concat(me.parentId,'"]')),Qe=document.querySelector('[data-annotation-id="'.concat(me.id,'"]'));if(Ie&&Qe){var Je=parseFloat(Ie.style.left),yt=parseFloat(Ie.style.top)+parseFloat(Ie.style.height);Qe.style.left="".concat(Je,"px"),Qe.style.top="".concat(yt,"px"),Qe.style.transformOrigin="-".concat(Je,"px -").concat(yt,"px")}}},[]),B.createElement(vn,{annotation:me,hasPopup:Ye,ignoreBorder:!1,isRenderable:tt,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":me.id}),B.createElement(wt,{annotation:me}))})},jt=function(X){var me=X.annotation,ke=X.childAnnotation,Le=X.page,Oe=X.viewport,je=me.hasPopup===!1,tt=Ne(me),Ye=We(me),Ie=!!(me.hasPopup||tt||Ye);if(me.quadPoints&&me.quadPoints.length>0){var Qe=me.quadPoints.map(function(Je){return Object.assign({},me,{rect:[Je[2].x,Je[2].y,Je[1].x,Je[1].y],quadPoints:[]})});return B.createElement(B.Fragment,null,Qe.map(function(Je,yt){return B.createElement(jt,{key:yt,annotation:Je,childAnnotation:ke,page:Le,viewport:Oe})}))}return B.createElement(vn,{annotation:me,hasPopup:je,ignoreBorder:!0,isRenderable:Ie,page:Le,viewport:Oe},function(Je){return B.createElement(B.Fragment,null,B.createElement("div",K({},Je.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":me.id,onClick:Je.popup.toggleOnClick,onMouseEnter:Je.popup.openOnHover,onMouseLeave:Je.popup.closeOnHover}),Je.slot.children),ke&&ke.annotationType===A.AnnotationType.Popup&&Je.popup.opened&&B.createElement($t,{annotation:ke,page:Le,viewport:Oe}))})},Ht=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt),Ie=me.rect,Qe=Ie[2]-Ie[0],Je=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(_t){return B.createElement("div",K({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":me.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),me.inkLists&&me.inkLists.length&&B.createElement("svg",{height:"".concat(Je,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Qe," ").concat(Je),width:"".concat(Qe,"px")},me.inkLists.map(function(gt,It){return B.createElement("polyline",{key:It,fill:"none",stroke:"transparent",strokeWidth:yt||1,points:gt.map(function(Rt){return"".concat(Rt.x-Ie[0],",").concat(Ie[3]-Rt.y)}).join(" ")})})),_t.slot.children)})},yn=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt),Ie=me.rect,Qe=Ie[2]-Ie[0],Je=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(_t){return B.createElement("div",K({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":me.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Je,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Qe," ").concat(Je),width:"".concat(Qe,"px")},B.createElement("line",{stroke:"transparent",strokeWidth:yt||1,x1:Ie[2]-me.lineCoordinates[0],x2:Ie[2]-me.lineCoordinates[2],y1:Ie[3]-me.lineCoordinates[1],y2:Ie[3]-me.lineCoordinates[3]})),_t.slot.children)})},At=/^([^\w]*)(javascript|data|vbscript)/im,pn=/&#(\w+)(^\w|;)?/g,Nt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,xe=/^([^:]+):/gm,U=function(X,me){me===void 0&&(me="about:blank");var ke,Le=(ke=X||"",ke.replace(pn,function(Ye,Ie){return String.fromCharCode(Ie)})).replace(Nt,"").trim();if(!Le)return me;var Oe=Le[0];if(Oe==="."||Oe==="/")return Le;var je=Le.match(xe);if(!je)return Le;var tt=je[0];return At.test(tt)?me:Le},Se=function(X){var me,ke=X.annotation,Le=X.annotationContainerRef,Oe=X.doc,je=X.outlines,tt=X.page,Ye=X.pageIndex,Ie=X.scale,Qe=X.viewport,Je=X.onExecuteNamedAction,yt=X.onJumpFromLinkAnnotation,_t=X.onJumpToDest,gt=B.useRef(),It=je&&je.length&&ke.dest&&typeof ke.dest=="string"?(me=je.find(function(Qt){return Qt.dest===ke.dest}))===null||me===void 0?void 0:me.title:"",Rt=!!(ke.url||ke.dest||ke.action||ke.unsafeUrl),Mt={};if(ke.url||ke.unsafeUrl){var _n=U(ke.url||ke.unsafeUrl,"");_n?Mt={"data-target":"external",href:_n,rel:"noopener noreferrer nofollow",target:ke.newWindow?"_blank":"",title:_n}:Rt=!1}else Mt={href:"","data-annotation-link":ke.id,onClick:function(Qt){Qt.preventDefault(),ke.action?Je(ke.action):an(Oe,ke.dest).then(function(tn){var cn=gt.current,Ut=Le.current;if(cn&&Ut){var dn=cn.getBoundingClientRect();Ut.style.setProperty("height","100%"),Ut.style.setProperty("width","100%");var on=Ut.getBoundingClientRect();Ut.style.removeProperty("height"),Ut.style.removeProperty("width");var xn=(dn.left-on.left)/Ie,Pn=(on.bottom-dn.bottom+dn.height)/Ie;yt({bottomOffset:Pn,label:It,leftOffset:xn,pageIndex:Ye})}_t(tn)})}};return It&&(Mt=Object.assign({},Mt,{title:It,"aria-label":It})),B.createElement(vn,{annotation:ke,hasPopup:!1,ignoreBorder:!1,isRenderable:Rt,page:tt,viewport:Qe},function(Qt){return B.createElement("div",K({},Qt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":ke.id,"data-testid":"core__annotation--link-".concat(ke.id)}),B.createElement("a",K({ref:gt},Mt)))})},Me=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt),Ie=me.rect,Qe=Ie[2]-Ie[0],Je=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(_t){return B.createElement("div",K({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":me.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),me.vertices&&me.vertices.length&&B.createElement("svg",{height:"".concat(Je,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Qe," ").concat(Je),width:"".concat(Qe,"px")},B.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:yt||1,points:me.vertices.map(function(gt){return"".concat(gt.x-Ie[0],",").concat(Ie[3]-gt.y)}).join(" ")})),_t.slot.children)})},Be=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt),Ie=me.rect,Qe=Ie[2]-Ie[0],Je=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(_t){return B.createElement("div",K({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":me.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),me.vertices&&me.vertices.length&&B.createElement("svg",{height:"".concat(Je,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Qe," ").concat(Je),width:"".concat(Qe,"px")},B.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:yt||1,points:me.vertices.map(function(gt){return"".concat(gt.x-Ie[0],",").concat(Ie[3]-gt.y)}).join(" ")})),_t.slot.children)})},Xe=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt),Ie=me.rect,Qe=Ie[2]-Ie[0],Je=Ie[3]-Ie[1],yt=me.borderStyle.width;return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(_t){return B.createElement("div",K({},_t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":me.id,onClick:_t.popup.toggleOnClick,onMouseEnter:_t.popup.openOnHover,onMouseLeave:_t.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Je,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Qe," ").concat(Je),width:"".concat(Qe,"px")},B.createElement("rect",{height:Je-yt,fill:"none",stroke:"transparent",strokeWidth:yt||1,x:yt/2,y:yt/2,width:Qe-yt})),_t.slot.children)})},at=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt);return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Et=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt);return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Ft=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt);return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Tt=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),B.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),B.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),B.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},nn=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),B.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),B.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),B.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),B.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),B.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),B.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),B.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),B.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),B.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Dt=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),B.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Ot=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),B.createElement("path",{d:"M6 4.5L6 0.5"}),B.createElement("path",{d:"M18 4.5L18 0.5"}),B.createElement("path",{d:"M10 4.5L10 0.5"}),B.createElement("path",{d:"M14 4.5L14 0.5"}))},Kt=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),B.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),B.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},ln=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},En=function(X){var me=X.annotation,ke=X.childAnnotation,Le=X.page,Oe=X.viewport,je=me.hasPopup===!1,tt=Ne(me),Ye=We(me),Ie=!!(me.hasPopup||tt||Ye),Qe=me.name?me.name.toLowerCase():"";return B.createElement(vn,{annotation:me,hasPopup:je,ignoreBorder:!1,isRenderable:Ie,page:Le,viewport:Oe},function(Je){return B.createElement(B.Fragment,null,B.createElement("div",K({},Je.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":me.id,onClick:Je.popup.toggleOnClick,onMouseEnter:Je.popup.openOnHover,onMouseLeave:Je.popup.closeOnHover}),Qe&&B.createElement("div",{className:"rpv-core__annotation-text-icon"},Qe==="check"&&B.createElement(oe,null),Qe==="comment"&&B.createElement(Tt,null),Qe==="help"&&B.createElement(nn,null),Qe==="insert"&&B.createElement(ln,null),Qe==="key"&&B.createElement(Dt,null),Qe==="note"&&B.createElement(Ot,null),(Qe==="newparagraph"||Qe==="paragraph")&&B.createElement(Kt,null)),Je.slot.children),ke&&ke.annotationType===A.AnnotationType.Popup&&Je.popup.opened&&B.createElement($t,{annotation:ke,page:Le,viewport:Oe}))})},Cn=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),tt=We(me),Ye=!!(me.hasPopup||je||tt);return B.createElement(vn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ye,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},qn=function(X){var me=X.annotations,ke=X.doc,Le=X.outlines,Oe=X.page,je=X.pageIndex,tt=X.plugins,Ye=X.rotation,Ie=X.scale,Qe=X.onExecuteNamedAction,Je=X.onJumpFromLinkAnnotation,yt=X.onJumpToDest,_t=B.useRef(),gt=Oe.getViewport({rotation:Ye,scale:Ie}).clone({dontFlip:!0}),It=me.filter(function(Rt){return!Rt.parentId});return re(function(){var Rt=_t.current;Rt&&tt.forEach(function(Mt){Mt.onAnnotationLayerRender&&Mt.onAnnotationLayerRender({annotations:It,container:Rt,pageIndex:je,rotation:Ye,scale:Ie})})},[]),B.createElement("div",{ref:_t,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(je)},It.map(function(Rt){var Mt=me.find(function(_n){return _n.parentId===Rt.id});switch(Rt.annotationType){case A.AnnotationType.Caret:return B.createElement(kn,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.Circle:return B.createElement(Ze,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.FileAttachment:return B.createElement(kt,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.FreeText:return B.createElement(Bt,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.Highlight:return B.createElement(jt,{key:Rt.id,annotation:Rt,childAnnotation:Mt,page:Oe,viewport:gt});case A.AnnotationType.Ink:return B.createElement(Ht,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.Line:return B.createElement(yn,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.Link:return B.createElement(Se,{key:Rt.id,annotation:Rt,annotationContainerRef:_t,doc:ke,outlines:Le,page:Oe,pageIndex:je,scale:Ie,viewport:gt,onExecuteNamedAction:Qe,onJumpFromLinkAnnotation:Je,onJumpToDest:yt});case A.AnnotationType.Polygon:return B.createElement(Me,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.Polyline:return B.createElement(Be,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.Popup:return B.createElement($t,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.Square:return B.createElement(Xe,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.Squiggly:return B.createElement(at,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.Stamp:return B.createElement(Et,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.StrikeOut:return B.createElement(Ft,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});case A.AnnotationType.Text:return B.createElement(En,{key:Rt.id,annotation:Rt,childAnnotation:Mt,page:Oe,viewport:gt});case A.AnnotationType.Underline:return B.createElement(Cn,{key:Rt.id,annotation:Rt,page:Oe,viewport:gt});default:return B.createElement(B.Fragment,{key:Rt.id})}}))},Nn=function(X){var me=X.page,ke=X.renderAnnotations,Le=$e(),Oe=B.useState({loading:!0,annotations:[]}),je=Oe[0],tt=Oe[1];return B.useEffect(function(){me.getAnnotations({intent:"display"}).then(function(Ye){Le.current&&tt({loading:!1,annotations:Ye})})},[]),je.loading?B.createElement(B.Fragment,null):ke(je.annotations)},nr=function(X){var me=X.doc,ke=X.outlines,Le=X.page,Oe=X.pageIndex,je=X.plugins,tt=X.rotation,Ye=X.scale,Ie=X.onExecuteNamedAction,Qe=X.onJumpFromLinkAnnotation,Je=X.onJumpToDest;return B.createElement(Nn,{page:Le,renderAnnotations:function(yt){return B.createElement(qn,{annotations:yt,doc:me,outlines:ke,page:Le,pageIndex:Oe,plugins:je,rotation:tt,scale:Ye,onExecuteNamedAction:Ie,onJumpFromLinkAnnotation:Qe,onJumpToDest:Je})}})},ir=function(X,me){var ke=X%me;return ke===0?X:Math.floor(X-ke)},lr=function(X){var me=X.canvasLayerRef,ke=X.height,Le=X.page,Oe=X.pageIndex,je=X.plugins,tt=X.rotation,Ye=X.scale,Ie=X.width,Qe=X.onRenderCanvasCompleted,Je=B.useRef();return re(function(){var yt=Je.current;yt&&yt.cancel();var _t=me.current;_t.removeAttribute("data-testid"),je.forEach(function(on){on.onCanvasLayerRender&&on.onCanvasLayerRender({ele:_t,pageIndex:Oe,rotation:tt,scale:Ye,status:A.LayerRenderStatus.PreRender})});var gt=Le.getViewport({rotation:tt,scale:Ye}),It=window.devicePixelRatio||1,Rt=Math.sqrt(16777216/(gt.width*gt.height)),Mt=It>Rt;Mt?_t.style.transform="scale(1, 1)":_t.style.removeProperty("transform");var _n=Math.min(Rt,It),Qt=function(on,xn){var Pn,Mn;if(Math.floor(on)===on)return[on,1];var $n=1/on;if($n>xn)return[1,xn];if(Math.floor($n)===$n)return[1,$n];for(var Rn=on>1?$n:on,Xn=0,zn=1,Kn=1,Vn=1;;){var Un=Xn+Kn,Gn=zn+Vn;if(Gn>xn)break;Rn<=Un/Gn?(Kn=(Pn=[Un,Gn])[0],Vn=Pn[1]):(Xn=(Mn=[Un,Gn])[0],zn=Mn[1])}return Rn<(Xn/zn+Kn/Vn)/2?Rn===on?[Xn,zn]:[zn,Xn]:Rn===on?[Kn,Vn]:[Vn,Kn]}(_n,8),tn=Qt[0],cn=Qt[1];_t.width=ir(gt.width*_n,tn),_t.height=ir(gt.height*_n,tn),_t.style.width="".concat(ir(gt.width,cn),"px"),_t.style.height="".concat(ir(gt.height,cn),"px"),_t.hidden=!0;var Ut=_t.getContext("2d",{alpha:!1}),dn=Mt||It!==1?[_n,0,0,_n,0,0]:null;return Je.current=Le.render({canvasContext:Ut,transform:dn,viewport:gt}),Je.current.promise.then(function(){_t.hidden=!1,_t.setAttribute("data-testid","core__canvas-layer-".concat(Oe)),je.forEach(function(on){on.onCanvasLayerRender&&on.onCanvasLayerRender({ele:_t,pageIndex:Oe,rotation:tt,scale:Ye,status:A.LayerRenderStatus.DidRender})}),Qe()},function(){Qe()}),function(){_t&&(_t.width=0,_t.height=0)}},[]),B.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(ke,"px"),width:"".concat(Ie,"px")}},B.createElement("canvas",{ref:me}))},Br=function(X){var me=X.height,ke=X.page,Le=X.rotation,Oe=X.scale,je=X.width,tt=B.useRef();return re(function(){var Ye=tt.current,Ie=ke.getViewport({rotation:Le,scale:Oe});ke.getOperatorList().then(function(Qe){(function(){var Je=tt.current;Je&&(Je.innerHTML="")})(),new Y.SVGGraphics(ke.commonObjs,ke.objs).getSVG(Qe,Ie).then(function(Je){Je.style.height="".concat(me,"px"),Je.style.width="".concat(je,"px"),Ye.appendChild(Je)})})},[]),B.createElement("div",{className:"rpv-core__svg-layer",ref:tt})},Za=function(X){var me=X.containerRef,ke=X.page,Le=X.pageIndex,Oe=X.plugins,je=X.rotation,tt=X.scale,Ye=X.onRenderTextCompleted,Ie=B.useRef(),Qe=function(){var Je=me.current;Je&&([].slice.call(Je.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(yt){return Je.removeChild(yt)}),[].slice.call(Je.querySelectorAll('br[role="presentation"]')).forEach(function(yt){return Je.removeChild(yt)}))};return re(function(){var Je=Ie.current;Je&&Je.cancel();var yt=me.current;if(yt){yt.removeAttribute("data-testid");var _t=ke.getViewport({rotation:je,scale:tt});return Oe.forEach(function(gt){gt.onTextLayerRender&&gt.onTextLayerRender({ele:yt,pageIndex:Le,scale:tt,status:A.LayerRenderStatus.PreRender})}),ke.getTextContent().then(function(gt){Qe(),Ie.current=Y.renderTextLayer({container:yt,textContent:gt,textContentSource:gt,viewport:_t}),Ie.current.promise.then(function(){yt.setAttribute("data-testid","core__text-layer-".concat(Le)),[].slice.call(yt.children).forEach(function(It){It.classList.contains("rpv-core__text-layer-text--not")||It.classList.add("rpv-core__text-layer-text")}),Oe.forEach(function(It){It.onTextLayerRender&&It.onTextLayerRender({ele:yt,pageIndex:Le,scale:tt,status:A.LayerRenderStatus.DidRender})}),Ye()},function(){yt.removeAttribute("data-testid"),Ye()})}),function(){var gt;Qe(),(gt=Ie.current)===null||gt===void 0||gt.cancel()}}},[]),B.createElement("div",{className:"rpv-core__text-layer",ref:me})},Ja=function(X){var me=X.doc,ke=X.measureRef,Le=X.outlines,Oe=X.pageIndex,je=X.pageRotation,tt=X.pageSize,Ye=X.plugins,Ie=X.renderPage,Qe=X.renderQueueKey,Je=X.rotation,yt=X.scale,_t=X.shouldRender,gt=X.viewMode,It=X.onExecuteNamedAction,Rt=X.onJumpFromLinkAnnotation,Mt=X.onJumpToDest,_n=X.onRenderCompleted,Qt=X.onRotatePage,tn=$e(),cn=B.useState(null),Ut=cn[0],dn=cn[1],on=B.useState(!1),xn=on[0],Pn=on[1],Mn=B.useState(!1),$n=Mn[0],Rn=Mn[1],Xn=B.useRef(),zn=B.useRef(),Kn=Math.abs(Je+je)%180==0,Vn=tt.pageWidth*yt,Un=tt.pageHeight*yt,Gn=Kn?Vn:Un,Wn=Kn?Un:Vn,tr=(tt.rotation+Je+je)%360,ur=B.useRef(0),cr=Ie||function(Jn){return B.createElement(B.Fragment,null,Jn.canvasLayer.children,Jn.textLayer.children,Jn.annotationLayer.children)};return B.useEffect(function(){dn(null),Pn(!1),Rn(!1)},[je,Je,yt]),B.useEffect(function(){_t&&tn.current&&!Ut&&en(me,Oe).then(function(Jn){tn.current&&(ur.current=Qe,dn(Jn))})},[_t,Ut]),B.useEffect(function(){xn&&$n&&(Qe!==ur.current?(dn(null),Pn(!1),Rn(!1)):_n(Oe))},[xn,$n]),B.createElement("div",{className:ne({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":gt===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":gt===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":gt===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Oe),ref:ke,style:{height:"".concat(Wn,"px"),width:"".concat(Gn,"px")}},Ut?B.createElement(B.Fragment,null,cr({annotationLayer:{attrs:{},children:B.createElement(nr,{doc:me,outlines:Le,page:Ut,pageIndex:Oe,plugins:Ye,rotation:tr,scale:yt,onExecuteNamedAction:It,onJumpFromLinkAnnotation:Rt,onJumpToDest:Mt})},canvasLayer:{attrs:{},children:B.createElement(lr,{canvasLayerRef:Xn,height:Wn,page:Ut,pageIndex:Oe,plugins:Ye,rotation:tr,scale:yt,width:Gn,onRenderCanvasCompleted:function(){tn.current&&Pn(!0)}})},canvasLayerRendered:xn,doc:me,height:Wn,pageIndex:Oe,rotation:tr,scale:yt,svgLayer:{attrs:{},children:B.createElement(Br,{height:Wn,page:Ut,rotation:tr,scale:yt,width:Gn})},textLayer:{attrs:{},children:B.createElement(Za,{containerRef:zn,page:Ut,pageIndex:Oe,plugins:Ye,rotation:tr,scale:yt,onRenderTextCompleted:function(){tn.current&&Rn(!0)}})},textLayerRendered:$n,width:Gn,markRendered:_n,onRotatePage:function(Jn){return Qt(Oe,Jn)}}),Ye.map(function(Jn,rr){return Jn.renderPageLayer?B.createElement(B.Fragment,{key:rr},Jn.renderPageLayer({canvasLayerRef:Xn,canvasLayerRendered:xn,doc:me,height:Wn,pageIndex:Oe,rotation:tr,scale:yt,textLayerRef:zn,textLayerRendered:$n,width:Gn})):B.createElement(B.Fragment,{key:rr})})):B.createElement(ue,{testId:"core__page-layer-loading-".concat(Oe)}))},Qa=function(X,me){var ke=me.rect;return X.height!==ke.height||X.width!==ke.width?ke:X};(function(X){X.Horizontal="Horizontal",X.Vertical="Vertical",X.Both="Both"})(ht||(ht={}));var eo=function(X){return 1-Math.pow(1-X,4)},jr=1e-4,Qi={left:0,top:0},ea={capture:!1,passive:!0},to=function(X){var me=X.elementRef,ke=X.enableSmoothScroll,Le=X.isRtl,Oe=X.scrollDirection,je=X.onSmoothScroll,tt=B.useState(Qi),Ye=tt[0],Ie=tt[1],Qe=B.useState(me.current),Je=Qe[0],yt=Qe[1],_t=Le?-1:1,gt=B.useRef(Oe);gt.current=Oe;var It=B.useRef(Qi),Rt=B.useRef(!0),Mt=B.useCallback(function(){Rt.current=!0,ke&&Ie(It.current),je(!1)},[]),_n=B.useCallback(function(){if(Je){switch(gt.current){case ht.Horizontal:It.current={left:_t*Je.scrollLeft,top:0};break;case ht.Both:It.current={left:_t*Je.scrollLeft,top:Je.scrollTop};break;case ht.Vertical:default:It.current={left:0,top:Je.scrollTop}}ke&&!Rt.current||Ie(It.current)}},[Je]);re(function(){yt(me.current)}),re(function(){if(Je)return Je.addEventListener("scroll",_n,ea),function(){Je.removeEventListener("scroll",_n,ea)}},[Je]);var Qt=B.useCallback(function(tn,cn){var Ut=me.current;if(!Ut)return Promise.resolve();var dn={left:0,top:0};switch(gt.current){case ht.Horizontal:dn.left=_t*tn.left;break;case ht.Both:dn.left=_t*tn.left,dn.top=tn.top;break;case ht.Vertical:default:dn.top=tn.top}return cn?(Rt.current=!1,je(!0),new Promise(function(on,xn){(function(Pn,Mn,$n,Rn,Xn,zn){Xn===void 0&&(Xn=function(rr){return rr}),zn===void 0&&(zn=function(){});var Kn=0,Vn=0,Un=!1;switch(Mn){case ht.Horizontal:Vn=Pn.scrollLeft,Kn=0;case ht.Both:Vn=Pn.scrollLeft,Kn=Pn.scrollTop;break;case ht.Vertical:default:Vn=0,Kn=Pn.scrollTop}var Gn=function(){Un||(Un=!0,Pn.scrollLeft=$n.left,Pn.scrollTop=$n.top,zn())};if(Math.abs(Kn-$n.top)<=jr&&Mn===ht.Vertical)Gn();else if(Math.abs(Vn-$n.left)<=jr&&Mn===ht.Horizontal)Gn();else{var Wn,tr=-1,ur=Vn-$n.left,cr=Kn-$n.top,Jn=function(rr){tr===-1&&(tr=rr);var dr=rr-tr,sn=Math.min(dr/Rn,1),rn=Xn(sn),Gt={left:Vn-ur*rn,top:Kn-cr*rn};switch(Mn){case ht.Horizontal:Pn.scrollLeft=Gt.left;break;case ht.Both:Pn.scrollLeft=Gt.left,Pn.scrollTop=Gt.top;break;case ht.Vertical:default:Pn.scrollTop=Gt.top}Math.abs(Gt.top-$n.top)<=jr&&Math.abs(Gt.left-$n.left)<=jr&&!Un&&(window.cancelAnimationFrame(Wn),Gn()),dr<Rn?Wn=window.requestAnimationFrame(Jn):window.cancelAnimationFrame(Wn)};Wn=window.requestAnimationFrame(Jn)}})(Ut,gt.current,dn,400,eo,function(){Mt(),on()})})):new Promise(function(on,xn){switch(gt.current){case ht.Horizontal:Ut.scrollLeft=dn.left;break;case ht.Both:Ut.scrollLeft=dn.left,Ut.scrollTop=dn.top;break;case ht.Vertical:default:Ut.scrollTop=dn.top}on()})},[me]);return{scrollOffset:Ye,scrollTo:Qt}},Mr=function(X,me,ke){return Math.max(X,Math.min(ke,me))},no=function(X,me){if(me!==A.ViewMode.DualPageWithCover)return 0;if(!function(Oe){var je=Oe.length;if(je===1)return!1;for(var tt=1;tt<je;tt++)if(Oe[tt].height!==Oe[0].height||Oe[tt].width!==Oe[0].width)return!0;return!1}(X))return 2*X[0].width;var ke=lt(X.slice(1),2).map(function(Oe){return Oe.length===2?Oe[0].width+Oe[1].width:Oe[0].width}),Le=[X[0].width].concat(ke);return Math.max.apply(Math,Le)},ro={left:0,top:0},io={left:0,top:0},oi={left:0,top:0},ao={left:0,top:0},oo={height:0,width:0},ta={left:0,top:0},na="data-virtual-index",so=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],co=function(X){var me=X.enableSmoothScroll,ke=X.isRtl,Le=X.numberOfItems,Oe=X.parentRef,je=X.setRenderRange,tt=X.sizes,Ye=X.scrollMode,Ie=X.viewMode,Qe=B.useState(!1),Je=Qe[0],yt=Qe[1],_t=B.useCallback(function(sn){return yt(sn)},[]),gt=B.useRef(Ye);gt.current=Ye;var It=B.useRef(Ie);It.current=Ie;var Rt=Ye===A.ScrollMode.Wrapped||Ie===A.ViewMode.DualPageWithCover||Ie===A.ViewMode.DualPage?ht.Both:Ye===A.ScrollMode.Horizontal?ht.Horizontal:ht.Vertical,Mt=to({elementRef:Oe,enableSmoothScroll:me,isRtl:ke,scrollDirection:Rt,onSmoothScroll:_t}),_n=Mt.scrollOffset,Qt=Mt.scrollTo,tn=function(sn){var rn=sn.elementRef,Gt=B.useState(rn.current),Yt=Gt[0],qt=Gt[1],hn=B.useRef(!1),fn=B.useReducer(Qa,{height:0,width:0}),Zt=fn[0],zt=fn[1];return re(function(){rn.current!==Yt&&qt(rn.current)}),re(function(){if(Yt&&!hn.current){hn.current=!0;var mn=Yt.getBoundingClientRect(),Sn=mn.height,Bn=mn.width;zt({rect:{height:Sn,width:Bn}})}},[Yt]),B.useEffect(function(){if(Yt){var mn=new ResizeObserver(function(Sn,Bn){Sn.forEach(function(In){if(In.target===Yt){var Qn=In.contentRect,ar=Qn.height,bn=Qn.width;zt({rect:{height:ar,width:bn}})}})});return mn.observe(Yt),function(){mn.unobserve(Yt)}}},[Yt]),Zt}({elementRef:Oe}),cn=B.useRef({scrollOffset:ta,measurements:[]});cn.current.scrollOffset=_n;var Ut=B.useMemo(function(){return Array(Le).fill(-1)},[]),dn=B.useState(Ut),on=dn[0],xn=dn[1],Pn=B.useMemo(function(){var sn=new IntersectionObserver(function(rn){rn.forEach(function(Gt){var Yt=Gt.isIntersecting?Gt.intersectionRatio:-1,qt=Gt.target.getAttribute(na);if(qt){var hn=parseInt(qt,10);0<=hn&&hn<Le&&xn(function(fn){return fn[hn]=Yt,function(Zt,zt,mn){if(mn||arguments.length===2)for(var Sn,Bn=0,In=zt.length;Bn<In;Bn++)!Sn&&Bn in zt||(Sn||(Sn=Array.prototype.slice.call(zt,0,Bn)),Sn[Bn]=zt[Bn]);return Zt.concat(Sn||Array.prototype.slice.call(zt))}([],fn,!0)})}})},{threshold:so});return sn},[]),Mn=B.useMemo(function(){return Ye===A.ScrollMode.Page&&Ie===A.ViewMode.SinglePage?function(sn,rn,Gt){for(var Yt=[],qt=0;qt<sn;qt++){var hn={height:Math.max(rn.height,Gt[qt].height),width:Math.max(rn.width,Gt[qt].width)},fn=qt===0?ao:Yt[qt-1].end,Zt={left:fn.left+hn.width,top:fn.top+hn.height};Yt[qt]={index:qt,start:fn,size:hn,end:Zt,visibility:-1}}return Yt}(Le,tn,tt):Ie===A.ViewMode.DualPageWithCover?function(sn,rn,Gt,Yt){for(var qt=[],hn=0,fn=0,Zt=oi,zt=0;zt<sn;zt++){var mn=zt===0?{height:Yt===A.ScrollMode.Page?Math.max(rn.height,Gt[zt].height):Gt[zt].height,width:Yt===A.ScrollMode.Page?Math.max(rn.width,Gt[zt].width):Gt[zt].width}:{height:Yt===A.ScrollMode.Page?Math.max(rn.height,Gt[zt].height):Gt[zt].height,width:Math.max(rn.width/2,Gt[zt].width)};Yt===A.ScrollMode.Page?Zt=zt===0?oi:{left:zt%2==0?mn.width:0,top:Math.floor((zt-1)/2)*mn.height+qt[0].end.top}:zt===0?(Zt=oi,hn=Gt[0].height,fn=0):zt%2==1?(Zt={left:0,top:hn+=fn},fn=zt===sn-1?Gt[zt].height:Math.max(Gt[zt].height,Gt[zt+1].height)):Zt={left:qt[zt-1].end.left,top:hn};var Sn={left:Zt.left+mn.width,top:Zt.top+mn.height};qt[zt]={index:zt,start:Zt,size:mn,end:Sn,visibility:-1}}return qt}(Le,tn,tt,Ye):Ie===A.ViewMode.DualPage?function(sn,rn,Gt,Yt){for(var qt=[],hn=0,fn=0,Zt=io,zt=0;zt<sn;zt++){var mn={height:Yt===A.ScrollMode.Page?Math.max(rn.height,Gt[zt].height):Gt[zt].height,width:Math.max(rn.width/2,Gt[zt].width)};Yt===A.ScrollMode.Page?Zt={left:zt%2==0?0:mn.width,top:Math.floor(zt/2)*mn.height}:zt%2==0?(Zt={left:0,top:hn+=fn},fn=zt===sn-1?Gt[zt].height:Math.max(Gt[zt].height,Gt[zt+1].height)):Zt={left:qt[zt-1].end.left,top:hn};var Sn={left:Zt.left+mn.width,top:Zt.top+mn.height};qt[zt]={index:zt,start:Zt,size:mn,end:Sn,visibility:-1}}return qt}(Le,tn,tt,Ye):function(sn,rn,Gt,Yt){for(var qt=[],hn=0,fn={left:0,top:0},Zt=0,zt=ro,mn=0;mn<sn;mn++){var Sn=Gt[mn];if(mn===0)hn=Sn.width,fn={left:0,top:0},Zt=Sn.height;else switch(Yt){case A.ScrollMode.Wrapped:(hn+=Sn.width)<rn.width?(zt={left:qt[mn-1].end.left,top:fn.top},Zt=Math.max(Zt,Sn.height)):(hn=Sn.width,fn={left:(zt={left:fn.left,top:fn.top+Zt}).left,top:zt.top},Zt=Sn.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:zt=qt[mn-1].end}var Bn={left:zt.left+Sn.width,top:zt.top+Sn.height};qt[mn]={index:mn,start:zt,size:Sn,end:Bn,visibility:-1}}return qt}(Le,tn,tt,Ye)},[Ye,tt,Ie,tn]),$n=Mn[Le-1]?{height:Mn[Le-1].end.top,width:Mn[Le-1].end.left}:oo;cn.current.measurements=Mn;var Rn=B.useMemo(function(){var sn=function(mn,Sn,Bn,In){var Qn=0;switch(mn){case ht.Horizontal:Qn=In.left;break;case ht.Vertical:default:Qn=In.top}var ar=Sn.length-1,bn=function(Ln,fr,Sr,Hr){for(;Ln<=fr;){var br=(Ln+fr)/2|0,$r=Hr(br);if($r<Sr)Ln=br+1;else{if(!($r>Sr))return br;fr=br-1}}return Ln>0?Ln-1:0}(0,ar,Qn,function(Ln){switch(mn){case ht.Horizontal:return Sn[Ln].start.left;case ht.Both:case ht.Vertical:default:return Sn[Ln].start.top}});if(mn===ht.Both)for(var er=Sn[bn].start.top;bn-1>=0&&Sn[bn-1].start.top===er&&Sn[bn-1].start.left>=In.left;)bn--;for(var jn=bn;jn<=ar;){var Hn={top:Sn[jn].start.top-In.top,left:Sn[jn].start.left-In.left},Yn={height:Bn.height-Hn.top,width:Bn.width-Hn.left};if(mn===ht.Horizontal&&Yn.width<0||mn===ht.Vertical&&Yn.height<0||mn===ht.Both&&(Yn.width<0||Yn.height<0))break;jn++}return{start:bn,end:jn}}(Rt,Mn,tn,_n),rn=sn.start,Gt=sn.end,Yt=on.slice(Mr(0,Le,rn),Mr(0,Le,Gt)),qt=rn+Yt.reduce(function(mn,Sn,Bn,In){return Sn>In[mn]?Bn:mn},0),hn=qt=Mr(0,Le-1,qt),fn=je({endPage:Gt,numPages:Le,startPage:rn}),Zt=fn.startPage,zt=fn.endPage;switch(Zt=Math.max(Zt,0),zt=Math.min(zt,Le-1),Ie){case A.ViewMode.DualPageWithCover:qt>0&&(hn=qt%2==1?qt:qt-1),Zt=Zt===0?0:Zt%2==1?Zt:Zt-1,Le-(zt=zt%2==1?zt-1:zt)<=2&&(zt=Le-1);break;case A.ViewMode.DualPage:hn=qt%2==0?qt:qt-1,Zt=Zt%2==0?Zt:Zt-1,zt=zt%2==1?zt:zt-1;break;case A.ViewMode.SinglePage:default:hn=qt}return{startPage:Zt,endPage:zt,maxVisbilityIndex:hn}},[Mn,tn,_n,Ie,on]),Xn=Rn.startPage,zn=Rn.endPage,Kn=Rn.maxVisbilityIndex,Vn=B.useMemo(function(){for(var sn=[],rn=function(Yt){var qt=Mn[Yt],hn=K(K({},qt),{visibility:on[Yt]!==void 0?on[Yt]:-1,measureRef:function(fn){fn&&(fn.setAttribute(na,"".concat(Yt)),Pn.observe(fn))}});sn.push(hn)},Gt=Xn;Gt<=zn;Gt++)rn(Gt);return sn},[Xn,zn,on,Mn]),Un=B.useCallback(function(sn,rn){var Gt=cn.current.measurements[Mr(0,Le-1,sn)],Yt=gt.current===A.ScrollMode.Page?ta:rn;return Gt?Qt({left:Yt.left+Gt.start.left,top:Yt.top+Gt.start.top},me):Promise.resolve()},[Qt,me]),Gn=B.useCallback(function(sn,rn){var Gt=cn.current.measurements,Yt=Gt[sn].start,qt=Gt.find(function(fn){return fn.start.top-Yt.top>1e-12});if(!qt)return Promise.resolve();var hn=qt.index;switch(It.current){case A.ViewMode.DualPage:hn=hn%2==0?hn:hn+1;break;case A.ViewMode.DualPageWithCover:hn=hn%2==1?hn:hn+1}return Un(hn,rn)},[]),Wn=B.useCallback(function(sn,rn){for(var Gt=cn.current.measurements,Yt=Gt[sn].start,qt=sn,hn=!1,fn=Le-1;fn>=0;fn--)if(Yt.top-Gt[fn].start.top>1e-12){hn=!0,qt=Gt[fn].index;break}if(!hn)return Promise.resolve();switch(It.current){case A.ViewMode.DualPage:qt=qt%2==0?qt:qt-1;break;case A.ViewMode.DualPageWithCover:qt=qt%2==0?qt-1:qt}return qt===sn&&(qt=sn-1),Un(qt,rn)},[]),tr=B.useCallback(function(sn,rn){if(It.current===A.ViewMode.DualPageWithCover||It.current===A.ViewMode.DualPage)return Gn(sn,rn);switch(gt.current){case A.ScrollMode.Wrapped:return Gn(sn,rn);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Un(sn+1,rn)}},[]),ur=B.useCallback(function(sn,rn){if(It.current===A.ViewMode.DualPageWithCover||It.current===A.ViewMode.DualPage)return Wn(sn,rn);switch(gt.current){case A.ScrollMode.Wrapped:return Wn(sn,rn);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Un(sn-1,rn)}},[]),cr=B.useCallback(function(){return function(sn,rn){switch(rn){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(sn.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(sn.height,"px"),width:"100%"}}}($n,gt.current)},[$n]),Jn=B.useCallback(function(sn){return function(rn,Gt,Yt){return Yt!==A.ScrollMode.Page?{}:{height:"".concat(Gt.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(rn.start.top,"px)")}}(sn,tn,gt.current)},[tn]),rr=B.useCallback(function(sn){return function(rn,Gt,Yt,qt,hn){var fn,Zt,zt,mn,Sn,Bn,In,Qn=Gt?"right":"left",ar=Gt?-1:1,bn=Yt.length,er=rn.start.left*ar,jn=rn.size,Hn=jn.height,Yn=jn.width;if(qt===A.ViewMode.DualPageWithCover){var Ln=hn===A.ScrollMode.Page?0:rn.start.top;return rn.index===0||bn%2==0&&rn.index===bn-1?((fn={height:"".concat(Hn,"px"),minWidth:"".concat(no(Yt,qt),"px"),width:"100%"})[Qn]=0,fn.position="absolute",fn.top=0,fn.transform="translate(".concat(er,"px, ").concat(Ln,"px)"),fn):((Zt={height:"".concat(Hn,"px"),width:"".concat(Yn,"px")})[Qn]=0,Zt.position="absolute",Zt.top=0,Zt.transform="translate(".concat(er,"px, ").concat(Ln,"px)"),Zt)}if(qt===A.ViewMode.DualPage)return(zt={height:"".concat(Hn,"px"),width:"".concat(Yn,"px")})[Qn]=0,zt.position="absolute",zt.top=0,zt.transform="translate(".concat(er,"px, ").concat(hn===A.ScrollMode.Page?0:rn.start.top,"px)"),zt;switch(hn){case A.ScrollMode.Horizontal:return(mn={height:"100%",width:"".concat(Yn,"px")})[Qn]=0,mn.position="absolute",mn.top=0,mn.transform="translateX(".concat(er,"px)"),mn;case A.ScrollMode.Page:return(Sn={height:"".concat(Hn,"px"),width:"".concat(Yn,"px")})[Qn]=0,Sn.position="absolute",Sn.top=0,Sn;case A.ScrollMode.Wrapped:return(Bn={height:"".concat(Hn,"px"),width:"".concat(Yn,"px")})[Qn]=0,Bn.position="absolute",Bn.top=0,Bn.transform="translate(".concat(er,"px, ").concat(rn.start.top,"px)"),Bn;case A.ScrollMode.Vertical:default:return(In={height:"".concat(Hn,"px"),width:"100%"})[Qn]=0,In.position="absolute",In.top=0,In.transform="translateY(".concat(rn.start.top,"px)"),In}}(sn,ke,tt,It.current,gt.current)},[ke,tt]),dr=B.useCallback(function(sn,rn){var Gt=cn.current,Yt=Gt.measurements,qt=Gt.scrollOffset,hn=Yt[Mr(0,Le-1,rn)];if(hn){var fn=gt.current===A.ScrollMode.Page?{left:hn.start.left,top:hn.start.top}:{left:qt.left*sn,top:qt.top*sn};return Qt(fn,!1)}return Promise.resolve()},[]);return B.useEffect(function(){return function(){Pn.disconnect()}},[]),{boundingClientRect:tn,isSmoothScrolling:Je,startPage:Xn,endPage:zn,maxVisbilityIndex:Kn,virtualItems:Vn,getContainerStyles:cr,getItemContainerStyles:Jn,getItemStyles:rr,scrollToItem:Un,scrollToNextItem:tr,scrollToPreviousItem:ur,zoom:dr}},si=function(X,me,ke,Le,Oe,je){var tt=ke;switch(!0){case(Oe===A.ViewMode.DualPageWithCover&&je>=3):case(Oe===A.ViewMode.DualPage&&je>=3):tt=2*ke;break;default:tt=ke}switch(Le){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((X.clientWidth-17)/tt,(X.clientHeight-16)/me);case A.SpecialZoomLevel.PageWidth:return(X.clientWidth-17)/tt}},lo=function(X){var me,ke,Le=X.getCurrentPage,Oe=(me=50,ke=B.useRef([]),B.useEffect(function(){return function(){ke.current=[]}},[]),{push:function(Qe){var Je=ke.current;Je.length+1>me&&Je.shift(),Je.push(Qe),ke.current=Je},map:function(Qe){return ke.current.map(function(Je){return Qe(Je)})},pop:function(){var Qe=ke.current;if(Qe.length===0)return null;var Je=Qe.pop();return ke.current=Qe,Je}}),je=function(Qe){var Je=B.useRef([]);return B.useEffect(function(){return function(){Je.current=[]}},[]),{dequeue:function(){var yt=Je.current;if(yt.length===0)return null;var _t=yt.shift();return Je.current=yt,_t||null},enqueue:function(yt){var _t=Je.current;_t.length+1>Qe&&_t.pop(),Je.current=[yt].concat(_t)},map:function(yt){return Je.current.map(function(_t){return yt(_t)})}}}(50),tt=function(){var Qe=je.dequeue();return Qe&&Oe.push(Qe),Qe&&Qe.pageIndex===Le()?tt():Qe},Ye=function(){var Qe=Oe.pop();return Qe&&je.enqueue(Qe),Qe&&Qe.pageIndex===Le()?Ye():Qe},Ie=B.useCallback(function(Qe){Oe.push(Qe)},[]);return{getNextDestination:tt,getPreviousDestination:Ye,markVisitedDestination:Ie}},ra=function(X){var me=[];return X.map(function(ke){me=me.concat(ke).concat(function(Le){var Oe=[];return Le.items&&Le.items.length>0&&(Oe=Oe.concat(ra(Le.items))),Oe}(ke))}),me},ia={capture:!1,passive:!0},uo={height:0,width:0},ci={height:0,width:0},ho=function(X){var me=X.getCurrentPage,ke=X.getCurrentScrollMode,Le=X.jumpToPage,Oe=X.targetRef,je=B.useState(A.FullScreenMode.Normal),tt=je[0],Ye=je[1],Ie=function(){var on=B.useState(uo),xn=on[0],Pn=on[1],Mn=be(function(){Pn({height:window.innerHeight,width:window.innerWidth})},100);return re(function(){return window.addEventListener("resize",Mn,ia),function(){window.removeEventListener("resize",Mn,ia)}},[]),xn}(),Qe=B.useState(ci),Je=Qe[0],yt=Qe[1],_t=B.useRef(ci),gt=B.useRef(me()),It=B.useRef(ci),Rt=B.useState(Oe.current),Mt=Rt[0],_n=Rt[1],Qt=B.useRef();re(function(){Oe.current!==Mt&&_n(Oe.current)},[]),re(function(){if(Mt){var on=new ResizeObserver(function(xn){xn.forEach(function(Pn){var Mn=Pn.target.getBoundingClientRect(),$n=Mn.height,Rn=Mn.width;yt({height:$n,width:Rn})})});return on.observe(Mt),function(){on.unobserve(Mt),on.disconnect()}}},[Mt]);var tn=B.useCallback(function(on){var xn=De();return xn&&xn!==on?(Ye(A.FullScreenMode.Normal),Pe(xn)):Promise.resolve()},[]),cn=B.useCallback(function(on){on&&he()&&(_n(on),tn(on).then(function(){Qt.current=on,Ye(A.FullScreenMode.Entering),function(xn){te&&xn[_e.RequestFullScreen]()}(on)}))},[]),Ut=B.useCallback(function(){De()&&(Ye(A.FullScreenMode.Exitting),Pe(document))},[]),dn=B.useCallback(function(){Mt&&De()!==Mt&&Ye(A.FullScreenMode.Exitting)},[Mt]);return B.useEffect(function(){switch(tt){case A.FullScreenMode.Entering:Qt.current&&(Qt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),gt.current=me(),_t.current={height:window.innerHeight,width:window.innerWidth};break;case A.FullScreenMode.Entered:ke()===A.ScrollMode.Page?Le(gt.current).then(function(){Ye(A.FullScreenMode.EnteredCompletely)}):Ye(A.FullScreenMode.EnteredCompletely);break;case A.FullScreenMode.Exitting:Qt.current&&(Qt.current.style.backgroundColor="",Qt.current=null),gt.current=me();break;case A.FullScreenMode.Exited:Ye(A.FullScreenMode.Normal),ke()===A.ScrollMode.Page&&Le(gt.current)}},[tt]),B.useEffect(function(){if(tt!==A.FullScreenMode.Normal)return tt===A.FullScreenMode.Entering&&Ie.height===Je.height&&Ie.width===Je.width&&Ie.height>0&&Ie.width>0&&(It.current.height===0||Ie.height==It.current.height)?(It.current={height:window.innerHeight,width:window.innerWidth},void Ye(A.FullScreenMode.Entered)):void(tt===A.FullScreenMode.Exitting&&_t.current.height===Ie.height&&_t.current.width===Ie.width&&Ie.height>0&&Ie.width>0&&Ye(A.FullScreenMode.Exited))},[tt,Ie,Je]),B.useEffect(function(){var on;return on=dn,te&&document.addEventListener(_e.FullScreenChange,on),function(){(function(xn){te&&document.removeEventListener(_e.FullScreenChange,xn)})(dn)}},[Mt]),{enterFullScreenMode:cn,exitFullScreenMode:Ut,fullScreenMode:tt}},fo={buildPageStyles:function(){return{}},transformSize:function(X){return X.size}},yr={left:0,top:0},po=function(X){var me=X.currentFile,ke=X.defaultScale,Le=X.doc,Oe=X.enableSmoothScroll,je=X.initialPage,tt=X.initialRotation,Ye=X.initialScale,Ie=X.pageLayout,Qe=X.pageSizes,Je=X.plugins,yt=X.renderPage,_t=X.scrollMode,gt=X.setRenderRange,It=X.viewMode,Rt=X.viewerState,Mt=X.onDocumentLoad,_n=X.onOpenFile,Qt=X.onPageChange,tn=X.onRotate,cn=X.onRotatePage,Ut=X.onZoom,dn=Le.numPages,on=Le.loadingTask.docId,xn=B.useContext(ft).l10n,Pn=B.useContext(le),Mn=Pn.direction===A.TextDirection.RightToLeft,$n=B.useRef(),Rn=B.useRef(),Xn=B.useState(je),zn=Xn[0],Kn=Xn[1],Vn=B.useRef(null),Un=lo({getCurrentPage:function(){return bn.current.pageIndex}}),Gn=B.useState(tt),Wn=Gn[0],tr=Gn[1],ur=Ve(Wn),cr=B.useState(!1),Jn=cr[0],rr=cr[1],dr=B.useState(new Map),sn=dr[0],rn=dr[1],Gt=B.useState(_t),Yt=Gt[0],qt=Gt[1],hn=Ve(Yt),fn=B.useState(It),Zt=fn[0],zt=fn[1],mn=Ve(Zt),Sn=function(xt){var gn=$e(),wn=B.useState([]),Fn=wn[0],Tn=wn[1];return B.useEffect(function(){xt.getOutline().then(function(An){if(gn.current&&An!==null){var Zn=ra(An);Tn(Zn)}})},[]),Fn}(Le),Bn=B.useState(Ye),In=Bn[0],Qn=Bn[1],ar=Ve(In),bn=B.useRef(Rt),er=B.useRef(typeof ke=="string"?ke:null),jn=B.useRef(-1),Hn=B.useRef(-1),Yn=B.useRef(je),Ln=ho({getCurrentPage:function(){return bn.current.pageIndex},getCurrentScrollMode:function(){return bn.current.scrollMode},jumpToPage:function(xt){return mr(xt)},targetRef:Rn}),fr=B.useState(-1),Sr=fr[0],Hr=fr[1],br=B.useState(0),$r=br[0],Eo=br[1],or=rt({doc:Le});B.useEffect(function(){return function(){Pt.clear(),Vt.clear()}},[on]);var ca=B.useMemo(function(){return Object.assign({},fo,Ie)},[]),yo=B.useMemo(function(){return Array(dn).fill(0).map(function(xt,gn){var wn=[Qe[gn].pageHeight,Qe[gn].pageWidth],Fn=Math.abs(Wn)%180==0?{height:wn[0],width:wn[1]}:{height:wn[1],width:wn[0]},Tn={height:Fn.height*In,width:Fn.width*In};return ca.transformSize({numPages:dn,pageIndex:gn,size:Tn})})},[Wn,In]),Dn=co({enableSmoothScroll:Oe,isRtl:Mn,numberOfItems:dn,parentRef:Rn,scrollMode:Yt,setRenderRange:gt,sizes:yo,viewMode:Zt}),So=be(function(){!er.current||bn.current.fullScreenMode!==A.FullScreenMode.Normal||je>0&&Yn.current===je||_r(er.current)},200);(function(xt){var gn=xt.targetRef,wn=xt.onResize;re(function(){var Fn=new ResizeObserver(function(An){An.forEach(function(Zn){wn(Zn.target)})}),Tn=gn.current;if(Tn)return Fn.observe(Tn),function(){Fn.unobserve(Tn)}},[])})({targetRef:Rn,onResize:So});var pr=function(xt){var gn=xt;Je.forEach(function(wn){wn.onViewerStateChange&&(gn=wn.onViewerStateChange(gn))}),bn.current=gn},wo=function(){return Rn.current},Ao=function(){return bn.current},Co=B.useCallback(function(xt){Un.markVisitedDestination(xt)},[]),di=B.useCallback(function(xt){var gn=xt.pageIndex,wn=xt.bottomOffset,Fn=xt.leftOffset,Tn=xt.scaleTo,An=Rn.current,Zn=bn.current;return An&&Zn?new Promise(function(gr,vi){en(Le,gn).then(function(Vr){var vr=Vr.getViewport({scale:1}),Wr=0,ga=(typeof wn=="function"?wn(vr.width,vr.height):wn)||0,Ur=(typeof Fn=="function"?Fn(vr.width,vr.height):Fn)||0,wr=Zn.scale;switch(Tn){case A.SpecialZoomLevel.PageFit:Wr=0,Ur=0,_r(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:wr=si(An,Qe[gn].pageHeight,Qe[gn].pageWidth,A.SpecialZoomLevel.PageWidth,It,dn),Wr=(vr.height-ga)*wr,Ur*=wr,_r(wr);break;default:Wr=(vr.height-ga)*wr,Ur*=wr}switch(Zn.scrollMode){case A.ScrollMode.Horizontal:Dn.scrollToItem(gn,{left:Ur,top:0}).then(function(){gr()});break;case A.ScrollMode.Vertical:default:Dn.scrollToItem(gn,{left:0,top:Wr}).then(function(){gr()})}})}):Promise.resolve()},[]),la=B.useCallback(function(xt){return Un.markVisitedDestination(xt),di(xt)},[]),Po=B.useCallback(function(){var xt=Un.getNextDestination();return xt?di(xt):Promise.resolve()},[]),ko=B.useCallback(function(){var xt=Un.getPreviousDestination();return xt?di(xt):Promise.resolve()},[]),xo=B.useCallback(function(){return Dn.scrollToNextItem(bn.current.pageIndex,yr)},[]),mr=B.useCallback(function(xt){return 0<=xt&&xt<dn?Dn.scrollToItem(xt,yr):Promise.resolve()},[]),Mo=B.useCallback(function(){return Dn.scrollToPreviousItem(bn.current.pageIndex,yr)},[]),ua=B.useCallback(function(xt){var gn,wn;(gn=xt.name,wn=gn.split(/\./).pop(),wn?wn.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Fn){var Tn=new FileReader;Tn.readAsArrayBuffer(xt),Tn.onload=function(){var An=new Uint8Array(Tn.result);Fn(An)}}).then(function(Fn){_n(xt.name,Fn)})},[_n]),da=B.useCallback(function(xt){var gn=xt===A.RotateDirection.Backward?-90:90,wn=bn.current.rotation,Fn=wn===360||wn===-360?gn:wn+gn;or.markNotRendered(),tr(Fn),pr(K(K({},bn.current),{rotation:Fn})),tn({direction:xt,doc:Le,rotation:Fn})},[]),hi=B.useCallback(function(xt,gn){var wn=gn===A.RotateDirection.Backward?-90:90,Fn=bn.current.pagesRotation,Tn=(Fn.has(xt)?Fn.get(xt):tt)+wn,An=Fn.set(xt,Tn);rn(An),rr(function(Zn){return!Zn}),pr(K(K({},bn.current),{pagesRotation:An,rotatedPage:xt})),cn({direction:gn,doc:Le,pageIndex:xt,rotation:Tn}),or.markRendering(xt),Hr(xt)},[]),ha=B.useCallback(function(xt){pr(K(K({},bn.current),{scrollMode:xt})),qt(xt)},[]),fa=B.useCallback(function(xt){pr(K(K({},bn.current),{viewMode:xt})),zt(xt)},[]),_r=B.useCallback(function(xt){var gn=Rn.current,wn=bn.current.pageIndex;if(!(wn<0||wn>=dn)){var Fn=Qe[wn].pageHeight,Tn=Qe[wn].pageWidth,An=gn?typeof xt=="string"?si(gn,Fn,Tn,xt,bn.current.viewMode,dn):xt:1;er.current=typeof xt=="string"?xt:null,An!==bn.current.scale&&(Eo(function(Zn){return Zn+1}),or.markNotRendered(),Qn(An),Ut({doc:Le,scale:An}),pr(K(K({},bn.current),{scale:An})))}},[]),$o=B.useCallback(function(xt){Ln.enterFullScreenMode(xt)},[]),To=B.useCallback(function(){Ln.exitFullScreenMode()},[]);B.useEffect(function(){pr(K(K({},bn.current),{fullScreenMode:Ln.fullScreenMode}))},[Ln.fullScreenMode]),B.useEffect(function(){var xt={enterFullScreenMode:$o,exitFullScreenMode:To,getPagesContainer:wo,getViewerState:Ao,jumpToDestination:la,jumpToNextDestination:Po,jumpToPreviousDestination:ko,jumpToNextPage:xo,jumpToPreviousPage:Mo,jumpToPage:mr,openFile:ua,rotate:da,rotatePage:hi,setViewerState:pr,switchScrollMode:ha,switchViewMode:fa,zoom:_r};return Je.forEach(function(gn){gn.install&&gn.install(xt)}),function(){Je.forEach(function(gn){gn.uninstall&&gn.uninstall(xt)})}},[on]),B.useEffect(function(){Mt({doc:Le,file:me}),Je.forEach(function(xt){xt.onDocumentLoad&&xt.onDocumentLoad({doc:Le,file:me})})},[on]);var fi,pi,mi,pa=Dn.boundingClientRect;fi=function(){je&&mr(je)},pi=pa.height>0&&pa.width>0,mi=B.useRef(!1),re(function(){pi&&!mi.current&&(mi.current=!0,fi())},[fi,pi]),re(function(){var xt=bn.current.pageIndex;xt>-1&&hn!==Yt&&Dn.scrollToItem(xt,yr).then(function(){Ln.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(Oe||or.markNotRendered(),jn.current=-1)})},[Yt]),re(function(){var xt=bn.current.pageIndex;xt>-1&&ur!==Wn&&Dn.scrollToItem(xt,yr)},[Wn]),re(function(){ar!=0&&ar!=bn.current.scale&&Dn.zoom(bn.current.scale/ar,bn.current.pageIndex).then(function(){Ln.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(Hn.current=-1)})},[In]),re(function(){if(mn!==bn.current.viewMode){var xt=Dn.startPage,gn=Dn.endPage,wn=Dn.virtualItems;or.markNotRendered(),or.setRange(xt,gn);for(var Fn=function(An){var Zn=wn.find(function(gr){return gr.index===An});Zn&&or.setVisibility(An,Zn.visibility)},Tn=xt;Tn<=gn;Tn++)Fn(Tn);gi()}},[Zt]),re(function(){var xt=bn.current.pageIndex;xt>-1&&mn!==Zt&&Dn.scrollToItem(xt,yr)},[Zt]),re(function(){var xt=bn.current.pageIndex;xt>0&&xt===je&&Yn.current===je&&er.current&&(Yn.current=-1,_r(er.current))},[zn]),B.useEffect(function(){Dn.isSmoothScrolling||Vn.current!==null&&Vn.current===zn||(Vn.current=zn,Qt({currentPage:zn,doc:Le}))},[zn,Dn.isSmoothScrolling]),B.useEffect(function(){Ln.fullScreenMode===A.FullScreenMode.Entering&&bn.current.scrollMode===A.ScrollMode.Page&&(jn.current=bn.current.pageIndex),Ln.fullScreenMode===A.FullScreenMode.EnteredCompletely&&bn.current.scrollMode===A.ScrollMode.Page&&Oe&&(jn.current=-1),Ln.fullScreenMode===A.FullScreenMode.EnteredCompletely&&er.current&&(Hn.current=bn.current.pageIndex,_r(er.current))},[Ln.fullScreenMode]),B.useEffect(function(){if(Ln.fullScreenMode!==A.FullScreenMode.Entering&&Ln.fullScreenMode!==A.FullScreenMode.Exitting&&!Dn.isSmoothScrolling){var xt=Dn.startPage,gn=Dn.endPage,wn=Dn.maxVisbilityIndex,Fn=Dn.virtualItems,Tn=wn,An=Ln.fullScreenMode===A.FullScreenMode.Entered||Ln.fullScreenMode===A.FullScreenMode.EnteredCompletely;if(!(An&&Tn!==jn.current&&jn.current>-1||An&&Tn!==Hn.current&&Hn.current>-1)){Kn(Tn),pr(K(K({},bn.current),{pageIndex:Tn})),or.setRange(xt,gn);for(var Zn=function(vi){var Vr=Fn.find(function(vr){return vr.index===vi});Vr&&or.setVisibility(vi,Vr.visibility)},gr=xt;gr<=gn;gr++)Zn(gr);gi()}}},[Dn.startPage,Dn.endPage,Dn.isSmoothScrolling,Dn.maxVisbilityIndex,Ln.fullScreenMode,Jn,Wn,In]);var Ro=B.useCallback(function(xt){or.markRendered(xt),gi()},[$r]),gi=function(){var xt=or.getHighestPriorityPage();xt>-1&&or.isInRange(xt)&&(or.markRendering(xt),Hr(xt))},Fo=function(xt){var gn=zn-1,wn=zn+1;switch(xt){case"FirstPage":mr(0);break;case"LastPage":mr(dn-1);break;case"NextPage":wn<dn&&mr(wn);break;case"PrevPage":gn>=0&&mr(gn)}},Lo=B.useCallback(function(){var xt=Dn.virtualItems,gn=[];switch(Zt){case A.ViewMode.DualPage:gn=lt(xt,2);break;case A.ViewMode.DualPageWithCover:xt.length&&(gn=xt[0].index===0?[[xt[0]]].concat(lt(xt.slice(1),2)):lt(xt,2));break;case A.ViewMode.SinglePage:default:gn=lt(xt,1)}var wn=xn&&xn.core?xn.core.pageLabel:"Page {{pageIndex}}",Fn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:$n,style:{height:"100%"}},children:B.createElement(B.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ne({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Yt===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Mn,"rpv-core__inner-pages--single":Yt===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":Yt===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Yt===A.ScrollMode.Wrapped}),ref:Rn,style:{height:"100%",position:"relative"}},children:B.createElement("div",{"data-testid":"core__inner-current-page-".concat(zn),style:Object.assign({"--scale-factor":In},Dn.getContainerStyles())},gn.map(function(Tn){return B.createElement("div",{className:ne({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Yt===A.ScrollMode.Page}),style:Dn.getItemContainerStyles(Tn[0]),key:"".concat(Tn[0].index,"-").concat(Zt)},Tn.map(function(An){var Zn=Zt===A.ViewMode.DualPageWithCover&&(An.index===0||dn%2==0&&An.index===dn-1);return B.createElement("div",{"aria-label":wn.replace("{{pageIndex}}","".concat(An.index+1)),className:ne({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Zt===A.ViewMode.DualPage&&An.index%2==0,"rpv-core__inner-page--dual-odd":Zt===A.ViewMode.DualPage&&An.index%2==1,"rpv-core__inner-page--dual-cover":Zn,"rpv-core__inner-page--dual-cover-even":Zt===A.ViewMode.DualPageWithCover&&!Zn&&An.index%2==0,"rpv-core__inner-page--dual-cover-odd":Zt===A.ViewMode.DualPageWithCover&&!Zn&&An.index%2==1,"rpv-core__inner-page--single":Zt===A.ViewMode.SinglePage&&Yt===A.ScrollMode.Page}),role:"region",key:"".concat(An.index,"-").concat(Zt),style:Object.assign({},Dn.getItemStyles(An),ca.buildPageStyles({numPages:dn,pageIndex:An.index,scrollMode:Yt,viewMode:Zt}))},B.createElement(Ja,{doc:Le,measureRef:An.measureRef,outlines:Sn,pageIndex:An.index,pageRotation:sn.has(An.index)?sn.get(An.index):0,pageSize:Qe[An.index],plugins:Je,renderPage:yt,renderQueueKey:$r,rotation:Wn,scale:In,shouldRender:Sr===An.index,viewMode:Zt,onExecuteNamedAction:Fo,onJumpFromLinkAnnotation:Co,onJumpToDest:la,onRenderCompleted:Ro,onRotatePage:hi}))}))}))}};return Je.forEach(function(Tn){Tn.renderViewer&&(Fn=Tn.renderViewer({containerRef:$n,doc:Le,pagesContainerRef:Rn,pagesRotation:sn,pageSizes:Qe,rotation:Wn,slot:Fn,themeContext:Pn,jumpToPage:mr,openFile:ua,rotate:da,rotatePage:hi,switchScrollMode:ha,switchViewMode:fa,zoom:_r}))}),Fn},[Je,Dn]),ma=B.useCallback(function(xt){return B.createElement("div",K({},xt.attrs,{style:xt.attrs&&xt.attrs.style?xt.attrs.style:{}}),xt.children,xt.subSlot&&ma(xt.subSlot))},[]);return ma(Lo())},aa=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],mo=function(X){var me=X.defaultScale,ke=X.doc,Le=X.render,Oe=X.scrollMode,je=X.viewMode,tt=B.useRef(),Ye=B.useState({pageSizes:[],scale:0}),Ie=Ye[0],Qe=Ye[1];return B.useLayoutEffect(function(){var Je=Array(ke.numPages).fill(0).map(function(yt,_t){return new Promise(function(gt,It){en(ke,_t).then(function(Rt){var Mt=Rt.getViewport({scale:1});gt({pageHeight:Mt.height,pageWidth:Mt.width,rotation:Mt.rotation})})})});Promise.all(Je).then(function(yt){var _t=tt.current;if(_t&&yt.length!==0){var gt=yt[0].pageWidth,It=yt[0].pageHeight,Rt=_t.parentElement,Mt=(Rt.clientWidth-45)/gt,_n=(Rt.clientHeight-45)/It,Qt=Mt;switch(Oe){case A.ScrollMode.Horizontal:Qt=Math.min(Mt,_n);break;case A.ScrollMode.Vertical:default:Qt=Mt}var tn,cn,Ut=me?typeof me=="string"?si(Rt,It,gt,me,je,ke.numPages):me:(tn=Qt,(cn=aa.findIndex(function(dn){return dn>=tn}))===-1||cn===0?tn:aa[cn-1]);Qe({pageSizes:yt,scale:Ut})}})},[ke.loadingTask.docId]),Ie.pageSizes.length===0||Ie.scale===0?B.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:tt},B.createElement(ue,null)):Le(Ie.pageSizes,Ie.scale)},zr=function(){},li=function(X){function me(ke,Le){var Oe=X.call(this)||this;return Oe.verifyPassword=ke,Oe.passwordStatus=Le,Oe}return fe(me,X),me}(zr),go=function(X){var me=X.passwordStatus,ke=X.renderProtectedView,Le=X.verifyPassword,Oe=X.onDocumentAskPassword,je=B.useContext(ft).l10n,tt=B.useState(""),Ye=tt[0],Ie=tt[1],Qe=B.useContext(le).direction===A.TextDirection.RightToLeft,Je=function(){return Le(Ye)};return B.useEffect(function(){Oe&&Oe({verifyPassword:Le})},[]),ke?ke({passwordStatus:me,verifyPassword:Le}):B.createElement("div",{className:"rpv-core__asking-password-wrapper"},B.createElement("div",{className:ne({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Qe})},B.createElement("div",{className:"rpv-core__asking-password-message"},me===A.PasswordStatus.RequiredPassword&&je.core.askingPassword.requirePasswordToOpen,me===A.PasswordStatus.WrongPassword&&je.core.wrongPassword.tryAgain),B.createElement("div",{className:"rpv-core__asking-password-body"},B.createElement("div",{className:ne({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Qe,"rpv-core__asking-password-input--rtl":Qe})},B.createElement(pe,{testId:"core__asking-password-input",type:"password",value:Ye,onChange:Ie,onKeyDown:function(yt){yt.key==="Enter"&&Je()}})),B.createElement(se,{onClick:Je},je.core.askingPassword.submit))))},oa=function(X){function me(ke){var Le=X.call(this)||this;return Le.doc=ke,Le}return fe(me,X),me}(zr),sa=function(X){function me(ke){var Le=X.call(this)||this;return Le.error=ke,Le}return fe(me,X),me}(zr),ui=function(X){function me(ke){var Le=X.call(this)||this;return Le.percentages=ke,Le}return fe(me,X),me}(zr),vo=function(X){var me=X.characterMap,ke=X.file,Le=X.httpHeaders,Oe=X.render,je=X.renderError,tt=X.renderLoader,Ye=X.renderProtectedView,Ie=X.transformGetDocumentParams,Qe=X.withCredentials,Je=X.onDocumentAskPassword,yt=B.useContext(le).direction===A.TextDirection.RightToLeft,_t=B.useState(new ui(0)),gt=_t[0],It=_t[1],Rt=B.useRef(""),Mt=$e();return B.useEffect(function(){Rt.current="",It(new ui(0));var _n=new Y.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Qt=Object.assign({httpHeaders:Le,withCredentials:Qe,worker:_n},typeof ke=="string"?{url:ke}:{data:ke},me?{cMapUrl:me.url,cMapPacked:me.isCompressed}:{}),tn=Ie?Ie(Qt):Qt,cn=Y.getDocument(tn);return cn.onPassword=function(Ut,dn){switch(dn){case Y.PasswordResponses.NEED_PASSWORD:Mt.current&&It(new li(Ut,A.PasswordStatus.RequiredPassword));break;case Y.PasswordResponses.INCORRECT_PASSWORD:Mt.current&&It(new li(Ut,A.PasswordStatus.WrongPassword))}},cn.onProgress=function(Ut){var dn=Ut.total>0?Math.min(100,100*Ut.loaded/Ut.total):100;Mt.current&&Rt.current===""&&It(new ui(dn))},cn.promise.then(function(Ut){Rt.current=Ut.loadingTask.docId,Mt.current&&It(new oa(Ut))},function(Ut){return Mt.current&&!_n.destroyed&&It(new sa({message:Ut.message||"Cannot load document",name:Ut.name}))}),function(){cn.destroy(),_n.destroy()}},[ke]),gt instanceof li?B.createElement(go,{passwordStatus:gt.passwordStatus,renderProtectedView:Ye,verifyPassword:gt.verifyPassword,onDocumentAskPassword:Je}):gt instanceof oa?Oe(gt.doc):gt instanceof sa?je?je(gt.error):B.createElement("div",{className:ne({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":yt})},B.createElement("div",{className:"rpv-core__doc-error-text"},gt.error.message)):B.createElement("div",{"data-testid":"core__doc-loading",className:ne({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":yt})},tt?tt(gt.percentages):B.createElement(ue,null))},bo=function(X,me){var ke=B.useMemo(function(){return X==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":X},[]),Le=B.useState(ke),Oe=Le[0],je=Le[1],tt=Ve(Oe);return B.useEffect(function(){if(X==="auto"){var Ye=window.matchMedia("(prefers-color-scheme: dark)"),Ie=function(Qe){je(Qe.matches?"dark":"light")};return Ye.addEventListener("change",Ie),function(){return Ye.removeEventListener("change",Ie)}}},[]),B.useEffect(function(){Oe!==tt&&me&&me(Oe)},[Oe]),B.useEffect(function(){X!==Oe&&je(X)},[X]),{currentTheme:Oe,setCurrentTheme:je}},_o=function(X){return{startPage:X.startPage-3,endPage:X.endPage+3}};A.Button=function(X){var me=X.children,ke=X.testId,Le=X.onClick,Oe=B.useContext(le).direction===A.TextDirection.RightToLeft,je=ke?{"data-testid":ke}:{};return B.createElement("button",K({className:ne({"rpv-core__button":!0,"rpv-core__button--rtl":Oe}),type:"button",onClick:Le},je),me)},A.Icon=q,A.LazyRender=function(X){var me=X.attrs,ke=X.children,Le=X.testId,Oe=B.useState(!1),je=Oe[0],tt=Oe[1],Ye=Le?K(K({},me),{"data-testid":Le}):me,Ie=Q({once:!0,onVisibilityChanged:function(Qe){Qe.isVisible&&tt(!0)}});return B.createElement("div",K({ref:Ie},Ye),je&&ke)},A.LocalizationContext=ft,A.Menu=function(X){var me=X.children,ke=B.useRef(),Le=B.useRef([]),Oe=B.useContext(le).direction===A.TextDirection.RightToLeft,je=function(Ye){if(ke.current)switch(Ye.key){case"Tab":Ye.preventDefault();break;case"ArrowDown":Ye.preventDefault(),tt(function(Ie,Qe){return Qe+1});break;case"ArrowUp":Ye.preventDefault(),tt(function(Ie,Qe){return Qe-1});break;case"End":Ye.preventDefault(),tt(function(Ie,Qe){return Ie.length-1});break;case"Home":Ye.preventDefault(),tt(function(Ie,Qe){return 0})}},tt=function(Ye){if(ke.current){var Ie=Le.current,Qe=Ie.findIndex(function(yt){return yt.getAttribute("tabindex")==="0"}),Je=Math.min(Ie.length-1,Math.max(0,Ye(Ie,Qe)));Qe>=0&&Qe<=Ie.length-1&&Ie[Qe].setAttribute("tabindex","-1"),Ie[Je].setAttribute("tabindex","0"),Ie[Je].focus()}};return re(function(){var Ye=ke.current;if(Ye){var Ie=function(Qe){var Je=[];return Qe.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(yt){if(yt instanceof HTMLElement){var _t=yt.parentElement;(_t===Qe||window.getComputedStyle(_t).display!=="none")&&Je.push(yt)}}),Je}(Ye);Le.current=Ie}},[]),re(function(){return document.addEventListener("keydown",je),function(){document.removeEventListener("keydown",je)}},[]),B.createElement("div",{ref:ke,"aria-orientation":"vertical",className:ne({"rpv-core__menu":!0,"rpv-core__menu--rtl":Oe}),role:"menu",tabIndex:0},me)},A.MenuDivider=function(){return B.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(X){var me=X.checked,ke=me!==void 0&&me,Le=X.children,Oe=X.icon,je=Oe===void 0?null:Oe,tt=X.isDisabled,Ye=tt!==void 0&&tt,Ie=X.testId,Qe=X.onClick,Je=B.useContext(le).direction===A.TextDirection.RightToLeft,yt=Ie?{"data-testid":Ie}:{};return B.createElement("button",K({className:ne({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Ye,"rpv-core__menu-item--ltr":!Je,"rpv-core__menu-item--rtl":Je}),role:"menuitem",tabIndex:-1,type:"button",onClick:Qe},yt),B.createElement("div",{className:ne({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Je,"rpv-core__menu-item-icon--rtl":Je})},je),B.createElement("div",{className:ne({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Je,"rpv-core__menu-item-label--rtl":Je})},Le),B.createElement("div",{className:ne({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Je,"rpv-core__menu-item-check--rtl":Je})},ke&&B.createElement(oe,null)))},A.MinimalButton=function(X){var me=X.ariaLabel,ke=me===void 0?"":me,Le=X.ariaKeyShortcuts,Oe=Le===void 0?"":Le,je=X.children,tt=X.isDisabled,Ye=tt!==void 0&&tt,Ie=X.isSelected,Qe=Ie!==void 0&&Ie,Je=X.testId,yt=X.onClick,_t=B.useContext(le).direction===A.TextDirection.RightToLeft,gt=Je?{"data-testid":Je}:{};return B.createElement("button",K({"aria-label":ke},Oe&&{"aria-keyshortcuts":Oe},Ye&&{"aria-disabled":!0},{className:ne({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Ye,"rpv-core__minimal-button--rtl":_t,"rpv-core__minimal-button--selected":Qe}),type:"button",onClick:yt},gt),je)},A.Modal=function(X){var me=X.ariaControlsSuffix,ke=X.closeOnClickOutside,Le=X.closeOnEscape,Oe=X.content,je=X.isOpened,tt=je!==void 0&&je,Ye=X.target,Ie=me||"".concat(we());return B.createElement(Ce,{target:Ye?function(Qe,Je){return B.createElement("div",{"aria-expanded":Je?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Ie)},Ye(Qe,Je))}:null,content:function(Qe){return B.createElement(ie,null,B.createElement(G,{ariaControlsSuffix:Ie,closeOnClickOutside:ke,closeOnEscape:Le,onToggle:Qe},Oe(Qe)))},isOpened:tt})},A.Popover=function(X){var me=X.ariaHasPopup,ke=me===void 0?"dialog":me,Le=X.ariaControlsSuffix,Oe=X.closeOnClickOutside,je=X.closeOnEscape,tt=X.content,Ye=X.lockScroll,Ie=Ye===void 0||Ye,Qe=X.offset,Je=X.position,yt=X.target,_t=ye(!1),gt=_t.opened,It=_t.toggle,Rt=B.useRef(),Mt=B.useMemo(function(){return Le||"".concat(we())},[]);return B.createElement("div",{ref:Rt,"aria-expanded":gt?"true":"false","aria-haspopup":ke,"aria-controls":"rpv-core__popver-body-".concat(Mt)},yt(It,gt),gt&&B.createElement(B.Fragment,null,Ie&&B.createElement(st,{closeOnEscape:je,onClose:It}),B.createElement(Lt,{ariaControlsSuffix:Mt,closeOnClickOutside:Oe,offset:Qe,position:Je,targetRef:Rt,onClose:It},tt(It))))},A.PrimaryButton=se,A.ProgressBar=function(X){var me=X.progress,ke=B.useContext(le).direction===A.TextDirection.RightToLeft;return B.createElement("div",{className:ne({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":ke})},B.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(me,"%")}},me,"%"))},A.Separator=function(){return B.createElement("div",{className:"rpv-core__separator"})},A.Spinner=ue,A.Splitter=function(X){var me=X.constrain,ke=B.useContext(le).direction===A.TextDirection.RightToLeft,Le=B.useRef(),Oe=B.useRef(),je=B.useRef(),tt=B.useRef(0),Ye=B.useRef(0),Ie=B.useRef(0),Qe=B.useRef(0),Je={capture:!0},yt=function(gt){var It=Le.current,Rt=Oe.current,Mt=je.current;if(It&&Rt&&Mt){var _n=Qe.current,Qt=gt.clientX-tt.current,tn=Ie.current+(ke?-Qt:Qt),cn=It.parentElement.getBoundingClientRect().width,Ut=100*tn/cn;if(It.classList.add("rpv-core__splitter--resizing"),me){var dn=cn-tn-_n;if(!me({firstHalfPercentage:Ut,firstHalfSize:tn,secondHalfPercentage:100*dn/cn,secondHalfSize:dn}))return}Rt.style.width="".concat(Ut,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Rt.classList.add("rpv-core__splitter-sibling--resizing"),Mt.classList.add("rpv-core__splitter-sibling--resizing")}},_t=function(gt){var It=Le.current,Rt=Oe.current,Mt=je.current;It&&Rt&&Mt&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),It.classList.remove("rpv-core__splitter--resizing"),Rt.classList.remove("rpv-core__splitter-sibling--resizing"),Mt.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",yt,Je),document.removeEventListener("mouseup",_t,Je))};return B.useEffect(function(){var gt=Le.current;gt&&(Qe.current=gt.getBoundingClientRect().width,Oe.current=gt.previousElementSibling,je.current=gt.nextElementSibling)},[]),B.createElement("div",{ref:Le,className:"rpv-core__splitter",onMouseDown:function(gt){var It=Oe.current;It&&(tt.current=gt.clientX,Ye.current=gt.clientY,Ie.current=It.getBoundingClientRect().width,document.addEventListener("mousemove",yt,Je),document.addEventListener("mouseup",_t,Je))}})},A.TextBox=pe,A.ThemeContext=le,A.Tooltip=function(X){var me=X.ariaControlsSuffix,ke=X.content,Le=X.offset,Oe=X.position,je=X.target,tt=ye(!1),Ye=tt.opened,Ie=tt.toggle,Qe=B.useRef(),Je=B.useRef(),yt=B.useMemo(function(){return me||"".concat(we())},[]);J(function(){Qe.current&&document.activeElement&&Qe.current.contains(document.activeElement)&&gt()});var _t=function(){Ie(A.ToggleStatus.Open)},gt=function(){Ie(A.ToggleStatus.Close)};return B.createElement(B.Fragment,null,B.createElement("div",{ref:Qe,"aria-describedby":"rpv-core__tooltip-body-".concat(yt),onBlur:function(It){It.relatedTarget instanceof HTMLElement&&It.currentTarget.parentElement&&It.currentTarget.parentElement.contains(It.relatedTarget)?Je.current&&(Je.current.style.display="none"):gt()},onFocus:_t,onMouseEnter:_t,onMouseLeave:gt},je),Ye&&B.createElement(Ue,{ariaControlsSuffix:yt,contentRef:Je,offset:Le,position:Oe,targetRef:Qe},ke()))},A.Viewer=function(X){var me=X.characterMap,ke=X.defaultScale,Le=X.enableSmoothScroll,Oe=Le===void 0||Le,je=X.fileUrl,tt=X.httpHeaders,Ye=tt===void 0?{}:tt,Ie=X.initialPage,Qe=Ie===void 0?0:Ie,Je=X.pageLayout,yt=X.initialRotation,_t=yt===void 0?0:yt,gt=X.localization,It=X.plugins,Rt=It===void 0?[]:It,Mt=X.renderError,_n=X.renderLoader,Qt=X.renderPage,tn=X.renderProtectedView,cn=X.scrollMode,Ut=cn===void 0?A.ScrollMode.Vertical:cn,dn=X.setRenderRange,on=dn===void 0?_o:dn,xn=X.transformGetDocumentParams,Pn=X.theme,Mn=Pn===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:Pn,$n=X.viewMode,Rn=$n===void 0?A.ViewMode.SinglePage:$n,Xn=X.withCredentials,zn=Xn!==void 0&&Xn,Kn=X.onDocumentAskPassword,Vn=X.onDocumentLoad,Un=Vn===void 0?function(){}:Vn,Gn=X.onPageChange,Wn=Gn===void 0?function(){}:Gn,tr=X.onRotate,ur=tr===void 0?function(){}:tr,cr=X.onRotatePage,Jn=cr===void 0?function(){}:cr,rr=X.onSwitchTheme,dr=rr===void 0?function(){}:rr,sn=X.onZoom,rn=sn===void 0?function(){}:sn,Gt=B.useState({data:je,name:typeof je=="string"?je:"",shouldLoad:!1}),Yt=Gt[0],qt=Gt[1],hn=function(jn,Hn){qt({data:Hn,name:jn,shouldLoad:!0})},fn=B.useState(!1),Zt=fn[0],zt=fn[1],mn=Ve(Yt);B.useEffect(function(){var jn,Hn,Yn,Ln;jn=mn.data,Ln=typeof(Hn=je),(Yn=typeof jn)=="string"&&Ln==="string"&&jn===Hn||Yn==="object"&&Ln==="object"&&jn.length===Hn.length&&jn.every(function(fr,Sr){return fr===Hn[Sr]})||qt({data:je,name:typeof je=="string"?je:"",shouldLoad:Zt})},[je,Zt]);var Sn=Q({onVisibilityChanged:function(jn){zt(jn.isVisible),jn.isVisible&&qt(function(Hn){return Object.assign({},Hn,{shouldLoad:!0})})}}),Bn=typeof Mn=="string"?{direction:A.TextDirection.LeftToRight,theme:Mn}:Mn,In=B.useState(gt||ot),Qn=In[0],ar=In[1],bn={l10n:Qn,setL10n:ar},er=Object.assign({},{direction:Bn.direction},bo(Bn.theme||"light",dr));return B.useEffect(function(){gt&&ar(gt)},[gt]),B.createElement(ft.Provider,{value:bn},B.createElement(le.Provider,{value:er},B.createElement("div",{ref:Sn,className:"rpv-core__viewer rpv-core__viewer--".concat(er.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Yt.shouldLoad&&B.createElement(vo,{characterMap:me,file:Yt.data,httpHeaders:Ye,render:function(jn){return B.createElement(mo,{defaultScale:ke,doc:jn,render:function(Hn,Yn){return B.createElement(po,{currentFile:{data:Yt.data,name:Yt.name},defaultScale:ke,doc:jn,enableSmoothScroll:Oe,initialPage:Qe,initialRotation:_t,initialScale:Yn,pageLayout:Je,pageSizes:Hn,plugins:Rt,renderPage:Qt,scrollMode:Ut,setRenderRange:on,viewMode:Rn,viewerState:{file:Yt,fullScreenMode:A.FullScreenMode.Normal,pageIndex:-1,pageHeight:Hn[0].pageHeight,pageWidth:Hn[0].pageWidth,pagesRotation:new Map,rotation:_t,scale:Yn,scrollMode:Ut,viewMode:Rn},onDocumentLoad:Un,onOpenFile:hn,onPageChange:Wn,onRotate:ur,onRotatePage:Jn,onZoom:rn})},scrollMode:Ut,viewMode:Rn})},renderError:Mt,renderLoader:_n,renderProtectedView:tn,transformGetDocumentParams:xn,withCredentials:zn,onDocumentAskPassword:Kn}))))},A.Worker=function(X){var me=X.children,ke=X.workerUrl;return Y.GlobalWorkerOptions.workerSrc=ke,B.createElement(B.Fragment,null,me)},A.chunk=lt,A.classNames=ne,A.createStore=function(X){var me=X||{},ke={},Le=function(je,tt){var Ye;me=K(K({},me),((Ye={})[je]=tt,Ye)),(ke[je]||[]).forEach(function(Ie){return Ie(me[je])})},Oe=function(je){return me[je]};return{subscribe:function(je,tt){ke[je]=(ke[je]||[]).concat(tt)},unsubscribe:function(je,tt){ke[je]=(ke[je]||[]).filter(function(Ye){return Ye!==tt})},update:function(je,tt){Le(je,tt)},updateCurrentValue:function(je,tt){var Ye=Oe(je);Ye!==void 0&&Le(je,tt(Ye))},get:function(je){return Oe(je)}}},A.getDestination=an,A.getPage=en,A.isFullScreenEnabled=he,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useDebounceCallback=be,A.useIntersectionObserver=Q,A.useIsMounted=$e,A.useIsomorphicLayoutEffect=re,A.usePrevious=Ve,A.useRenderQueue=rt})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$h.exports=core_min;var libExports$h=lib$h.exports;const pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1),isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:",allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";var lib$g={exports:{}},zoom_min={},e$e=libExports$h;function t$e(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$e=t$e(reactExports),o$d=function(){return n$e.createElement(e$e.Icon,{ignoreDirection:!0,size:16},n$e.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$e=function(){return n$e.createElement(e$e.Icon,{ignoreDirection:!0,size:16},n$e.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$e=function(){return c$e=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$e.apply(this,arguments)},a$e=function(A){var $=n$e.useState(A.get("scale")||0),H=$[0],O=$[1],R=function(B){O(B)};return n$e.useEffect(function(){return A.subscribe("scale",R),function(){A.unsubscribe("scale",R)}},[]),{scale:H}},u$d=function(A){var $=A.children,H=A.store;return($||function(O){return n$e.createElement(n$e.Fragment,null,"".concat(Math.round(100*O.scale),"%"))})({scale:a$e(H).scale})},l$d={passive:!1},i$d=null,s$9=function(A){var $=A.pagesContainerRef,H=A.store,O=e$e.useDebounceCallback(function(B){var Y=H.get("zoom");Y&&Y(B)},40),R=function(B){if(B.ctrlKey){B.preventDefault();var Y=B.target.getBoundingClientRect(),ve=1-B.deltaY/100,fe=B.clientX-Y.left,de=B.clientY-Y.top,K=H.get("scale"),Ee=(i$d||(i$d=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(fe,de).scale(ve).translate(-fe,-de).scale(K);O(Ee.a)}};return e$e.useIsomorphicLayoutEffect(function(){var B=$.current;if(B)return B.addEventListener("wheel",R,l$d),function(){B.removeEventListener("wheel",R)}},[]),n$e.createElement(n$e.Fragment,null)},m$9=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$9=function(A){return m$9.find(function($){return $>A})||A},v$5=function(A){var $=m$9.findIndex(function(H){return H>=A});return $===-1||$===0?A:m$9[$-1]},p$7=function(A){var $=A.containerRef,H=A.store,O=function(R){if(!R.shiftKey&&!R.altKey&&(e$e.isMac()?R.metaKey:R.ctrlKey)){var B=$.current;if(B&&document.activeElement&&B.contains(document.activeElement)){var Y=H.get("zoom");if(Y){var ve=H.get("scale")||1,fe=1;switch(R.key){case"-":fe=v$5(ve);break;case"=":fe=f$9(ve);break;case"0":fe=1;break;default:fe=ve}fe!==ve&&(R.preventDefault(),Y(fe))}}}};return n$e.useEffect(function(){if($.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[$.current]),n$e.createElement(n$e.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$5={left:0,top:8},d$9=function(A){var $=A.levels,H=$===void 0?z:$,O=A.scale,R=A.onZoom,B=n$e.useContext(e$e.LocalizationContext).l10n,Y=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,ve=B&&B.zoom?B.zoom.zoomDocument:"Zoom document";return n$e.createElement(e$e.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$e.Position.BottomCenter,target:function(fe){return n$e.createElement(e$e.MinimalButton,{ariaLabel:ve,testId:"zoom__popover-target",onClick:function(){fe()}},n$e.createElement("span",{className:"rpv-zoom__popover-target"},n$e.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$e.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!Y,"rpv-zoom__popover-target-scale--rtl":Y})},Math.round(100*O),"%"),n$e.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(fe){return n$e.createElement(e$e.Menu,null,Object.keys(e$e.SpecialZoomLevel).map(function(de){var K=de;return n$e.createElement(e$e.MenuItem,{key:K,onClick:function(){fe(),R(K)}},function(Ee){switch(Ee){case e$e.SpecialZoomLevel.ActualSize:return B&&B.zoom?B.zoom.actualSize:"Actual size";case e$e.SpecialZoomLevel.PageFit:return B&&B.zoom?B.zoom.pageFit:"Page fit";case e$e.SpecialZoomLevel.PageWidth:return B&&B.zoom?B.zoom.pageWidth:"Page width"}}(K))}),n$e.createElement(e$e.MenuDivider,null),H.map(function(de){return n$e.createElement(e$e.MenuItem,{key:de,onClick:function(){fe(),R(de)}},"".concat(Math.round(100*de),"%"))}))},offset:E$5,closeOnClickOutside:!0,closeOnEscape:!0})},g$5=function(A){var $=A.children,H=A.levels,O=A.store;return($||function(R){return n$e.createElement(d$9,{levels:H,scale:R.scale,onZoom:R.onZoom})})({scale:a$e(O).scale,onZoom:function(R){var B=O.get("zoom");B&&B(R)}})},C$3={left:0,top:8},h$5=function(A){var $=A.enableShortcuts,H=A.onClick,O=n$e.useContext(e$e.LocalizationContext).l10n,R=O&&O.zoom?O.zoom.zoomIn:"Zoom in",B=$?e$e.isMac()?"Meta+=":"Ctrl+=":"";return n$e.createElement(e$e.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$e.Position.BottomCenter,target:n$e.createElement(e$e.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,testId:"zoom__in-button",onClick:H},n$e.createElement(o$d,null)),content:function(){return R},offset:C$3})},b$4=function(A){var $=A.children,H=A.enableShortcuts,O=A.store,R=a$e(O).scale;return($||h$5)({enableShortcuts:H,onClick:function(){var B=O.get("zoom");B&&B(f$9(R))}})},k$3=function(A){var $=A.onClick,H=n$e.useContext(e$e.LocalizationContext).l10n,O=H&&H.zoom?H.zoom.zoomIn:"Zoom in";return n$e.createElement(e$e.MenuItem,{icon:n$e.createElement(o$d,null),testId:"zoom__in-menu",onClick:$},O)},S$4={left:0,top:8},M$2=function(A){var $=A.enableShortcuts,H=A.onClick,O=n$e.useContext(e$e.LocalizationContext).l10n,R=O&&O.zoom?O.zoom.zoomOut:"Zoom out",B=$?e$e.isMac()?"Meta+-":"Ctrl+-":"";return n$e.createElement(e$e.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$e.Position.BottomCenter,target:n$e.createElement(e$e.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,testId:"zoom__out-button",onClick:H},n$e.createElement(r$e,null)),content:function(){return R},offset:S$4})},I$2=function(A){var $=A.children,H=A.enableShortcuts,O=A.store,R=a$e(O).scale;return($||M$2)({enableShortcuts:H,onClick:function(){var B=O.get("zoom");B&&B(v$5(R))}})},Z=function(A){var $=A.onClick,H=n$e.useContext(e$e.LocalizationContext).l10n,O=H&&H.zoom?H.zoom.zoomOut:"Zoom out";return n$e.createElement(e$e.MenuItem,{icon:n$e.createElement(r$e,null),testId:"zoom__out-menu",onClick:$},O)};zoom_min.ZoomInIcon=o$d,zoom_min.ZoomOutIcon=r$e,zoom_min.zoomPlugin=function(A){var $=n$e.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$e.useMemo(function(){return e$e.createStore({})},[]),O=function(Y){return n$e.createElement(b$4,c$e({enableShortcuts:$.enableShortcuts},Y,{store:H}))},R=function(Y){return n$e.createElement(I$2,c$e({enableShortcuts:$.enableShortcuts},Y,{store:H}))},B=function(Y){return n$e.createElement(g$5,c$e({},Y,{store:H}))};return{renderViewer:function(Y){var ve=Y.slot;if(!$.enableShortcuts)return ve;var fe={children:n$e.createElement(n$e.Fragment,null,n$e.createElement(p$7,{containerRef:Y.containerRef,store:H}),n$e.createElement(s$9,{pagesContainerRef:Y.pagesContainerRef,store:H}),ve.children)};return c$e(c$e({},ve),fe)},install:function(Y){H.update("zoom",Y.zoom)},onViewerStateChange:function(Y){return H.update("scale",Y.scale),Y},zoomTo:function(Y){var ve=H.get("zoom");ve&&ve(Y)},CurrentScale:function(Y){return n$e.createElement(u$d,c$e({},Y,{store:H}))},ZoomIn:O,ZoomInButton:function(){return n$e.createElement(O,null,function(Y){return n$e.createElement(h$5,c$e({},Y))})},ZoomInMenuItem:function(Y){return n$e.createElement(O,null,function(ve){return n$e.createElement(k$3,{onClick:function(){ve.onClick(),Y.onClick()}})})},ZoomOut:R,ZoomOutButton:function(){return n$e.createElement(R,null,function(Y){return n$e.createElement(M$2,c$e({},Y))})},ZoomOutMenuItem:function(Y){return n$e.createElement(R,null,function(ve){return n$e.createElement(Z,{onClick:function(){ve.onClick(),Y.onClick()}})})},Zoom:B,ZoomPopover:function(Y){return n$e.createElement(B,null,function(ve){return n$e.createElement(d$9,c$e({levels:Y==null?void 0:Y.levels},ve))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=zoom_min;var libExports$g=lib$g.exports,lib$f={exports:{}},defaultLayout_min={},lib$e={exports:{}},attachment_min={},e$d=libExports$h;function t$d(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$d=t$d(reactExports),a$d=function(A){var $=A.files,H=n$d.useRef(),O=n$d.useContext(e$d.LocalizationContext).l10n,R=n$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,B=n$d.useRef([]),Y=O&&O.attachment?O.attachment.clickToDownload:"Click to download",ve=function(fe){var de=H.current,K=[].slice.call(de.getElementsByClassName("rpv-attachment__item"));if(K.length!==0){K.forEach(function(ne){return ne.setAttribute("tabindex","-1")});var Ee=document.activeElement,le=K[Math.min(K.length-1,Math.max(0,fe(K,Ee)))];le.setAttribute("tabindex","0"),le.focus()}};return e$d.useIsomorphicLayoutEffect(function(){var fe=H.current;if(fe){var de=[].slice.call(fe.getElementsByClassName("rpv-attachment__item"));if(B.current=de,de.length>0){var K=de[0];K.focus(),K.setAttribute("tabindex","0")}}},[]),n$d.createElement("div",{"data-testid":"attachment__list",className:e$d.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":R}),ref:H,tabIndex:-1,onKeyDown:function(fe){switch(fe.key){case"ArrowDown":fe.preventDefault(),ve(function(de,K){return de.indexOf(K)+1});break;case"ArrowUp":fe.preventDefault(),ve(function(de,K){return de.indexOf(K)-1});break;case"End":fe.preventDefault(),ve(function(de,K){return de.length-1});break;case"Home":fe.preventDefault(),ve(function(de,K){return 0})}}},$.map(function(fe){return n$d.createElement("button",{className:"rpv-attachment__item",key:fe.fileName,tabIndex:-1,title:Y,type:"button",onClick:function(){return de=fe.fileName,K=fe.data,Ee=typeof K=="string"?"":URL.createObjectURL(new Blob([K],{type:""})),(le=document.createElement("a")).style.display="none",le.href=Ee||de,le.setAttribute("download",function(ne){var re=ne.split("/").pop();return re?re.split("#")[0].split("?")[0]:ne}(de)),document.body.appendChild(le),le.click(),document.body.removeChild(le),void(Ee&&URL.revokeObjectURL(Ee));var de,K,Ee,le}},fe.fileName)}))},r$d=function(A){var $=A.doc,H=n$d.useContext(e$d.LocalizationContext).l10n,O=n$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,R=H&&H.attachment?H.attachment.noAttachment:"There is no attachment",B=n$d.useState({files:[],isLoaded:!1}),Y=B[0],ve=B[1];return n$d.useEffect(function(){$.getAttachments().then(function(fe){var de=fe?Object.keys(fe).map(function(K){return{data:fe[K].content,fileName:fe[K].filename}}):[];ve({files:de,isLoaded:!0})})},[$]),Y.isLoaded?Y.files.length===0?n$d.createElement("div",{"data-testid":"attachment__empty",className:e$d.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":O})},R):n$d.createElement(a$d,{files:Y.files}):n$d.createElement(e$d.Spinner,null)},c$d=function(A){var $=A.store,H=n$d.useState($.get("doc")),O=H[0],R=H[1],B=function(Y){R(Y)};return n$d.useEffect(function(){return $.subscribe("doc",B),function(){$.unsubscribe("doc",B)}},[]),O?n$d.createElement(r$d,{doc:O}):n$d.createElement("div",{className:"rpv-attachment__loader"},n$d.createElement(e$d.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$d.useMemo(function(){return e$d.createStore({})},[]);return{onDocumentLoad:function($){A.update("doc",$.doc)},Attachments:function(){return n$d.createElement(c$d,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=attachment_min;var libExports$f=lib$e.exports,lib$d={exports:{}},bookmark_min={},e$c=libExports$h;function t$c(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$c,o$c=t$c(reactExports),n$c=function(){return n$c=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},n$c.apply(this,arguments)},a$c=function(){return o$c.createElement(e$c.Icon,{size:16},o$c.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$c=function(){return o$c.createElement(e$c.Icon,{size:16},o$c.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$c=function(A){var $=A.bookmark,H=A.depth,O=A.doc,R=A.index,B=A.isBookmarkExpanded,Y=A.numberOfSiblings,ve=A.pathFromRoot,fe=A.renderBookmarkItem,de=A.store,K=ve?"".concat(ve,".").concat(R):"".concat(R),Ee=o$c.useMemo(function(){return function(te){var _e=te.count,he=te.items;if(_e>=0)return!1;var Pe=he.length;if(Pe===0)return!1;for(var De=he.concat([]);De.length>0;){var be=De.shift(),$e=be.items;be.count&&$e&&be.count>0&&$e.length>0&&(Pe+=$e.length,De=De.concat($e))}return Math.abs(_e)===Pe}($)},[$]),le=de.get("bookmarkExpandedMap"),ne=B?B({bookmark:$,doc:O,depth:H,index:R}):le.has(K)?le.get(K):!Ee,re=o$c.useState(ne),Q=re[0],q=re[1],oe=$.items&&$.items.length>0,se=function(){var te=!Q;de.updateCurrentValue("bookmarkExpandedMap",function(_e){return _e.set(K,te)}),q(te)},ue=function(){var te=$.dest,_e=de.get("jumpToDestination");e$c.getDestination(O,te).then(function(he){_e&&_e(n$c({label:$.title},he))})},pe=function(){oe&&$.dest&&ue()},ee=function(){!oe&&$.dest&&ue()},ae=function(te,_e){return o$c.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*H,"rem")},onClick:te},_e)},Ae=function(te,_e){return oe?o$c.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(H,"-").concat(R),onClick:se},Q?te:_e):o$c.createElement("span",{className:"rpv-bookmark__toggle"})},ge=function(te){return $.url?o$c.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):o$c.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:te},$.title)};return o$c.createElement("li",{"aria-expanded":Q?"true":"false","aria-label":$.title,"aria-level":H+1,"aria-posinset":R+1,"aria-setsize":Y,role:"treeitem",tabIndex:-1},fe?fe({bookmark:$,depth:H,hasSubItems:oe,index:R,isExpanded:Q,path:K,defaultRenderItem:ae,defaultRenderTitle:ge,defaultRenderToggle:Ae,onClickItem:ee,onClickTitle:pe,onToggleSubItems:se}):ae(ee,o$c.createElement(o$c.Fragment,null,Ae(o$c.createElement(a$c,null),o$c.createElement(i$c,null)),ge(pe))),oe&&Q&&o$c.createElement(m$8,{bookmarks:$.items,depth:H+1,doc:O,isBookmarkExpanded:B,isRoot:!1,pathFromRoot:K,renderBookmarkItem:fe,store:de}))},m$8=function(A){var $=A.bookmarks,H=A.depth,O=H===void 0?0:H,R=A.doc,B=A.isBookmarkExpanded,Y=A.isRoot,ve=A.pathFromRoot,fe=A.renderBookmarkItem,de=A.store;return o$c.createElement("ul",{className:"rpv-bookmark__list",role:Y?"tree":"group",tabIndex:-1},$.map(function(K,Ee){return o$c.createElement(c$c,{bookmark:K,depth:O,doc:R,index:Ee,isBookmarkExpanded:B,key:Ee,numberOfSiblings:$.length,pathFromRoot:ve,renderBookmarkItem:fe,store:de})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(r$c||(r$c={}));var l$c=function(A){var $=A.bookmarks,H=A.doc,O=A.isBookmarkExpanded,R=A.renderBookmarkItem,B=A.store,Y=o$c.useRef(),ve=function(Ee){var le=Y.current;if(le&&Ee.target instanceof HTMLElement&&le.contains(Ee.target))switch(Ee.key){case"ArrowDown":Ee.preventDefault(),de(function(ne,re){return ne.indexOf(re)+1});break;case"ArrowLeft":Ee.preventDefault(),K(r$c.Collapse);break;case"ArrowRight":Ee.preventDefault(),K(r$c.Expand);break;case"ArrowUp":Ee.preventDefault,de(function(ne,re){return ne.indexOf(re)-1});break;case"End":Ee.preventDefault(),de(function(ne,re){return ne.length-1});break;case" ":case"Enter":case"Space":Ee.preventDefault(),fe();break;case"Home":Ee.preventDefault(),de(function(ne,re){return 0})}},fe=function(){var Ee=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");Ee&&Ee.click()},de=function(Ee){var le=Y.current,ne=[].slice.call(le.getElementsByClassName("rpv-bookmark__item"));if(ne.length!==0){var re=document.activeElement,Q=ne[Math.min(ne.length-1,Math.max(0,Ee(ne,re)))];re.setAttribute("tabindex","-1"),Q.setAttribute("tabindex","0"),Q.focus()}},K=function(Ee){var le=Y.current;if([].slice.call(le.getElementsByClassName("rpv-bookmark__item")).length!==0){var ne=document.activeElement.closest(".rpv-bookmark__item"),re=Ee===r$c.Collapse?"true":"false";if(ne&&ne.parentElement.getAttribute("aria-expanded")===re){var Q=ne.querySelector(".rpv-bookmark__toggle");Q&&Q.click()}}};return o$c.useEffect(function(){return document.addEventListener("keydown",ve),function(){document.removeEventListener("keydown",ve)}},[]),o$c.useEffect(function(){var Ee=Y.current;if(Ee){var le=[].slice.call(Ee.getElementsByClassName("rpv-bookmark__item"));le.length>0&&(le[0].focus(),le[0].setAttribute("tabindex","0"))}},[]),o$c.createElement("div",{ref:Y},o$c.createElement(m$8,{bookmarks:$,depth:0,doc:H,isBookmarkExpanded:O,isRoot:!0,pathFromRoot:"",renderBookmarkItem:R,store:B}))},s$8=function(A){var $=A.doc,H=A.isBookmarkExpanded,O=A.renderBookmarkItem,R=A.store,B=o$c.useContext(e$c.LocalizationContext).l10n,Y=o$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,ve=o$c.useState({isLoaded:!1,items:[]}),fe=ve[0],de=ve[1];return o$c.useEffect(function(){de({isLoaded:!1,items:[]}),$.getOutline().then(function(K){de({isLoaded:!0,items:K||[]})})},[$]),fe.isLoaded?fe.items.length===0?o$c.createElement("div",{"data-testid":"bookmark__empty",className:e$c.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":Y})},B&&B.bookmark?B.bookmark.noBookmark:"There is no bookmark"):o$c.createElement("div",{"data-testid":"bookmark__container",className:e$c.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":Y})},o$c.createElement(l$c,{bookmarks:fe.items,doc:$,isBookmarkExpanded:H,renderBookmarkItem:O,store:R})):o$c.createElement("div",{className:"rpv-bookmark__loader"},o$c.createElement(e$c.Spinner,null))},u$c=function(A){var $=A.isBookmarkExpanded,H=A.renderBookmarkItem,O=A.store,R=o$c.useState(O.get("doc")),B=R[0],Y=R[1],ve=function(fe){Y(fe)};return o$c.useEffect(function(){return O.subscribe("doc",ve),function(){O.unsubscribe("doc",ve)}},[]),B?o$c.createElement(s$8,{doc:B,isBookmarkExpanded:$,renderBookmarkItem:H,store:O}):o$c.createElement("div",{className:"rpv-bookmark__loader"},o$c.createElement(e$c.Spinner,null))};bookmark_min.DownArrowIcon=a$c,bookmark_min.RightArrowIcon=i$c,bookmark_min.bookmarkPlugin=function(){var A=o$c.useMemo(function(){return e$c.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){A.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){A.update("doc",$.doc)},Bookmarks:function($){return o$c.createElement(u$c,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=bookmark_min;var libExports$e=lib$d.exports,lib$c={exports:{}},thumbnail_min={};(function(A){var $=libExports$h;function H(Q){var q=Object.create(null);return Q&&Object.keys(Q).forEach(function(oe){if(oe!=="default"){var se=Object.getOwnPropertyDescriptor(Q,oe);Object.defineProperty(q,oe,se.get?se:{enumerable:!0,get:function(){return Q[oe]}})}}),q.default=Q,Object.freeze(q)}var O,R=H(reactExports);A.ThumbnailDirection=void 0,(O=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",O.Vertical="Vertical";var B=function(){return B=Object.assign||function(Q){for(var q,oe=1,se=arguments.length;oe<se;oe++)for(var ue in q=arguments[oe])Object.prototype.hasOwnProperty.call(q,ue)&&(Q[ue]=q[ue]);return Q},B.apply(this,arguments)},Y=function(Q){var q=Q.doc,oe=Q.getPageIndex,se=Q.renderSpinner,ue=Q.store,pe=Q.width,ee=q.numPages,ae=oe?oe({numPages:ee}):0,Ae=Math.max(0,Math.min(ae,ee-1)),ge=ue.get("pagesRotation")||new Map,te=ge.has(Ae)?ge.get(Ae):0,_e=R.useState(""),he=_e[0],Pe=_e[1],De=$.useIsMounted(),be=R.useRef(),$e=R.useState(ue.get("rotation")||0),Ve=$e[0],et=$e[1],Fe=R.useState(te),rt=Fe[0],ot=Fe[1],ft=R.useState(!1),St=ft[0],we=ft[1],W=function(ie){var ce=ie.has(Ae)?ie.get(Ae):0;ot(ce)},J=function(ie){et(ie)},G=$.useIntersectionObserver({onVisibilityChanged:function(ie){we(ie.isVisible)}});return R.useEffect(function(){if(St){var ie=G.current;ie&&(Pe(""),$.getPage(q,Ae).then(function(ce){var ye=ce.getViewport({scale:1}),Ce=(ye.rotation+Ve+rt)%360,Re=Math.abs(Ve+rt)%180==0,Ke=Re?ye.width:ye.height,qe=Re?ye.height:ye.width,nt=document.createElement("canvas"),ct=nt.getContext("2d",{alpha:!1}),bt=ie.clientWidth,dt=ie.clientHeight,pt=pe?pe/Ke:Math.min(bt/Ke,dt/qe),vt=pt*Ke,mt=pt*qe;nt.height=mt,nt.width=vt,nt.style.opacity="0";var Lt=ce.getViewport({rotation:Ce,scale:pt});be.current=ce.render({canvasContext:ct,viewport:Lt}),be.current.promise.then(function(){De.current&&Pe(nt.toDataURL()),nt.width=0,nt.height=0},function(){})}))}},[rt,St]),R.useEffect(function(){return ue.subscribe("pagesRotation",W),ue.subscribe("rotation",J),function(){ue.unsubscribe("pagesRotation",W),ue.unsubscribe("rotation",J)}},[]),R.useEffect(function(){return function(){var ie;(ie=be.current)===null||ie===void 0||ie.cancel()}},[]),R.createElement("div",{ref:G,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},he?R.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:he}):R.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},se?se():R.createElement($.Spinner,null)))},ve=function(Q){var q=Q.getPageIndex,oe=Q.renderSpinner,se=Q.store,ue=Q.width,pe=R.useState(se.get("doc")),ee=pe[0],ae=pe[1],Ae=function(ge){ae(ge)};return R.useEffect(function(){return se.subscribe("doc",Ae),function(){se.unsubscribe("doc",Ae)}},[]),R.createElement("div",{className:"rpv-thumbnail__cover"},ee?R.createElement(Y,{doc:ee,getPageIndex:q,renderSpinner:oe,store:se,width:ue}):R.createElement("div",{className:"rpv-thumbnail__cover-loader"},oe?oe():R.createElement($.Spinner,null)))},fe=function(){return R.createElement($.Spinner,null)},de=R.createContext({renderSpinner:fe}),K=function(Q){var q=Q.children,oe=Q.doc,se=$.useIsMounted(),ue=R.useState({loading:!0,labels:[]}),pe=ue[0],ee=ue[1];return R.useEffect(function(){oe.getPageLabels().then(function(ae){se.current&&ee({loading:!1,labels:ae||[]})})},[oe.loadingTask.docId]),pe.loading?R.createElement(R.Fragment,null):q(pe.labels)},Ee=function(Q){var q=Q.page,oe=Q.pageHeight,se=Q.pageIndex,ue=Q.pageWidth,pe=Q.rotation,ee=Q.thumbnailHeight,ae=Q.thumbnailWidth,Ae=Q.onRenderCompleted,ge=R.useContext($.LocalizationContext).l10n,te=R.useRef(),_e=R.useState(""),he=_e[0],Pe=_e[1],De=ge&&ge.thumbnail?ge.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return R.useEffect(function(){var be=te.current;be&&be.cancel();var $e=document.createElement("canvas"),Ve=$e.getContext("2d",{alpha:!1}),et=ae,Fe=et/(ue/oe),rt=et/ue;$e.height=Fe,$e.width=et,$e.style.height="".concat(Fe,"px"),$e.style.width="".concat(et,"px");var ot=q.getViewport({rotation:pe,scale:rt});return te.current=q.render({canvasContext:Ve,viewport:ot}),te.current.promise.then(function(){Pe($e.toDataURL()),Ae(se)},function(){Ae(se)}),function(){var ft;(ft=te.current)===null||ft===void 0||ft.cancel()}},[pe]),he?R.createElement("img",{"aria-label":De.replace("{{pageIndex}}","".concat(se+1)),src:he,height:"".concat(ee,"px"),width:"".concat(ae,"px")}):R.useContext(de).renderSpinner()},le=function(Q){var q=Q.doc,oe=Q.pageHeight,se=Q.pageIndex,ue=Q.pageRotation,pe=Q.pageWidth,ee=Q.rotation,ae=Q.shouldRender,Ae=Q.thumbnailWidth,ge=Q.onRenderCompleted,te=Q.onVisibilityChanged,_e=$.useIsMounted(),he=R.useState({height:oe,page:null,viewportRotation:0,width:pe}),Pe=he[0],De=he[1],be=Pe.page,$e=Pe.height,Ve=Pe.width,et=Ve/$e,Fe=Math.abs(ee+ue)%180==0,rt=Fe?Ae:Ae/et,ot=Fe?Ae/et:Ae;R.useEffect(function(){ae&&$.getPage(q,se).then(function(we){var W=we.getViewport({scale:1});_e.current&&De({height:W.height,page:we,viewportRotation:W.rotation,width:W.width})})},[ae]);var ft=(Pe.viewportRotation+ee+ue)%360,St=$.useIntersectionObserver({onVisibilityChanged:function(we){te(se,we)}});return R.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(se),ref:St,style:{height:"".concat(ot,"px"),width:"".concat(rt,"px")}},be?R.createElement(Ee,{page:be,pageHeight:Fe?$e:Ve,pageIndex:se,pageWidth:Fe?Ve:$e,rotation:ft,thumbnailHeight:ot,thumbnailWidth:rt,onRenderCompleted:ge}):R.useContext(de).renderSpinner())},ne=function(Q){var q=Q.currentPage,oe=Q.doc,se=Q.labels,ue=Q.pagesRotation,pe=Q.pageHeight,ee=Q.pageWidth,ae=Q.renderCurrentPageLabel,Ae=Q.renderThumbnailItem,ge=Q.rotatedPage,te=Q.rotation,_e=Q.thumbnailDirection,he=Q.thumbnailWidth,Pe=Q.viewMode,De=Q.onJumpToPage,be=Q.onRotatePage,$e=oe.numPages,Ve=oe.loadingTask.docId,et=R.useRef(null),Fe=R.useRef([]),rt=R.useState(q),ot=rt[0],ft=rt[1],St=R.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,we=R.useState(-1),W=we[0],J=we[1],G=$.useIsMounted(),ie=$.usePrevious(Pe),ce=R.useRef(!1),ye=$.useRenderQueue({doc:oe}),Ce=R.useMemo(function(){return Array($e).fill(0).map(function(pt,vt){return vt})},[Ve]),Re=R.useMemo(function(){switch(Pe){case $.ViewMode.DualPage:return $.chunk(Ce,2);case $.ViewMode.DualPageWithCover:return[[Ce[0]]].concat($.chunk(Ce.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(Ce,1)}},[Ve,Pe]),Ke=function(){if(et.current){var pt=Fe.current,vt=ot+1;vt<pt.length&&(ot>=0&&pt[ot].setAttribute("tabindex","-1"),ft(vt))}},qe=function(){if(et.current){var pt=Fe.current,vt=ot-1;vt>=0&&(ot>=0&&pt[ot].setAttribute("tabindex","-1"),ft(vt))}},nt=function(){ot>=0&&ot<$e&&De(ot)};$.useIsomorphicLayoutEffect(function(){var pt=et.current;pt&&(Fe.current=Array.from(pt.querySelectorAll(".rpv-thumbnail__item")))},[Pe]),R.useEffect(function(){var pt=Fe.current;if(!(pt.length===0||ot<0||ot>pt.length)){var vt=pt[ot];vt.setAttribute("tabindex","0"),vt.focus()}},[ot]),$.useIsomorphicLayoutEffect(function(){var pt=et.current,vt=Fe.current;if(!(!pt||vt.length===0||q<0||q>vt.length)){var mt=vt[q].closest(".rpv-thumbnail__items");mt&&(_e===A.ThumbnailDirection.Vertical?function(Lt,st){var Ue=Lt.getBoundingClientRect().top-st.getBoundingClientRect().top,Ge=Lt.clientHeight,lt=st.clientHeight;Ue<0?st.scrollTop+=Ue:Ue+Ge<=lt||(st.scrollTop+=Ue+Ge-lt)}(mt,pt):function(Lt,st){var Ue=Lt.getBoundingClientRect().left-st.getBoundingClientRect().left,Ge=Lt.clientWidth,lt=st.clientWidth;Ue<0?st.scrollLeft+=Ue:Ue+Ge<=lt||(st.scrollLeft+=Ue+Ge-lt)}(mt,pt))}},[q,_e]);var ct=R.useCallback(function(pt){G.current&&(ye.markRendered(pt),ce.current=!1,dt())},[Ve]),bt=R.useCallback(function(pt,vt){vt.isVisible?ye.setVisibility(pt,vt.ratio):ye.setOutOfRange(pt),dt()},[Ve]),dt=R.useCallback(function(){if(!ce.current){var pt=ye.getHighestPriorityPage();pt>-1&&(ye.markRendering(pt),ce.current=!0,J(pt))}},[Ve]);return R.useEffect(function(){ge>=0&&(ye.markRendering(ge),ce.current=!0,J(ge))},[Ve,ge]),$.useIsomorphicLayoutEffect(function(){ie!==Pe&&(ye.markNotRendered(),dt())},[Pe]),R.createElement("div",{ref:et,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":_e===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":St,"rpv-thumbnail__list--vertical":_e===A.ThumbnailDirection.Vertical}),onKeyDown:function(pt){switch(pt.key){case"ArrowDown":Ke();break;case"ArrowUp":qe();break;case"Enter":nt()}}},Re.map(function(pt,vt){var mt=!1;switch(Pe){case $.ViewMode.DualPage:mt=q===2*vt||q===2*vt+1;break;case $.ViewMode.DualPageWithCover:mt=q===0&&vt===0||vt>0&&q===2*vt-1||vt>0&&q===2*vt;break;case $.ViewMode.SinglePage:default:mt=q===vt}return R.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":Pe===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":Pe===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":Pe===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":mt}),key:"".concat(vt,"___").concat(Pe)},pt.map(function(Lt){return function(st){var Ue=Pe===$.ViewMode.DualPageWithCover&&(st===0||$e%2==0&&st===$e-1),Ge="".concat(oe.loadingTask.docId,"___").concat(st),lt=se.length===$e?se[st]:"".concat(st+1),Ct=ae?ae({currentPage:q,pageIndex:st,numPages:$e,pageLabel:lt}):lt,Pt=ue.has(st)?ue.get(st):0,Vt=R.createElement(le,{doc:oe,pageHeight:pe,pageIndex:st,pageRotation:Pt,pageWidth:ee,rotation:te,shouldRender:W===st,thumbnailWidth:he,onRenderCompleted:ct,onVisibilityChanged:bt});return Ae?Ae({currentPage:q,key:Ge,numPages:$e,pageIndex:st,renderPageLabel:R.createElement(R.Fragment,null,Ct),renderPageThumbnail:Vt,onJumpToPage:function(){return De(st)},onRotatePage:function(Jt){return be(st,Jt)}}):R.createElement("div",{key:Ge},R.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":Pe===$.ViewMode.DualPage&&st%2==0,"rpv-thumbnail__item--dual-odd":Pe===$.ViewMode.DualPage&&st%2==1,"rpv-thumbnail__item--dual-cover":Ue,"rpv-thumbnail__item--dual-cover-even":Pe===$.ViewMode.DualPageWithCover&&!Ue&&st%2==0,"rpv-thumbnail__item--dual-cover-odd":Pe===$.ViewMode.DualPageWithCover&&!Ue&&st%2==1,"rpv-thumbnail__item--single":Pe===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":q===st}),role:"button",tabIndex:q===st?0:-1,onClick:function(){return De(st)}},Vt),R.createElement("div",{"data-testid":"thumbnail__label-".concat(st),className:"rpv-thumbnail__label"},Ct))}(Lt)}))}))},re=function(Q){var q=Q.renderCurrentPageLabel,oe=Q.renderThumbnailItem,se=Q.store,ue=Q.thumbnailDirection,pe=Q.thumbnailWidth,ee=R.useState(se.get("doc")),ae=ee[0],Ae=ee[1],ge=R.useState(se.get("currentPage")||0),te=ge[0],_e=ge[1],he=R.useState(se.get("pageHeight")||0),Pe=he[0],De=he[1],be=R.useState(se.get("pageWidth")||0),$e=be[0],Ve=be[1],et=R.useState(se.get("rotation")||0),Fe=et[0],rt=et[1],ot=R.useState(se.get("pagesRotation")||new Map),ft=ot[0],St=ot[1],we=R.useState(se.get("rotatedPage")||-1),W=we[0],J=we[1],G=R.useState(se.get("viewMode")),ie=G[0],ce=G[1],ye=function(vt){_e(vt)},Ce=function(vt){Ae(vt)},Re=function(vt){De(vt)},Ke=function(vt){Ve(vt)},qe=function(vt){rt(vt)},nt=function(vt){St(vt)},ct=function(vt){J(vt)},bt=function(vt){ce(vt)},dt=function(vt){var mt=se.get("jumpToPage");mt&&mt(vt)},pt=function(vt,mt){se.get("rotatePage")(vt,mt)};return R.useEffect(function(){return se.subscribe("doc",Ce),se.subscribe("pageHeight",Re),se.subscribe("pageWidth",Ke),se.subscribe("rotatedPage",ct),se.subscribe("rotation",qe),se.subscribe("pagesRotation",nt),se.subscribe("viewMode",bt),function(){se.unsubscribe("doc",Ce),se.unsubscribe("pageHeight",Re),se.unsubscribe("pageWidth",Ke),se.unsubscribe("rotatedPage",ct),se.unsubscribe("rotation",qe),se.unsubscribe("pagesRotation",nt),se.unsubscribe("viewMode",bt)}},[]),$.useIsomorphicLayoutEffect(function(){return se.subscribe("currentPage",ye),function(){se.unsubscribe("currentPage",ye)}},[]),ae?R.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},R.createElement(K,{doc:ae},function(vt){return R.createElement(ne,{currentPage:te,doc:ae,labels:vt,pagesRotation:ft,pageHeight:Pe,pageWidth:$e,renderCurrentPageLabel:q,renderThumbnailItem:oe,rotatedPage:W,rotation:Fe,thumbnailDirection:ue,thumbnailWidth:pe,viewMode:ie,onJumpToPage:dt,onRotatePage:pt})})):R.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},R.useContext(de).renderSpinner())};A.thumbnailPlugin=function(Q){var q=R.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),oe=R.useState(""),se=oe[0],ue=oe[1];return{install:function(pe){q.update("jumpToPage",pe.jumpToPage),q.update("rotatePage",pe.rotatePage)},onDocumentLoad:function(pe){ue(pe.doc.loadingTask.docId),q.update("doc",pe.doc)},onViewerStateChange:function(pe){return q.update("currentPage",pe.pageIndex),q.update("pagesRotation",pe.pagesRotation),q.update("pageHeight",pe.pageHeight),q.update("pageWidth",pe.pageWidth),q.update("rotation",pe.rotation),q.update("rotatedPage",pe.rotatedPage),q.update("viewMode",pe.viewMode),pe},Cover:function(pe){return R.createElement(ve,B({},pe,{renderSpinner:Q==null?void 0:Q.renderSpinner,store:q}))},Thumbnails:R.useCallback(function(pe){return R.createElement(de.Provider,{value:{renderSpinner:(Q==null?void 0:Q.renderSpinner)||fe}},R.createElement(re,{renderCurrentPageLabel:Q==null?void 0:Q.renderCurrentPageLabel,renderThumbnailItem:pe==null?void 0:pe.renderThumbnailItem,store:q,thumbnailDirection:(pe==null?void 0:pe.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(Q==null?void 0:Q.thumbnailWidth)||100}))},[se])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=thumbnail_min;var libExports$d=lib$c.exports,lib$b={exports:{}},toolbar_min={},lib$a={exports:{}},selectionMode_min={};(function(A){var $=libExports$h;function H(re){var Q=Object.create(null);return re&&Object.keys(re).forEach(function(q){if(q!=="default"){var oe=Object.getOwnPropertyDescriptor(re,q);Object.defineProperty(Q,q,oe.get?oe:{enumerable:!0,get:function(){return re[q]}})}}),Q.default=re,Object.freeze(Q)}var O,R=H(reactExports),B=function(){return R.createElement($.Icon,{size:16},R.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},Y=function(){return Y=Object.assign||function(re){for(var Q,q=1,oe=arguments.length;q<oe;q++)for(var se in Q=arguments[q])Object.prototype.hasOwnProperty.call(Q,se)&&(re[se]=Q[se]);return re},Y.apply(this,arguments)};A.SelectionMode=void 0,(O=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",O.Text="Text";var ve=function(){return R.createElement($.Icon,{size:16},R.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},fe=function(re){var Q=re.children,q=re.mode,oe=re.onClick,se=R.useContext($.LocalizationContext).l10n,ue="",pe=R.createElement(ve,null);switch(q){case A.SelectionMode.Hand:ue=se&&se.selectionMode?se.selectionMode.handTool:"Hand tool",pe=R.createElement(B,null);break;case A.SelectionMode.Text:default:ue=se&&se.selectionMode?se.selectionMode.textSelectionTool:"Text selection tool",pe=R.createElement(ve,null)}return Q({icon:pe,label:ue,onClick:oe})},de={left:0,top:8},K=function(re){var Q=re.isSelected,q=re.mode,oe=re.onClick,se="";switch(q){case A.SelectionMode.Hand:se="selection-mode__hand-button";break;case A.SelectionMode.Text:default:se="selection-mode__text-button"}return R.createElement(fe,{mode:q,onClick:oe},function(ue){return R.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:R.createElement($.MinimalButton,{ariaLabel:ue.label,isSelected:Q,testId:se,onClick:ue.onClick},ue.icon),content:function(){return ue.label},offset:de})})},Ee=function(re){var Q=re.children,q=re.mode,oe=re.store,se=q===oe.get("selectionMode");return(Q||function(ue){return R.createElement(K,{isSelected:se,mode:ue.mode,onClick:ue.onClick})})({isSelected:se,mode:q,onClick:function(){return oe.update("selectionMode",q)}})},le=function(re){var Q=re.isSelected,q=re.mode,oe=re.onClick,se="";switch(q){case A.SelectionMode.Hand:se="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:se="selection-mode__text-menu"}return R.createElement(fe,{mode:q,onClick:oe},function(ue){return R.createElement($.MenuItem,{checked:Q,icon:ue.icon,testId:se,onClick:ue.onClick},ue.label)})},ne=function(re){var Q=re.store,q=R.useRef(null),oe=R.useState(A.SelectionMode.Text),se=oe[0],ue=oe[1],pe=R.useRef({top:0,left:0,x:0,y:0}),ee=function(_e){var he=q.current;he&&(he.scrollTop=pe.current.top-(_e.clientY-pe.current.y),he.scrollLeft=pe.current.left-(_e.clientX-pe.current.x))},ae=function(){var _e=q.current;_e&&(_e.classList.add("rpv-selection-mode__grab"),_e.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",ee),document.removeEventListener("mouseup",ae))},Ae=function(_e){var he=q.current;he&&se!==A.SelectionMode.Text&&(he.classList.remove("rpv-selection-mode__grab"),he.classList.add("rpv-selection-mode__grabbing"),_e.preventDefault(),_e.stopPropagation(),pe.current={left:he.scrollLeft,top:he.scrollTop,x:_e.clientX,y:_e.clientY},document.addEventListener("mousemove",ee),document.addEventListener("mouseup",ae))},ge=function(_e){q.current=_e()},te=function(_e){ue(_e)};return R.useEffect(function(){var _e=q.current;if(_e)return se===A.SelectionMode.Hand?_e.classList.add("rpv-selection-mode__grab"):_e.classList.remove("rpv-selection-mode__grab"),_e.addEventListener("mousedown",Ae),function(){_e.removeEventListener("mousedown",Ae)}},[se]),R.useEffect(function(){return Q.subscribe("getPagesContainer",ge),Q.subscribe("selectionMode",te),function(){Q.unsubscribe("getPagesContainer",ge),Q.unsubscribe("selectionMode",te)}},[]),R.createElement(R.Fragment,null)};A.HandToolIcon=B,A.TextSelectionIcon=ve,A.selectionModePlugin=function(re){var Q=R.useMemo(function(){return $.createStore()},[]),q=function(oe){return R.createElement(Ee,Y({},oe,{store:Q}))};return{install:function(oe){Q.update("selectionMode",re&&re.selectionMode?re.selectionMode:A.SelectionMode.Text),Q.update("getPagesContainer",oe.getPagesContainer)},renderViewer:function(oe){var se=oe.slot;return se.subSlot&&se.subSlot.children&&(se.subSlot.children=R.createElement(R.Fragment,null,R.createElement(ne,{store:Q}),se.subSlot.children)),se},SwitchSelectionMode:q,SwitchSelectionModeButton:function(oe){return R.createElement(q,{mode:oe.mode},function(se){return R.createElement(K,{isSelected:se.isSelected,mode:se.mode,onClick:function(){se.onClick()}})})},SwitchSelectionModeMenuItem:function(oe){return R.createElement(q,{mode:oe.mode},function(se){return R.createElement(le,{isSelected:se.isSelected,mode:se.mode,onClick:function(){se.onClick(),oe.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=selectionMode_min;var libExports$c=lib$a.exports,lib$9={exports:{}},fullScreen_min={},e$b=libExports$h;function t$b(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$b=t$b(reactExports),r$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$b.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$b.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$b.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$b.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M0.5 12L23.5 12"}),n$b.createElement("path",{d:"M11.5 1L11.5 23"}),n$b.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$b.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$b.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$b.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$b=function(){return c$b=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$b.apply(this,arguments)},u$b={left:0,top:8},o$b=function(A){var $=A.enableShortcuts,H=A.onClick,O=n$b.useContext(e$b.LocalizationContext).l10n,R=O&&O.fullScreen?O.fullScreen.enterFullScreen:"Full screen",B=$?e$b.isMac()?"Meta+Ctrl+F":"F11":"";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,isDisabled:!e$b.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:H},n$b.createElement(l$b,null)),content:function(){return R},offset:u$b})},i$b={left:0,top:8},a$b=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,O=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:O,testId:"full-screen__exit-button-with-tooltip",onClick:$},n$b.createElement(r$b,null)),content:function(){return O},offset:i$b})},f$8=function(A,$){var H=n$b.useState($.get("fullScreenMode")),O=H[0],R=H[1],B=n$b.useCallback(function(Y){R(Y)},[]);return n$b.useEffect(function(){return $.subscribe("fullScreenMode",B),function(){$.unsubscribe("fullScreenMode",B)}},[]),{enterFullScreen:function(){var Y=$.get("getPagesContainer");if(Y){var ve=A(Y());$.get("enterFullScreenMode")(ve)}},exitFullScreen:function(){$.get("exitFullScreenMode")()},isFullScreen:O===e$b.FullScreenMode.Entering||O===e$b.FullScreenMode.EnteredCompletely}},s$7=function(A){var $=A.children,H=A.enableShortcuts,O=A.getFullScreenTarget,R=A.store,B=f$8(O,R),Y=B.enterFullScreen,ve=B.exitFullScreen,fe=B.isFullScreen;return($||function(de){return fe?n$b.createElement(a$b,{onClick:de.onClick}):n$b.createElement(o$b,{enableShortcuts:H,onClick:de.onClick})})({onClick:fe?ve:Y})},S$3=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,O=H&&H.fullScreen?H.fullScreen.enterFullScreen:"Full screen";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(l$b,null),isDisabled:!e$b.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:$},O)},d$8=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,O=n$b.useContext(e$b.ThemeContext).direction===e$b.TextDirection.RightToLeft,R=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$b.createElement("div",{className:e$b.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!O,"rpv-full-screen__exit-button--rtl":O})},n$b.createElement(e$b.MinimalButton,{ariaLabel:R,testId:"full-screen__exit-button",onClick:$},n$b.createElement(r$b,null)))},m$7=function(A){var $=A.children,H=A.getFullScreenTarget,O=A.store,R=f$8(H,O),B=R.enterFullScreen,Y=R.exitFullScreen,ve=R.isFullScreen;return ve&&($||function(fe){return n$b.createElement(d$8,{onClick:fe.onClick})})({onClick:ve?Y:B})},E$4=function(A){var $=A.store,H=A.onEnterFullScreen,O=A.onExitFullScreen,R=n$b.useState($.get("fullScreenMode")),B=R[0],Y=R[1],ve=n$b.useCallback(function(fe){Y(fe)},[]);return n$b.useEffect(function(){switch(B){case e$b.FullScreenMode.EnteredCompletely:H($.get("zoom"));break;case e$b.FullScreenMode.Exited:O($.get("zoom"))}},[B]),n$b.useEffect(function(){return $.subscribe("fullScreenMode",ve),function(){$.unsubscribe("fullScreenMode",ve)}},[]),(B===e$b.FullScreenMode.Entering||B===e$b.FullScreenMode.Entered)&&n$b.createElement("div",{className:"rpv-full-screen__overlay"},n$b.createElement(e$b.Spinner,null))},F=function(A){var $=A.containerRef,H=A.getFullScreenTarget,O=A.store,R=f$8(H,O).enterFullScreen,B=function(Y){if(!Y.shiftKey&&!Y.altKey&&(e$b.isMac()?Y.metaKey&&Y.ctrlKey&&Y.key==="f":Y.key==="F11")){var ve=$.current;ve&&document.activeElement&&ve.contains(document.activeElement)&&(Y.preventDefault(),R())}};return n$b.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$b.createElement(n$b.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$b,fullScreen_min.FullScreenIcon=l$b,fullScreen_min.fullScreenPlugin=function(A){var $=(A==null?void 0:A.getFullScreenTarget)||function(Y){return Y},H=n$b.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),O=n$b.useMemo(function(){return e$b.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$b.FullScreenMode.Normal,zoom:function(){}})},[]),R=function(Y){return n$b.createElement(s$7,c$b({},Y,{enableShortcuts:H.enableShortcuts,getFullScreenTarget:$,store:O}))},B=function(){return n$b.createElement(m$7,{getFullScreenTarget:$,store:O},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(Y){O.update("enterFullScreenMode",Y.enterFullScreenMode),O.update("exitFullScreenMode",Y.exitFullScreenMode),O.update("getPagesContainer",Y.getPagesContainer),O.update("zoom",Y.zoom)},onViewerStateChange:function(Y){return O.update("fullScreenMode",Y.fullScreenMode),Y},renderViewer:function(Y){var ve=Y.slot;return ve.subSlot&&(ve.subSlot.children=n$b.createElement(n$b.Fragment,null,H.enableShortcuts&&n$b.createElement(F,{containerRef:Y.containerRef,getFullScreenTarget:$,store:O}),n$b.createElement(E$4,{store:O,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen}),n$b.createElement(B,null),ve.subSlot.children)),ve},EnterFullScreen:R,EnterFullScreenButton:function(){return n$b.createElement(R,null,function(Y){return n$b.createElement(o$b,c$b({enableShortcuts:H.enableShortcuts},Y))})},EnterFullScreenMenuItem:function(Y){return n$b.createElement(R,null,function(ve){return n$b.createElement(S$3,{onClick:function(){ve.onClick(),Y.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=fullScreen_min;var libExports$b=lib$9.exports,lib$8={exports:{}},getFile_min={},e$a=libExports$h;function t$a(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$a=t$a(reactExports),o$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$a=function(){return r$a=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},r$a.apply(this,arguments)},i$a={left:0,top:8},a$a=function(A){var $=A.onClick,H=n$a.useContext(e$a.LocalizationContext).l10n,O=H&&H.download?H.download.download:"Download";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"get-file",position:e$a.Position.BottomCenter,target:n$a.createElement(e$a.MinimalButton,{ariaLabel:O,testId:"get-file__download-button",onClick:$},n$a.createElement(o$a,null)),content:function(){return O},offset:i$a})},c$a=function(A,$){var H=document.createElement("a");H.style.display="none",H.href=A,H.setAttribute("download",$),document.body.appendChild(H),H.click(),document.body.removeChild(H)},l$a=function(A,$,H){var O=URL.createObjectURL(new Blob([A],{type:H}));c$a(O,$),O&&URL.revokeObjectURL(O)},u$a=function(A,$){A.getData().then(function(H){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$a(H,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$a("data:application/pdf;base64,".concat(function(O){return btoa(Array(O.length).fill("").map(function(R,B){return String.fromCharCode(O[B])}).join(""))}(H)),$):l$a(H,$,"application/pdf")})},f$7=function(A){var $=A.children,H=A.fileNameGenerator,O=A.store,R=n$a.useState(O.get("file")),B=R[0],Y=R[1],ve=n$a.useState(O.get("doc")),fe=ve[0],de=ve[1],K=function(le){de(le)},Ee=function(le){Y(le)};return n$a.useEffect(function(){return O.subscribe("doc",K),O.subscribe("file",Ee),function(){O.subscribe("doc",K),O.unsubscribe("file",Ee)}},[]),($||function(le){return n$a.createElement(a$a,{onClick:le.onClick})})({onClick:function(){fe&&B&&u$a(fe,H(B))}})},d$7=function(A){var $=A.onClick,H=n$a.useContext(e$a.LocalizationContext).l10n,O=H&&H.download?H.download.download:"Download";return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(o$a,null),testId:"get-file__download-menu",onClick:$},O)};getFile_min.DownloadIcon=o$a,getFile_min.getFilePlugin=function(A){var $=n$a.useMemo(function(){return e$a.createStore({})},[]),H=function(R){return R.name?(B=R.name,(Y=B.split("/").pop())?Y.split("#")[0].split("?")[0]:B):"document.pdf";var B,Y},O=function(R){return n$a.createElement(f$7,r$a({},R,{fileNameGenerator:A&&A.fileNameGenerator||H,store:$}))};return{onDocumentLoad:function(R){$.update("doc",R.doc),$.update("file",R.file)},Download:O,DownloadButton:function(){return n$a.createElement(O,null,function(R){return n$a.createElement(a$a,r$a({},R))})},DownloadMenuItem:function(R){return n$a.createElement(O,null,function(B){return n$a.createElement(d$7,{onClick:function(){B.onClick(),R.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=getFile_min;var libExports$a=lib$8.exports,lib$7={exports:{}},open_min={},e$9=libExports$h;function t$9(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$9=t$9(reactExports),r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$9.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$9=function(){return o$9=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$9.apply(this,arguments)},i$9=function(A){var $=n$9.useRef(),H=function(){var R=$.current;R&&(R.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},O=function(R){R&&H()};return n$9.useEffect(function(){return A.subscribe("triggerOpenFile",O),function(){A.unsubscribe("triggerOpenFile",O)}},[]),{inputRef:$,openFile:H}},c$9={left:0,top:8},u$9=function(A){var $=A.enableShortcuts,H=A.store,O=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,B=R&&R.open?R.open.openFile:"Open file",Y=i$9(H),ve=Y.inputRef,fe=Y.openFile,de=$?e$9.isMac()?"Meta+O":"Ctrl+O":"";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"open",position:e$9.Position.BottomCenter,target:n$9.createElement("div",{className:"rpv-open__input-wrapper"},n$9.createElement("input",{accept:".pdf",ref:ve,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:O}),n$9.createElement(e$9.MinimalButton,{ariaKeyShortcuts:de,ariaLabel:B,testId:"open__button",onClick:fe},n$9.createElement(r$9,null))),content:function(){return B},offset:c$9})},a$9=function(A){var $=A.children,H=A.enableShortcuts,O=A.store;return($||function(R){return n$9.createElement(u$9,{enableShortcuts:H,store:O,onClick:R.onClick})})({onClick:function(R){var B=R.target.files;if(B&&B.length){var Y=O.get("openFile");Y&&Y(B[0])}}})},l$9=function(A){var $=A.store,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.open?O.open.openFile:"Open file",B=i$9($),Y=B.inputRef,ve=B.openFile;return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),testId:"open__menu",onClick:ve},n$9.createElement("div",{className:"rpv-open__input-wrapper"},n$9.createElement("input",{accept:".pdf",ref:Y,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:H}),R))},p$6=function(A){var $=A.containerRef,H=A.store,O=function(R){if(!R.shiftKey&&!R.altKey&&R.key==="o"&&(e$9.isMac()?R.metaKey:R.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(R.preventDefault(),H.update("triggerOpenFile",!0))}};return n$9.useEffect(function(){if($.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[$.current]),n$9.createElement(n$9.Fragment,null)};open_min.OpenFileIcon=r$9,open_min.openPlugin=function(A){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$9.useMemo(function(){return e$9.createStore({})},[]),O=function(R){return n$9.createElement(a$9,o$9({enableShortcuts:$.enableShortcuts},R,{store:H}))};return{install:function(R){H.update("openFile",R.openFile)},renderViewer:function(R){var B=R.slot,Y={children:n$9.createElement(n$9.Fragment,null,$.enableShortcuts&&n$9.createElement(p$6,{containerRef:R.containerRef,store:H}),B.children)};return o$9(o$9({},B),Y)},Open:O,OpenButton:function(){return n$9.createElement(O,null)},OpenMenuItem:function(){return n$9.createElement(O,null,function(R){return n$9.createElement(l$9,{store:H,onClick:R.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=open_min;var libExports$9=lib$7.exports,lib$6={exports:{}},pageNavigation_min={},e$8=libExports$h;function t$8(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$8=t$8(reactExports),a$8=function(){return n$8.createElement(e$8.Icon,{size:16},n$8.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$8=function(){return n$8.createElement(e$8.Icon,{size:16},n$8.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$8=function(){return o$8=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$8.apply(this,arguments)},i$8=function(A){var $=n$8.useState(A.get("currentPage")||0),H=$[0],O=$[1],R=function(B){O(B)};return e$8.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",R),function(){A.unsubscribe("currentPage",R)}},[]),{currentPage:H}},u$8=function(A){var $=n$8.useState(A.get("numberOfPages")||0),H=$[0],O=$[1],R=function(B){O(B)};return n$8.useEffect(function(){return A.subscribe("numberOfPages",R),function(){A.unsubscribe("numberOfPages",R)}},[]),{numberOfPages:H}},c$8=function(A){var $=A.store,H=n$8.useContext(e$8.LocalizationContext).l10n,O=n$8.useState("1"),R=O[0],B=O[1],Y=i$8($).currentPage,ve=u$8($).numberOfPages;n$8.useEffect(function(){return B("".concat(Y+1))},[Y]);var fe=function(K){var Ee=$.get("jumpToPage");Ee&&Ee(K)},de=H&&H.pageNavigation?H.pageNavigation.enterPageNumber:"Enter a page number";return n$8.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$8.createElement(e$8.TextBox,{ariaLabel:de,testId:"page-navigation__current-page-input",type:"text",value:R,onChange:B,onKeyDown:function(K){switch(K.key){case"ArrowUp":(ne=Y-1)>=0&&(B("".concat(ne+1)),fe(ne));break;case"ArrowDown":(le=Y+1)<ve&&(B("".concat(le+1)),fe(le));break;case"Enter":Ee=parseInt(R,10),R===""||Ee<1||Ee>ve?B("".concat(Y+1)):fe(Ee-1)}var Ee,le,ne}}))},l$8=function(A){var $=A.children,H=A.doc,O=e$8.useIsMounted(),R=n$8.useState({loading:!0,labels:[]}),B=R[0],Y=R[1];return n$8.useEffect(function(){H.getPageLabels().then(function(ve){O.current&&Y({loading:!1,labels:ve||[]})})},[H.loadingTask.docId]),B.loading?n$8.createElement(n$8.Fragment,null):$(B.labels)},s$6=function(A){var $=A.children,H=A.store,O=function(ve){var fe=n$8.useState(ve.get("doc")),de=fe[0],K=fe[1],Ee=function(le){K(le)};return n$8.useEffect(function(){return ve.subscribe("doc",Ee),function(){ve.unsubscribe("doc",Ee)}},[]),de}(H),R=i$8(H).currentPage,B=u$8(H).numberOfPages,Y=$||function(ve){return n$8.createElement(n$8.Fragment,null,ve.currentPage+1)};return O?n$8.createElement(l$8,{doc:O},function(ve){var fe=ve.length===B&&B>0?ve[R]:"";return Y({currentPage:R,numberOfPages:B,pageLabel:fe})}):n$8.createElement(n$8.Fragment,null)},g$4=function(){return n$8.createElement(e$8.Icon,{size:16},n$8.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$6={left:0,top:8},m$6=function(A){var $=A.isDisabled,H=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToFirstPage:"First page";return n$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$8.Position.BottomCenter,target:n$8.createElement(e$8.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__first-button",onClick:H},n$8.createElement(g$4,null)),content:function(){return R},offset:f$6})},p$5=function(A){var $=A.children,H=A.store;return($||function(O){return n$8.createElement(m$6,{isDisabled:O.isDisabled,onClick:O.onClick})})({isDisabled:i$8(H).currentPage===0,onClick:function(){var O=H.get("jumpToPage");O&&O(0)}})},v$4=function(A){var $=A.isDisabled,H=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToFirstPage:"First page";return n$8.createElement(e$8.MenuItem,{icon:n$8.createElement(g$4,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:H},R)},d$6={left:0,top:8},P$2=function(A){var $=A.isDisabled,H=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToLastPage:"Last page";return n$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$8.Position.BottomCenter,target:n$8.createElement(e$8.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__last-button",onClick:H},n$8.createElement(a$8,null)),content:function(){return R},offset:d$6})},b$3=function(A){var $=A.children,H=A.store,O=i$8(H).currentPage,R=u$8(H).numberOfPages;return($||function(B){return n$8.createElement(P$2,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:O+1>=R,onClick:function(){var B=H.get("jumpToPage");B&&B(R-1)}})},E$3=function(A){var $=A.isDisabled,H=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToLastPage:"Last page";return n$8.createElement(e$8.MenuItem,{icon:n$8.createElement(a$8,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:H},R)},C$2={left:0,top:8},D=function(A){var $=A.isDisabled,H=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToNextPage:"Next page";return n$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$8.Position.BottomCenter,target:n$8.createElement(e$8.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__next-button",onClick:H},n$8.createElement(r$8,null)),content:function(){return R},offset:C$2})},k$2=function(A){var $=A.children,H=A.store;return($||function(O){return n$8.createElement(D,{onClick:O.onClick,isDisabled:O.isDisabled})})({isDisabled:i$8(H).currentPage+1>=u$8(H).numberOfPages,onClick:function(){var O=H.get("jumpToNextPage");O&&O()}})},T=function(A){var $=A.isDisabled,H=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToNextPage:"Next page";return n$8.createElement(e$8.MenuItem,{icon:n$8.createElement(r$8,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:H},R)},x$1=function(){return n$8.createElement(e$8.Icon,{size:16},n$8.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(A){var $=A.isDisabled,H=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToPreviousPage:"Previous page";return n$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$8.Position.BottomCenter,target:n$8.createElement(e$8.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__previous-button",onClick:H},n$8.createElement(x$1,null)),content:function(){return R},offset:L})},j=function(A){var $=A.store;return(A.children||function(H){return n$8.createElement(N,{isDisabled:H.isDisabled,onClick:H.onClick})})({isDisabled:i$8($).currentPage<=0,onClick:function(){var H=$.get("jumpToPreviousPage");H&&H()}})},I$1=function(A){var $=A.isDisabled,H=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToPreviousPage:"Previous page";return n$8.createElement(e$8.MenuItem,{icon:n$8.createElement(x$1,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:H},R)},h$4=function(A){var $=A.children,H=A.store,O=u$8(H).numberOfPages;return $?$({numberOfPages:O}):n$8.createElement(n$8.Fragment,null,O)},y$1=function(A){var $=A.containerRef,H=A.numPages,O=A.store,R=i$8(O).currentPage,B=n$8.useRef(R);B.current=R;var Y=n$8.useRef(!1),ve=function(){Y.current=!0},fe=function(){Y.current=!1},de=function(K){var Ee=$.current,le=Y.current||document.activeElement&&Ee.contains(document.activeElement);if(Ee&&le){var ne,re,Q=K.altKey&&K.key==="ArrowDown"||!K.shiftKey&&!K.altKey&&K.key==="PageDown",q=K.altKey&&K.key==="ArrowUp"||!K.shiftKey&&!K.altKey&&K.key==="PageUp";if(Q)return K.preventDefault(),ne=O.get("jumpToPage"),re=B.current+1,void(ne&&re<H&&ne(re));if(q)return K.preventDefault(),void function(){var oe=O.get("jumpToPage"),se=B.current-1;oe&&se>=0&&oe(se)}();if(e$8.isMac()?K.metaKey&&!K.ctrlKey:K.altKey)switch(K.key){case"ArrowLeft":K.preventDefault(),function(){var oe=O.get("jumpToPreviousDestination");oe&&oe()}();break;case"ArrowRight":K.preventDefault(),function(){var oe=O.get("jumpToNextDestination");oe&&oe()}()}}};return n$8.useEffect(function(){var K=$.current;if(K)return document.addEventListener("keydown",de),K.addEventListener("mouseenter",ve),K.addEventListener("mouseleave",fe),function(){document.removeEventListener("keydown",de),K.removeEventListener("mouseenter",ve),K.removeEventListener("mouseleave",fe)}},[$.current]),n$8.createElement(n$8.Fragment,null)};pageNavigation_min.DownArrowIcon=a$8,pageNavigation_min.NextIcon=r$8,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$4,pageNavigation_min.pageNavigationPlugin=function(A){var $=n$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$8.useMemo(function(){return e$8.createStore()},[]),O=function(ve){return n$8.createElement(p$5,o$8({},ve,{store:H}))},R=function(ve){return n$8.createElement(b$3,o$8({},ve,{store:H}))},B=function(ve){return n$8.createElement(k$2,o$8({},ve,{store:H}))},Y=function(ve){return n$8.createElement(j,o$8({},ve,{store:H}))};return{install:function(ve){H.update("jumpToDestination",ve.jumpToDestination),H.update("jumpToNextDestination",ve.jumpToNextDestination),H.update("jumpToNextPage",ve.jumpToNextPage),H.update("jumpToPage",ve.jumpToPage),H.update("jumpToPreviousDestination",ve.jumpToPreviousDestination),H.update("jumpToPreviousPage",ve.jumpToPreviousPage)},renderViewer:function(ve){var fe=ve.slot;if(!$.enableShortcuts)return fe;var de={children:n$8.createElement(n$8.Fragment,null,n$8.createElement(y$1,{containerRef:ve.containerRef,numPages:ve.doc.numPages,store:H}),fe.children)};return o$8(o$8({},fe),de)},onDocumentLoad:function(ve){H.update("doc",ve.doc),H.update("numberOfPages",ve.doc.numPages)},onViewerStateChange:function(ve){return H.update("currentPage",ve.pageIndex),ve},jumpToNextPage:function(){var ve=H.get("jumpToNextPage");ve&&ve()},jumpToPage:function(ve){var fe=H.get("jumpToPage");fe&&fe(ve)},jumpToPreviousPage:function(){var ve=H.get("jumpToPreviousPage");ve&&ve()},CurrentPageInput:function(){return n$8.createElement(c$8,{store:H})},CurrentPageLabel:function(ve){return n$8.createElement(s$6,o$8({},ve,{store:H}))},GoToFirstPage:O,GoToFirstPageButton:function(){return n$8.createElement(O,null,function(ve){return n$8.createElement(m$6,o$8({},ve))})},GoToFirstPageMenuItem:function(ve){return n$8.createElement(O,null,function(fe){return n$8.createElement(v$4,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ve.onClick()}})})},GoToLastPage:R,GoToLastPageButton:function(){return n$8.createElement(R,null,function(ve){return n$8.createElement(P$2,o$8({},ve))})},GoToLastPageMenuItem:function(ve){return n$8.createElement(R,null,function(fe){return n$8.createElement(E$3,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ve.onClick()}})})},GoToNextPage:B,GoToNextPageButton:function(){return n$8.createElement(B,null,function(ve){return n$8.createElement(D,o$8({},ve))})},GoToNextPageMenuItem:function(ve){return n$8.createElement(B,null,function(fe){return n$8.createElement(T,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ve.onClick()}})})},GoToPreviousPage:Y,GoToPreviousPageButton:function(){return n$8.createElement(Y,null,function(ve){return n$8.createElement(N,o$8({},ve))})},GoToPreviousPageMenuItem:function(ve){return n$8.createElement(Y,null,function(fe){return n$8.createElement(I$1,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ve.onClick()}})})},NumberOfPages:function(ve){return n$8.createElement(h$4,o$8({},ve,{store:H}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=pageNavigation_min;var libExports$8=lib$6.exports,lib$5={exports:{}},print_min={},define_process_env_default={},e$7=libExports$h,t$7=reactExports,n$7=reactDomExports;function r$7(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var o$7,a$7=r$7(t$7),i$7=function(){return a$7.createElement(e$7.Icon,{size:16},a$7.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$7=function(){return c$7=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$7.apply(this,arguments)},u$7={left:0,top:8},s$5=function(A){var $=A.enableShortcuts,H=A.onClick,O=a$7.useContext(e$7.LocalizationContext).l10n,R=O&&O.print?O.print.print:"Print",B=$?e$7.isMac()?"Meta+P":"Ctrl+P":"";return a$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"print",position:e$7.Position.BottomCenter,target:a$7.createElement(e$7.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,testId:"print__button",onClick:H},a$7.createElement(i$7,null)),content:function(){return R},offset:u$7})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$7||(o$7={}));var l$7=function(A){var $=A.children,H=A.enableShortcuts,O=A.store;return($||s$5)({enableShortcuts:H,onClick:function(){O.update("printStatus",o$7.CheckingPermission)}})},p$4=function(A){var $=A.doc,H=A.store,O=a$7.useContext(e$7.LocalizationContext).l10n,R=a$7.useState(!0),B=R[0],Y=R[1];return a$7.useEffect(function(){$.getPermissions().then(function(ve){ve===null||ve.includes(4)||ve.includes(2048)?H.update("printStatus",o$7.Preparing):Y(!1)})},[]),B?a$7.createElement(a$7.Fragment,null):a$7.createElement(e$7.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(ve){return a$7.createElement(a$7.Fragment,null,a$7.createElement("div",{className:"rpv-print__permission-body"},O&&O.print?O.print.disallowPrint:"The document does not allow to print"),a$7.createElement("div",{className:"rpv-print__permission-footer"},a$7.createElement(e$7.Button,{onClick:function(){ve(),H.update("printStatus",o$7.Cancelled)}},O&&O.print?O.print.close:"Close")))},isOpened:!0})},m$5=function(A){var $=A.numLoadedPages,H=A.numPages,O=A.onCancel,R=a$7.useContext(e$7.LocalizationContext).l10n,B=a$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft,Y=Math.floor(100*$/H);return a$7.createElement("div",{className:"rpv-print__progress"},a$7.createElement("div",{className:e$7.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":B})},a$7.createElement("div",{className:"rpv-print__progress-message"},R&&R.print?R.print.preparingDocument:"Preparing document ..."),a$7.createElement("div",{className:"rpv-print__progress-bar"},a$7.createElement(e$7.ProgressBar,{progress:Y})),a$7.createElement(e$7.Button,{onClick:O},R&&R.print?R.print.cancel:"Cancel")))},d$5=function(A){var $=A.canvas,H=A.page,O=A.pageHeight,R=A.pageIndex,B=A.pageWidth,Y=A.rotation,ve=A.onLoad,fe=e$7.useIsMounted(),de=a$7.useRef(),K=a$7.useState(""),Ee=K[0],le=K[1],ne=a$7.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$7.useEffect(function(){var re=de.current;re&&re.cancel();var Q=150/72;$.height=Math.floor(O*Q),$.width=Math.floor(B*Q);var q=$.getContext("2d");q.save(),q.fillStyle="rgb(255, 255, 255)",q.fillRect(0,0,$.width,$.height),q.restore();var oe=H.getViewport({rotation:Y,scale:1});de.current=H.render({canvasContext:q,intent:"print",transform:[Q,0,0,Q,0,0],viewport:oe}),de.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(se){fe.current&&le(URL.createObjectURL(se)),ne&&ve()}):(fe.current&&le($.toDataURL()),ne&&ve())},function(){})},[]),Ee&&a$7.createElement("div",{className:"rpv-print__page"},a$7.createElement("img",{"data-testid":"print__thumbnail-".concat(R),src:Ee,onLoad:function(){ne||ve()}}))},f$5=function(A){var $=A.canvas,H=A.doc,O=A.pageIndex,R=A.pageRotation,B=A.pageSize,Y=A.rotation,ve=A.shouldRender,fe=A.onLoad,de=e$7.useIsMounted(),K=a$7.useState(null),Ee=K[0],le=K[1],ne=Math.abs(Y+R)%180==0;a$7.useEffect(function(){ve&&e$7.getPage(H,O).then(function(Q){de.current&&le(Q)})},[ve]);var re=(B.rotation+Y+R)%360;return Ee&&a$7.createElement(d$5,{canvas:$,page:Ee,pageHeight:ne?B.pageHeight:B.pageWidth,pageIndex:O,pageWidth:ne?B.pageWidth:B.pageHeight,rotation:re,onLoad:fe})},g$3=function(A){var $=A.doc,H=A.numLoadedPages,O=A.pagesRotation,R=A.pageSizes,B=A.printPages,Y=A.printStatus,ve=A.rotation,fe=A.onCancel,de=A.onLoad,K=a$7.useMemo(function(){return document.createElement("canvas")},[]),Ee=a$7.useMemo(function(){var re=document.querySelector(".rpv-print__zone");if(re)return re;var Q=document.createElement("div");return Q.classList.add("rpv-print__zone"),Q.setAttribute("data-testid","print__zone"),document.body.appendChild(Q),Q},[]);a$7.useEffect(function(){Y===o$7.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var re=function(){if(Y===o$7.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var Q=document.querySelectorAll(".rpv-print__zone");Q&&Q.forEach(function(q){q.parentElement.removeChild(q)}),K.height=0,K.width=0,document.removeEventListener("mousemove",re),fe()}};return document.addEventListener("mousemove",re),function(){return document.removeEventListener("mousemove",re)}},[Y]);var le=R[0].pageHeight,ne=R[0].pageWidth;return n$7.createPortal(a$7.createElement(a$7.Fragment,null,B.map(function(re,Q){return a$7.createElement(f$5,{key:re,canvas:K,doc:$,pageIndex:re,pageRotation:O.has(re)?O.get(re):0,pageSize:R[re],rotation:ve,shouldRender:Q===H,onLoad:de})}),a$7.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(ne,"pt ").concat(le,"pt }")}})),Ee)},v$3=function(A){var $=A.doc,H=A.pagesRotation,O=A.pageSizes,R=A.renderProgressBar,B=A.rotation,Y=A.setPages,ve=A.store,fe=a$7.useState(o$7.Inactive),de=fe[0],K=fe[1],Ee=a$7.useState(0),le=Ee[0],ne=Ee[1],re=a$7.useMemo(function(){var se=$.numPages;return Y($).filter(function(ue){return ue>=0&&ue<se})},[$,Y]),Q=re.length,q=function(){ne(0),K(o$7.Inactive)},oe=function(se){return K(se)};return a$7.useEffect(function(){return ve.subscribe("printStatus",oe),function(){ve.unsubscribe("printStatus",oe)}},[]),a$7.createElement(a$7.Fragment,null,de===o$7.CheckingPermission&&a$7.createElement(p$4,{doc:$,store:ve}),de===o$7.Preparing&&(R?R(le,Q,q):a$7.createElement(m$5,{numLoadedPages:le,numPages:Q,onCancel:q})),(de===o$7.Preparing||de===o$7.Ready)&&le<=Q&&a$7.createElement(g$3,{doc:$,numLoadedPages:le,pagesRotation:H,pageSizes:O,printPages:re,printStatus:de,rotation:B,onCancel:q,onLoad:function(){var se=le+1;se<=Q&&(ne(se),se===Q&&K(o$7.Ready))}}))},h$3=function(A){var $=A.onClick,H=a$7.useContext(e$7.LocalizationContext).l10n,O=H&&H.print?H.print.print:"Print";return a$7.createElement(e$7.MenuItem,{icon:a$7.createElement(i$7,null),testId:"print__menu",onClick:$},O)},E$2=function(A){var $=A.containerRef,H=A.store,O=function(R){if(!R.shiftKey&&!R.altKey&&R.key==="p"&&(e$7.isMac()?R.metaKey:R.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(R.preventDefault(),H.update("printStatus",o$7.Preparing))}};return a$7.useEffect(function(){if($.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[$.current]),a$7.createElement(a$7.Fragment,null)};print_min.PrintIcon=i$7,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H})},print_min.getCustomPagesNumbers=function(A){return function($){var H,O=[];return A.replace(/\s+/g,"").split(",").forEach(function(R){var B,Y,ve=R.split("-").map(function(fe){return parseInt(fe,10)}).filter(function(fe){return Number.isInteger(fe)});ve.length===1?O.push(ve[0]-1):ve.length===2&&O.push.apply(O,(B=ve[0]-1,Y=ve[1]-1,Array(Y-B+1).fill(0).map(function(fe,de){return B+de})))}),(H=O,H.filter(function(R){return H.indexOf(R)===H.lastIndexOf(R)})).filter(function(R){return R>=0&&R<$.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(A){var $=a$7.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(R){return Array(R.numPages).fill(0).map(function(B,Y){return Y})}},A)},[]),H=a$7.useMemo(function(){return e$7.createStore({printStatus:o$7.Inactive})},[]),O=function(R){return a$7.createElement(l$7,c$7({enableShortcuts:$.enableShortcuts},R,{store:H}))};return{print:function(){H.update("printStatus",o$7.CheckingPermission)},renderViewer:function(R){var B=R.slot,Y={children:a$7.createElement(a$7.Fragment,null,$.enableShortcuts&&a$7.createElement(E$2,{containerRef:R.containerRef,store:H}),a$7.createElement(v$3,{doc:R.doc,pagesRotation:R.pagesRotation,pageSizes:R.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:R.rotation,setPages:$.setPages,store:H}),B.children)};return c$7(c$7({},B),Y)},Print:O,PrintButton:function(){return a$7.createElement(O,null,function(R){return a$7.createElement(s$5,c$7({},R))})},PrintMenuItem:function(R){return a$7.createElement(O,null,function(B){return a$7.createElement(h$3,{onClick:function(){B.onClick(),R.onClick()}})})},setPages:function(R){$.setPages=R}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=print_min;var libExports$7=lib$5.exports,lib$4={exports:{}},properties_min={},e$6=libExports$h;function t$6(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$6=t$6(reactExports),n$6=function(){return r$6.createElement(e$6.Icon,{size:16},r$6.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$6=function(){return o$6=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$6.apply(this,arguments)},a$6=function(A){var $=A.doc,H=A.render,O=r$6.useState(),R=O[0],B=O[1];return r$6.useEffect(function(){$.getMetadata().then(function(Y){return Promise.resolve(Y)}).then(function(Y){return $.getDownloadInfo().then(function(ve){return Promise.resolve({fileName:Y.contentDispositionFilename||"",info:Y.info,length:ve.length})})}).then(function(Y){B(Y)})},[]),R?H(R):r$6.createElement("div",{className:"rpv-properties__loader"},r$6.createElement(e$6.Spinner,null))},i$6=function(A){var $=A.label,H=A.value,O=r$6.useContext(e$6.ThemeContext).direction===e$6.TextDirection.RightToLeft;return r$6.createElement("dl",{className:e$6.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":O})},r$6.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$6.createElement("dd",{className:"rpv-properties__item-value"},H||"-"))},l$6=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$6=function(A,$,H,O){var R=parseInt(A,10);return R>=$&&R<=H?R:O},p$3=function(A){var $=A.doc,H=A.fileName,O=A.onToggle,R=r$6.useContext(e$6.LocalizationContext).l10n,B=function(Y){var ve=function(fe){var de=l$6.exec(fe);if(!de)return null;var K=parseInt(de[1],10),Ee=c$6(de[2],1,12,1)-1,le=c$6(de[3],1,31,1),ne=c$6(de[4],0,23,0),re=c$6(de[5],0,59,0),Q=c$6(de[6],0,59,0),q=de[7]||"Z",oe=c$6(de[8],0,23,0),se=c$6(de[9],0,59,0);switch(q){case"-":ne+=oe,re+=se;break;case"+":ne-=oe,re-=se}return new Date(Date.UTC(K,Ee,le,ne,re,Q))}(Y);return ve?"".concat(ve.toLocaleDateString(),", ").concat(ve.toLocaleTimeString()):""};return r$6.createElement("div",{className:"rpv-properties__modal"},r$6.createElement(a$6,{doc:$,render:function(Y){return r$6.createElement(r$6.Fragment,null,r$6.createElement("div",{className:"rpv-properties__modal-section"},r$6.createElement(i$6,{label:R&&R.properties?R.properties.fileName:"File name",value:Y.fileName||(de=H,K=de.split("/").pop(),K?K.split("#")[0].split("?")[0]:de)}),r$6.createElement(i$6,{label:R&&R.properties?R.properties.fileSize:"File size",value:(ve=Y.length,fe=Math.floor(Math.log(ve)/Math.log(1024)),"".concat((ve/Math.pow(1024,fe)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][fe]))})),r$6.createElement(e$6.Separator,null),r$6.createElement("div",{className:"rpv-properties__modal-section"},r$6.createElement(i$6,{label:R&&R.properties?R.properties.title:"Title",value:Y.info.Title}),r$6.createElement(i$6,{label:R&&R.properties?R.properties.author:"Author",value:Y.info.Author}),r$6.createElement(i$6,{label:R&&R.properties?R.properties.subject:"Subject",value:Y.info.Subject}),r$6.createElement(i$6,{label:R&&R.properties?R.properties.keywords:"Keywords",value:Y.info.Keywords}),r$6.createElement(i$6,{label:R&&R.properties?R.properties.creator:"Creator",value:Y.info.Creator}),r$6.createElement(i$6,{label:R&&R.properties?R.properties.creationDate:"Creation date",value:B(Y.info.CreationDate)}),r$6.createElement(i$6,{label:R&&R.properties?R.properties.modificationDate:"Modification date",value:B(Y.info.ModDate)})),r$6.createElement(e$6.Separator,null),r$6.createElement("div",{className:"rpv-properties__modal-section"},r$6.createElement(i$6,{label:R&&R.properties?R.properties.pdfProducer:"PDF producer",value:Y.info.Producer}),r$6.createElement(i$6,{label:R&&R.properties?R.properties.pdfVersion:"PDF version",value:Y.info.PDFFormatVersion}),r$6.createElement(i$6,{label:R&&R.properties?R.properties.pageCount:"Page count",value:"".concat($.numPages)})));var ve,fe,de,K}}),r$6.createElement("div",{className:"rpv-properties__modal-footer"},r$6.createElement(e$6.Button,{onClick:O},R&&R.properties?R.properties.close:"Close")))},s$4={left:0,top:8},u$6=function(A){var $=A.onClick,H=r$6.useContext(e$6.LocalizationContext).l10n,O=H&&H.properties?H.properties.showProperties:"Show properties";return r$6.createElement(e$6.Tooltip,{ariaControlsSuffix:"properties",position:e$6.Position.BottomCenter,target:r$6.createElement(e$6.MinimalButton,{ariaLabel:O,testId:"properties__button",onClick:$},r$6.createElement(n$6,null)),content:function(){return O},offset:s$4})},m$4=function(A){var $=A.children,H=A.store,O=function(Y){var ve=r$6.useState(Y.get("doc")),fe=ve[0],de=ve[1],K=function(Ee){de(Ee)};return r$6.useEffect(function(){return Y.subscribe("doc",K),function(){Y.unsubscribe("doc",K)}},[]),{currentDoc:fe}}(H).currentDoc,R=H.get("fileName")||"",B=$||function(Y){return r$6.createElement(u$6,o$6({},Y))};return O?r$6.createElement(e$6.Modal,{ariaControlsSuffix:"properties",target:function(Y){return B({onClick:Y})},content:function(Y){return r$6.createElement(p$3,{doc:O,fileName:R,onToggle:Y})},closeOnClickOutside:!0,closeOnEscape:!0}):r$6.createElement(r$6.Fragment,null)},f$4=function(A){var $=A.onClick,H=r$6.useContext(e$6.LocalizationContext).l10n,O=H&&H.properties?H.properties.showProperties:"Show properties";return r$6.createElement(e$6.MenuItem,{icon:r$6.createElement(n$6,null),testId:"properties__menu",onClick:$},O)};properties_min.InfoIcon=n$6,properties_min.propertiesPlugin=function(){var A=r$6.useMemo(function(){return e$6.createStore({fileName:""})},[]),$=function(H){return r$6.createElement(m$4,o$6({},H,{store:A}))};return{onDocumentLoad:function(H){A.update("doc",H.doc)},onViewerStateChange:function(H){return A.update("fileName",H.file.name),H},ShowProperties:$,ShowPropertiesButton:function(){return r$6.createElement(m$4,{store:A})},ShowPropertiesMenuItem:function(H){return r$6.createElement($,null,function(O){return r$6.createElement(f$4,o$6({},O))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=properties_min;var libExports$6=lib$4.exports,lib$3={exports:{}},rotate_min={},t$5=libExports$h;function e$5(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$5=e$5(reactExports),n$5=function(){return r$5.createElement(t$5.Icon,{ignoreDirection:!0,size:16},r$5.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$5=function(){return r$5.createElement(t$5.Icon,{ignoreDirection:!0,size:16},r$5.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$5=function(){return c$5=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$5.apply(this,arguments)},a$5={left:0,top:8},i$5=function(A){var $=A.direction,H=A.onClick,O=r$5.useContext(t$5.LocalizationContext).l10n,R=O&&O.rotate?O.rotate.rotateBackward:"Rotate counterclockwise",B=O&&O.rotate?O.rotate.rotateForward:"Rotate clockwise",Y=$===t$5.RotateDirection.Backward?R:B,ve=$===t$5.RotateDirection.Backward?r$5.createElement(n$5,null):r$5.createElement(o$5,null);return r$5.createElement(t$5.Tooltip,{ariaControlsSuffix:"rotate",position:t$5.Position.BottomCenter,target:r$5.createElement(t$5.MinimalButton,{ariaLabel:Y,testId:$===t$5.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:H},ve),content:function(){return Y},offset:a$5})},u$5=function(A){var $=A.children,H=A.direction,O=A.store;return($||function(R){return r$5.createElement(i$5,{direction:R.direction,onClick:R.onClick})})({direction:H,onClick:function(){var R=O.get("rotate");R&&R(H)}})},l$5=function(A){var $=A.direction,H=A.onClick,O=r$5.useContext(t$5.LocalizationContext).l10n,R=O&&O.rotate?O.rotate.rotateBackward:"Rotate counterclockwise",B=O&&O.rotate?O.rotate.rotateForward:"Rotate clockwise",Y=$===t$5.RotateDirection.Backward?R:B,ve=$===t$5.RotateDirection.Backward?r$5.createElement(n$5,null):r$5.createElement(o$5,null);return r$5.createElement(t$5.MenuItem,{icon:ve,testId:$===t$5.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:H},Y)},d$4=function(A){var $=A.children,H=A.store;return $({onRotatePage:function(O,R){var B=H.get("rotatePage");B&&B(O,R)}})};rotate_min.RotateBackwardIcon=n$5,rotate_min.RotateForwardIcon=o$5,rotate_min.rotatePlugin=function(){var A=r$5.useMemo(function(){return t$5.createStore()},[]),$=function(H){return r$5.createElement(u$5,c$5({},H,{store:A}))};return{install:function(H){A.update("rotate",H.rotate),A.update("rotatePage",H.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$5.createElement($,{direction:t$5.RotateDirection.Backward},function(H){return r$5.createElement(i$5,c$5({},H))})},RotateBackwardMenuItem:function(H){return r$5.createElement($,{direction:t$5.RotateDirection.Backward},function(O){return r$5.createElement(l$5,{direction:O.direction,onClick:function(){O.onClick(),H.onClick()}})})},RotateForwardButton:function(){return r$5.createElement($,{direction:t$5.RotateDirection.Forward},function(H){return r$5.createElement(i$5,c$5({},H))})},RotateForwardMenuItem:function(H){return r$5.createElement($,{direction:t$5.RotateDirection.Forward},function(O){return r$5.createElement(l$5,{direction:O.direction,onClick:function(){O.onClick(),H.onClick()}})})},RotatePage:function(H){return r$5.createElement(d$4,c$5({},H,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=rotate_min;var libExports$5=lib$3.exports,lib$2={exports:{}},scrollMode_min={},e$4=libExports$h;function o$4(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var t$4=o$4(reactExports),l$4=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$4.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$4.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$4=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$4.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$4=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$4=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$4=function(){return i$4=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},i$4.apply(this,arguments)},a$4=function(A,$){A.get("switchScrollMode")($);var H=A.get("viewMode");$!==e$4.ScrollMode.Horizontal&&$!==e$4.ScrollMode.Wrapped||H===e$4.ViewMode.SinglePage||A.get("switchViewMode")(e$4.ViewMode.SinglePage)},d$3=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$3=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$4=function(A){var $=A.children,H=A.mode,O=A.onClick,R=t$4.useContext(e$4.LocalizationContext).l10n,B="",Y=t$4.createElement(d$3,null);switch(H){case e$4.ScrollMode.Horizontal:B=R&&R.scrollMode?R.scrollMode.horizontalScrolling:"Horizontal scrolling",Y=t$4.createElement(n$4,null);break;case e$4.ScrollMode.Page:B=R&&R.scrollMode?R.scrollMode.pageScrolling:"Page scrolling",Y=t$4.createElement(r$4,null);break;case e$4.ScrollMode.Wrapped:B=R&&R.scrollMode?R.scrollMode.wrappedScrolling:"Wrapped scrolling",Y=t$4.createElement(s$3,null);break;case e$4.ScrollMode.Vertical:default:B=R&&R.scrollMode?R.scrollMode.verticalScrolling:"Vertical scrolling",Y=t$4.createElement(d$3,null)}return $({icon:Y,label:B,onClick:O})},m$3={left:0,top:8},M$1=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$4.ScrollMode.Horizontal:B="scroll-mode__horizontal-button";break;case e$4.ScrollMode.Page:B="scroll-mode__page-button";break;case e$4.ScrollMode.Wrapped:B="scroll-mode__wrapped-button";break;case e$4.ScrollMode.Vertical:default:B="scroll-mode__vertical-button"}return t$4.createElement(u$4,{mode:O,onClick:R},function(Y){return t$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$4.Position.BottomCenter,target:t$4.createElement(e$4.MinimalButton,{ariaLabel:Y.label,isDisabled:$,isSelected:H,testId:B,onClick:Y.onClick},Y.icon),content:function(){return Y.label},offset:m$3})})},f$3=function(A){var $=t$4.useState(A.get("scrollMode")||e$4.ScrollMode.Vertical),H=$[0],O=$[1],R=function(B){O(B)};return t$4.useEffect(function(){return A.subscribe("scrollMode",R),function(){A.unsubscribe("scrollMode",R)}},[]),{scrollMode:H}},w$1=function(A){var $=t$4.useState(A.get("viewMode")||e$4.ViewMode.SinglePage),H=$[0],O=$[1],R=function(B){O(B)};return t$4.useEffect(function(){return A.subscribe("viewMode",R),function(){A.unsubscribe("viewMode",R)}},[]),{viewMode:H}},S$2=function(A){var $=A.children,H=A.mode,O=A.store,R=w$1(O).viewMode,B=f$3(O).scrollMode===H,Y=(H===e$4.ScrollMode.Horizontal||H===e$4.ScrollMode.Wrapped)&&R!==e$4.ViewMode.SinglePage;return($||function(ve){return t$4.createElement(M$1,{isDisabled:Y,isSelected:B,mode:ve.mode,onClick:ve.onClick})})({isDisabled:Y,isSelected:B,mode:H,onClick:function(){a$4(O,H)}})},g$2=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$4.ScrollMode.Horizontal:B="scroll-mode__horizontal-menu";break;case e$4.ScrollMode.Page:B="scroll-mode__page-menu";break;case e$4.ScrollMode.Wrapped:B="scroll-mode__wrapped-menu";break;case e$4.ScrollMode.Vertical:default:B="scroll-mode__vertical-menu"}return t$4.createElement(u$4,{mode:O,onClick:R},function(Y){return t$4.createElement(e$4.MenuItem,{checked:H,icon:Y.icon,isDisabled:$,testId:B,onClick:Y.onClick},Y.label)})},h$2=function(A,$){A.get("switchViewMode")($);var H=A.get("scrollMode");H!==e$4.ScrollMode.Horizontal&&H!==e$4.ScrollMode.Wrapped||$===e$4.ViewMode.SinglePage||A.get("switchScrollMode")(e$4.ScrollMode.Vertical)},b$2=function(A){var $=A.children,H=A.mode,O=A.onClick,R=t$4.useContext(e$4.LocalizationContext).l10n,B="",Y=t$4.createElement(r$4,null);switch(H){case e$4.ViewMode.DualPage:B=R&&R.scrollMode?R.scrollMode.dualPage:"Dual page",Y=t$4.createElement(c$4,null);break;case e$4.ViewMode.DualPageWithCover:B=R&&R.scrollMode?R.scrollMode.dualPageCover:"Dual page with cover",Y=t$4.createElement(l$4,null);break;case e$4.ViewMode.SinglePage:default:B=R&&R.scrollMode?R.scrollMode.singlePage:"Single page",Y=t$4.createElement(r$4,null)}return $({icon:Y,label:B,onClick:O})},p$2={left:0,top:8},v$2=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$4.ViewMode.DualPage:B="view-mode__dual-button";break;case e$4.ViewMode.DualPageWithCover:B="view-mode__dual-cover-button";break;case e$4.ViewMode.SinglePage:default:B="view-mode__single-button"}return t$4.createElement(b$2,{mode:O,onClick:R},function(Y){return t$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$4.Position.BottomCenter,target:t$4.createElement(e$4.MinimalButton,{ariaLabel:Y.label,isDisabled:$,isSelected:H,testId:B,onClick:Y.onClick},Y.icon),content:function(){return Y.label},offset:p$2})})},k$1=function(A){var $=A.children,H=A.mode,O=A.store,R=w$1(O).viewMode,B=f$3(O).scrollMode,Y=R===H,ve=(B===e$4.ScrollMode.Horizontal||B===e$4.ScrollMode.Wrapped)&&H!==e$4.ViewMode.SinglePage;return($||function(fe){return t$4.createElement(v$2,{isDisabled:ve,isSelected:Y,mode:fe.mode,onClick:fe.onClick})})({isDisabled:ve,isSelected:Y,mode:H,onClick:function(){h$2(O,H)}})},C$1=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$4.ViewMode.DualPage:B="view-mode__dual-menu";break;case e$4.ViewMode.DualPageWithCover:B="view-mode__dual-cover-menu";break;case e$4.ViewMode.SinglePage:default:B="view-mode__single-menu"}return t$4.createElement(b$2,{mode:O,onClick:R},function(Y){return t$4.createElement(e$4.MenuItem,{checked:H,icon:Y.icon,isDisabled:$,testId:B,onClick:Y.onClick},Y.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$4,scrollMode_min.DualPageViewModeIcon=c$4,scrollMode_min.HorizontalScrollingIcon=n$4,scrollMode_min.PageScrollingIcon=r$4,scrollMode_min.VerticalScrollingIcon=d$3,scrollMode_min.WrappedScrollingIcon=s$3,scrollMode_min.scrollModePlugin=function(){var A=t$4.useMemo(function(){return e$4.createStore({scrollMode:e$4.ScrollMode.Vertical,viewMode:e$4.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(O){return t$4.createElement(S$2,i$4({},O,{store:A}))},H=function(O){return t$4.createElement(k$1,i$4({},O,{store:A}))};return{install:function(O){A.update("switchScrollMode",O.switchScrollMode),A.update("switchViewMode",O.switchViewMode)},onViewerStateChange:function(O){return A.update("scrollMode",O.scrollMode),A.update("viewMode",O.viewMode),O},switchScrollMode:function(O){a$4(A,O)},switchViewMode:function(O){h$2(A,O)},SwitchScrollMode:$,SwitchScrollModeButton:function(O){return t$4.createElement($,{mode:O.mode},function(R){return t$4.createElement(M$1,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick()}})})},SwitchScrollModeMenuItem:function(O){return t$4.createElement($,{mode:O.mode},function(R){return t$4.createElement(g$2,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick(),O.onClick()}})})},SwitchViewMode:H,SwitchViewModeButton:function(O){return t$4.createElement(H,{mode:O.mode},function(R){return t$4.createElement(v$2,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick()}})})},SwitchViewModeMenuItem:function(O){return t$4.createElement(H,{mode:O.mode},function(R){return t$4.createElement(C$1,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=scrollMode_min;var libExports$4=lib$2.exports,lib$1={exports:{}},search_min={},e$3=libExports$h;function t$3(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$3=t$3(reactExports),n$3=function(){return r$3.createElement(e$3.Icon,{size:16},r$3.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$3=function(){return r$3.createElement(e$3.Icon,{size:16},r$3.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$3=function(){return r$3.createElement(e$3.Icon,{ignoreDirection:!0,size:16},r$3.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$3=function(){return c$3=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$3.apply(this,arguments)},u$3={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$3=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$2=function(A){var $=A.index,H=A.area,O=A.onHighlightKeyword,R=r$3.useRef();return e$3.useIsomorphicLayoutEffect(function(){var B=R.current;O&&B&&O({highlightEle:B,keyword:H.keyword})},[]),r$3.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:R,style:i$3(H),title:H.keywordStr.trim()})},l$3=function(A){var $=A.parentNode;$&&$.removeChild(A)},h$1=function(A){var $=A.parentNode;if($){var H=document.createRange();H.selectNodeContents(A),function(O,R){l$3(O);var B=R.parentNode;B&&B.insertBefore(O,R),l$3(R)}(H.extractContents(),A),$.normalize()}},d$2=function(A,$){return A.top<$.top?-1:A.top>$.top?1:A.left<$.left?-1:A.left>$.left?1:0},f$2=function(A){var $=A.numPages,H=A.pageIndex,O=A.renderHighlights,R=A.store,B=A.onHighlightKeyword,Y=r$3.useRef(),ve=r$3.useCallback(function(be){return r$3.createElement(r$3.Fragment,null,be.highlightAreas.map(function($e,Ve){return r$3.createElement(s$2,{index:Ve,key:Ve,area:$e,onHighlightKeyword:B})}))},[]),fe=O||ve,de=r$3.useState(R.get("matchPosition")),K=de[0],Ee=de[1],le=r$3.useState(R.get("keyword")||[u$3]),ne=le[0],re=le[1],Q=r$3.useState({pageIndex:H,scale:1,status:e$3.LayerRenderStatus.PreRender}),q=Q[0],oe=Q[1],se=r$3.useRef(null),ue=r$3.useRef([]),pe=r$3.useState([]),ee=pe[0],ae=pe[1],Ae=function(){return!0},ge=r$3.useCallback(function(){return R.get("targetPageFilter")||Ae},[R.get("targetPageFilter")]),te=function(be){var $e=ue.current;if($e.length===0)return[];var Ve=[],et=[].slice.call(be.querySelectorAll(".rpv-core__text-layer-text")),Fe=$e.map(function(rt){return rt.char}).join("");return ne.forEach(function(rt){var ot=rt.keyword;if(ot.trim()){for(var ft,St=rt.regExp.flags.indexOf("g")===-1?new RegExp(rt.regExp,"".concat(rt.regExp.flags,"g")):rt.regExp,we=[];(ft=St.exec(Fe))!==null;)we.push({keyword:St,startIndex:ft.index,endIndex:St.lastIndex});we.map(function(W){return{keyword:W.keyword,indexes:$e.slice(W.startIndex,W.endIndex)}}).forEach(function(W){var J=W.indexes.reduce(function(G,ie){return G[ie.spanIndex]=(G[ie.spanIndex]||[]).concat([ie]),G},{});Object.values(J).forEach(function(G){if(G.length!==1||G[0].char.trim()!==""){var ie=rt.wholeWords?G.slice(1,-1):G,ce=function(ye,Ce,Re,Ke,qe){var nt=document.createRange(),ct=Ke.firstChild;if(!ct||ct.nodeType!==Node.TEXT_NODE)return null;var bt=ct.textContent.length,dt=qe[0].charIndexInSpan,pt=qe.length===1?dt:qe[qe.length-1].charIndexInSpan;if(dt>bt||pt+1>bt)return null;nt.setStart(ct,dt),nt.setEnd(ct,pt+1);var vt=document.createElement("span");nt.surroundContents(vt);var mt=vt.getBoundingClientRect(),Lt=Re.getBoundingClientRect(),st=Lt.height,Ue=Lt.width,Ge=100*(mt.left-Lt.left)/Ue,lt=100*(mt.top-Lt.top)/st,Ct=100*mt.height/st,Pt=100*mt.width/Ue;return h$1(vt),{keyword:Ce,keywordStr:ye,numPages:$,pageIndex:H,left:Ge,top:lt,height:Ct,width:Pt,pageHeight:st,pageWidth:Ue}}(ot,W.keyword,be,et[ie[0].spanIndex],ie);ce&&Ve.push(ce)}})})}}),Ve.sort(d$2)},_e=function(be){be&&be.length>0&&re(be)},he=function(be){return Ee(be)},Pe=function(be){if(be.has(H)){var $e=be.get(H);$e&&oe({ele:$e.ele,pageIndex:H,scale:$e.scale,status:$e.status})}},De=function(){return ne.length===0||ne.length===1&&ne[0].keyword.trim()===""};return r$3.useEffect(function(){if(!De()&&q.status===e$3.LayerRenderStatus.DidRender&&!ue.current.length){var be=q.ele,$e=[].slice.call(be.querySelectorAll(".rpv-core__text-layer-text")).map(function(Ve){return Ve.textContent}).reduce(function(Ve,et,Fe){return Ve.concat(et.split("").map(function(rt,ot){return{char:rt,charIndexInSpan:ot,spanIndex:Fe}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);ue.current=$e}},[ne,q.status]),r$3.useEffect(function(){if(!De()&&q.ele&&q.status===e$3.LayerRenderStatus.DidRender&&ge()({pageIndex:H,numPages:$})){var be=q.ele,$e=te(be);ae($e)}},[ne,K,q.status,ue.current]),r$3.useEffect(function(){De()&&q.ele&&q.status===e$3.LayerRenderStatus.DidRender&&ae([])},[ne,q.status]),r$3.useEffect(function(){if(ee.length!==0){var be=Y.current;if(K.pageIndex===H&&be&&q.status===e$3.LayerRenderStatus.DidRender){var $e=be.querySelector('.rpv-search__highlight[data-index="'.concat(K.matchIndex,'"]'));if($e){var Ve=function(ot,ft){for(var St=ot.offsetTop,we=ot.offsetLeft,W=ot.parentElement;W&&W!==ft;)St+=W.offsetTop,we+=W.offsetLeft,W=W.parentElement;return{left:we,top:St}}($e,be),et=Ve.left,Fe=Ve.top,rt=R.get("jumpToDestination");rt&&(rt({pageIndex:H,bottomOffset:(be.getBoundingClientRect().height-Fe)/q.scale,leftOffset:et/q.scale,scaleTo:q.scale}),se.current&&se.current.classList.remove("rpv-search__highlight--current"),se.current=$e,$e.classList.add("rpv-search__highlight--current"))}}}},[ee,K]),r$3.useEffect(function(){return R.subscribe("keyword",_e),R.subscribe("matchPosition",he),R.subscribe("renderStatus",Pe),function(){R.unsubscribe("keyword",_e),R.unsubscribe("matchPosition",he),R.unsubscribe("renderStatus",Pe)}},[]),r$3.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(H),ref:Y},fe({getCssProperties:i$3,highlightAreas:ee}))},p$1=function(A){var $,H=A.wholeWords?" ".concat(A.keyword," "):A.keyword,O=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp(($=H,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),O),wholeWords:A.wholeWords||!1}},g$1=function(A,$,H){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:H||!1}:typeof A=="string"?A===""?u$3:p$1({keyword:A,matchCase:$||!1,wholeWords:H||!1}):($!==void 0&&(A.matchCase=$),H!==void 0&&(A.wholeWords=H),p$1(A))},m$2=function(A){var $,H=A.get("initialKeyword"),O=r$3.useMemo(function(){if(H&&H.length===1){var he=g$1(H[0]);return{matchCase:he.regExp.flags.indexOf("i")===-1,wholeWords:he.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),R=function(he){var Pe=r$3.useRef(he.get("doc")),De=function(be){Pe.current=be};return r$3.useEffect(function(){return he.subscribe("doc",De),function(){he.unsubscribe("doc",De)}},[]),Pe}(A),B=r$3.useState(H),Y=B[0],ve=B[1],fe=r$3.useState([]),de=fe[0],K=fe[1],Ee=r$3.useState(0),le=Ee[0],ne=Ee[1],re=r$3.useState(O.matchCase),Q=re[0],q=re[1],oe=r$3.useRef([]),se=r$3.useState(O.wholeWords),ue=se[0],pe=se[1],ee=function(){return!0},ae=r$3.useCallback(function(){return A.get("targetPageFilter")||ee},[A.get("targetPageFilter")]),Ae=function(he){var Pe=de.length;if(Y.length===0||Pe===0)return null;var De=he===Pe+1?1:Math.max(1,Math.min(Pe,he));return ne(De),te(de[De-1])},ge=function(he){return ve(he===""?[]:[he])},te=function(he){var Pe=A.get("jumpToPage");return Pe&&Pe(he.pageIndex),A.update("matchPosition",{matchIndex:he.matchIndex,pageIndex:he.pageIndex}),he},_e=function(he,Pe,De){var be=R.current;if(!be)return Promise.resolve([]);var $e=be.numPages,Ve=he.map(function(et){return g$1(et,Pe,De)});return A.update("keyword",Ve),ne(0),K([]),new Promise(function(et,Fe){var rt=oe.current.length===0?function(){var ot=R.current;if(!ot)return Promise.resolve([]);var ft=Array(ot.numPages).fill(0).map(function(St,we){return e$3.getPage(ot,we).then(function(W){return W.getTextContent()}).then(function(W){var J=W.items.map(function(G){return G.str||""}).join("");return Promise.resolve({pageContent:J,pageIndex:we})})});return Promise.all(ft).then(function(St){return St.sort(function(we,W){return we.pageIndex-W.pageIndex}),Promise.resolve(St.map(function(we){return we.pageContent}))})}().then(function(ot){return oe.current=ot,Promise.resolve(ot)}):Promise.resolve(oe.current);rt.then(function(ot){var ft=[];ot.forEach(function(St,we){ae()({pageIndex:we,numPages:$e})&&Ve.forEach(function(W){for(var J,G=0;(J=W.regExp.exec(St))!==null;)ft.push({keyword:W.regExp,matchIndex:G,pageIndex:we,pageText:St,startIndex:J.index,endIndex:W.regExp.lastIndex}),G++})}),K(ft),ft.length>0&&(ne(1),te(ft[0])),et(ft)})})};return r$3.useEffect(function(){oe.current=[]},[R.current]),{clearKeyword:function(){A.update("keyword",[u$3]),ge(""),ne(0),K([]),q(!1),pe(!1)},changeMatchCase:function(he){q(he),Y.length>0&&_e(Y,he,ue)},changeWholeWords:function(he){pe(he),Y.length>0&&_e(Y,Q,he)},currentMatch:le,jumpToMatch:Ae,jumpToNextMatch:function(){return Ae(le+1)},jumpToPreviousMatch:function(){return Ae(le-1)},keywords:Y,matchCase:Q,numberOfMatches:de.length,wholeWords:ue,search:function(){return _e(Y,Q,ue)},searchFor:_e,setKeywords:ve,keyword:Y.length===0?"":($=Y[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:ge,setTargetPages:function(he){A.update("targetPageFilter",he)}}},v$1=function(A){var $=A.children,H=A.store,O=m$2(H),R=r$3.useState(!1),B=R[0],Y=R[1],ve=function(fe){return Y(!0)};return r$3.useEffect(function(){return H.subscribe("doc",ve),function(){H.unsubscribe("doc",ve)}},[]),$(c$3(c$3({},O),{isDocumentLoaded:B}))},x=function(A){var $=A.containerRef,H=A.store,O=r$3.useRef(!1),R=function(){O.current=!0},B=function(){O.current=!1},Y=function(ve){var fe=$.current;fe&&(ve.shiftKey||ve.altKey||ve.key!=="f"||(e$3.isMac()?ve.metaKey&&!ve.ctrlKey:ve.ctrlKey)&&(O.current||document.activeElement&&fe.contains(document.activeElement))&&(ve.preventDefault(),H.update("areShortcutsPressed",!0)))};return r$3.useEffect(function(){var ve=$.current;if(ve)return document.addEventListener("keydown",Y),ve.addEventListener("mouseenter",R),ve.addEventListener("mouseleave",B),function(){document.removeEventListener("keydown",Y),ve.removeEventListener("mouseenter",R),ve.removeEventListener("mouseleave",B)}},[$.current]),r$3.createElement(r$3.Fragment,null)},y={left:0,top:8},E$1=function(A){var $=A.store,H=A.onToggle,O=r$3.useContext(e$3.LocalizationContext).l10n,R=r$3.useContext(e$3.ThemeContext).direction,B=r$3.useState(!1),Y=B[0],ve=B[1],fe=r$3.useState(!1),de=fe[0],K=fe[1],Ee=R===e$3.TextDirection.RightToLeft,le=m$2($),ne=le.clearKeyword,re=le.changeMatchCase,Q=le.changeWholeWords,q=le.currentMatch,oe=le.jumpToNextMatch,se=le.jumpToPreviousMatch,ue=le.keyword,pe=le.matchCase,ee=le.numberOfMatches,ae=le.wholeWords,Ae=le.search,ge=le.setKeyword,te=function(be){ve(!0),Ae().then(function($e){ve(!1),K(!0),be&&be()})};r$3.useEffect(function(){var be=$.get("initialKeyword");be&&be.length===1&&ue&&te(function(){$.update("initialKeyword",[])})},[]);var _e=O&&O.search?O.search.enterToSearch:"Enter to search",he=O&&O.search?O.search.previousMatch:"Previous match",Pe=O&&O.search?O.search.nextMatch:"Next match",De=O&&O.search?O.search.close:"Close";return r$3.createElement("div",{className:"rpv-search__popover"},r$3.createElement("div",{className:"rpv-search__popover-input-counter"},r$3.createElement(e$3.TextBox,{ariaLabel:_e,autoFocus:!0,placeholder:_e,type:"text",value:ue,onChange:function(be){K(!1),ge(be)},onKeyDown:function(be){be.key==="Enter"&&ue&&(de?oe():te())}}),r$3.createElement("div",{className:e$3.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!Ee,"rpv-search__popover-counter--rtl":Ee})},Y&&r$3.createElement(e$3.Spinner,{testId:"search__popover-searching",size:"1rem"}),!Y&&r$3.createElement("span",{"data-testid":"search__popover-num-matches"},q,"/",ee))),r$3.createElement("label",{className:"rpv-search__popover-label"},r$3.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:pe,type:"checkbox",onChange:function(be){K(!1),re(be.target.checked)}})," ",O&&O.search?O.search.matchCase:"Match case"),r$3.createElement("label",{className:"rpv-search__popover-label"},r$3.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:ae,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(be){K(!1),Q(be.target.checked)}})," ",O&&O.search?O.search.wholeWords:"Whole words"),r$3.createElement("div",{className:"rpv-search__popover-footer"},r$3.createElement("div",{className:"rpv-search__popover-footer-item"},r$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"search-previous-match",position:Ee?e$3.Position.BottomRight:e$3.Position.BottomCenter,target:r$3.createElement(e$3.MinimalButton,{ariaLabel:he,isDisabled:q<=1,onClick:se},r$3.createElement(o$3,null)),content:function(){return he},offset:y})),r$3.createElement("div",{className:"rpv-search__popover-footer-item"},r$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$3.Position.BottomCenter,target:r$3.createElement(e$3.MinimalButton,{ariaLabel:Pe,isDisabled:q>ee-1,onClick:oe},r$3.createElement(n$3,null)),content:function(){return Pe},offset:y})),r$3.createElement("div",{className:e$3.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!Ee,"rpv-search__popover-footer-button--rtl":Ee})},r$3.createElement(e$3.Button,{onClick:function(){H(),ne()}},De))))},w=function(A){var $=A.children,H=A.onClick,O=r$3.useContext(e$3.LocalizationContext).l10n,R=O&&O.search?O.search.search:"Search";return $({icon:r$3.createElement(a$3,null),label:R,onClick:H})},b$1={left:0,top:8},k=function(A){var $=A.enableShortcuts,H=A.store,O=A.onClick,R=$?e$3.isMac()?"Meta+F":"Ctrl+F":"",B=function(Y){Y&&O()};return r$3.useEffect(function(){return H.subscribe("areShortcutsPressed",B),function(){H.unsubscribe("areShortcutsPressed",B)}},[]),r$3.createElement(w,{onClick:O},function(Y){return r$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"search-popover",position:e$3.Position.BottomCenter,target:r$3.createElement(e$3.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:Y.label,testId:"search__popover-button",onClick:O},Y.icon),content:function(){return Y.label},offset:b$1})})},S$1={left:0,top:8},C=function(A){var $=A.children,H=A.enableShortcuts,O=A.store,R=r$3.useContext(e$3.ThemeContext).direction===e$3.TextDirection.RightToLeft?e$3.Position.BottomRight:e$3.Position.BottomLeft,B=$||function(Y){return r$3.createElement(k,c$3({enableShortcuts:H,store:O},Y))};return r$3.createElement(e$3.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:R,target:function(Y){return B({onClick:Y})},content:function(Y){return r$3.createElement(E$1,{store:O,onToggle:Y})},offset:S$1,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function($){return g$1($)}):[g$1(A)]};search_min.NextIcon=n$3,search_min.PreviousIcon=o$3,search_min.SearchIcon=a$3,search_min.searchPlugin=function(A){var $=r$3.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),H=r$3.useMemo(function(){return e$3.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$3],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),O=m$2(H),R=O.clearKeyword,B=O.jumpToMatch,Y=O.jumpToNextMatch,ve=O.jumpToPreviousMatch,fe=O.searchFor,de=O.setKeywords,K=O.setTargetPages,Ee=function(le){return r$3.createElement(C,c$3({enableShortcuts:$.enableShortcuts},le,{store:H}))};return{install:function(le){var ne=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],re=A&&A.keyword?P$1(A.keyword):[u$3];H.update("initialKeyword",ne),H.update("jumpToDestination",le.jumpToDestination),H.update("jumpToPage",le.jumpToPage),H.update("keyword",re)},renderPageLayer:function(le){return r$3.createElement(f$2,{key:le.pageIndex,numPages:le.doc.numPages,pageIndex:le.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:H,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(le){var ne=le.slot;return ne.subSlot&&(ne.subSlot.children=r$3.createElement(r$3.Fragment,null,$.enableShortcuts&&r$3.createElement(x,{containerRef:le.containerRef,store:H}),ne.subSlot.children)),ne},uninstall:function(le){var ne=H.get("renderStatus");ne&&ne.clear()},onDocumentLoad:function(le){H.update("doc",le.doc)},onTextLayerRender:function(le){var ne=H.get("renderStatus");ne&&(ne=ne.set(le.pageIndex,le),H.update("renderStatus",ne))},Search:function(le){return r$3.createElement(v$1,c$3({},le,{store:H}))},ShowSearchPopover:Ee,ShowSearchPopoverButton:function(){return r$3.createElement(Ee,null,function(le){return r$3.createElement(k,c$3({enableShortcuts:$.enableShortcuts,store:H},le))})},clearHighlights:function(){R()},highlight:function(le){var ne=Array.isArray(le)?le:[le];return de(ne),fe(ne)},jumpToMatch:B,jumpToNextMatch:Y,jumpToPreviousMatch:ve,setTargetPages:K}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=search_min;var libExports$3=lib$1.exports,lib={exports:{}},theme_min={},e$2=libExports$h;function t$2(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$2=t$2(reactExports),r$2=function(){return n$2.createElement(e$2.Icon,{size:16},n$2.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$2.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$2=function(){return n$2.createElement(e$2.Icon,{size:16},n$2.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$2.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$2=function(){return o$2=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$2.apply(this,arguments)},a$2={left:0,top:8},i$2=function(A){var $=A.onClick,H=n$2.useContext(e$2.ThemeContext),O=n$2.useContext(e$2.LocalizationContext).l10n,R=H.currentTheme==="dark",B=O&&O.theme?R?O.theme.switchLightTheme:O.theme.switchDarkTheme:R?"Switch to the light theme":"Switch to the dark theme";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaLabel:B,testId:"theme__switch-button",onClick:$},R?n$2.createElement(c$2,null):n$2.createElement(r$2,null)),content:function(){return B},offset:a$2})},l$2=function(A){var $=A.children,H=n$2.useContext(e$2.ThemeContext);return($||function(O){return n$2.createElement(i$2,{onClick:O.onClick})})({onClick:function(){return H.setCurrentTheme(H.currentTheme==="dark"?"light":"dark")}})},u$2=function(A){var $=A.onClick,H=n$2.useContext(e$2.ThemeContext),O=n$2.useContext(e$2.LocalizationContext).l10n,R=H.currentTheme==="dark",B=O&&O.theme?R?O.theme.switchLightTheme:O.theme.switchDarkTheme:R?"Switch to the light theme":"Switch to the dark theme";return n$2.createElement(e$2.MenuItem,{icon:R?n$2.createElement(c$2,null):n$2.createElement(r$2,null),testId:"theme__switch-menu",onClick:$},B)};theme_min.DarkIcon=r$2,theme_min.LightIcon=c$2,theme_min.themePlugin=function(){var A=function($){return n$2.createElement(l$2,o$2({},$))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$2.createElement(A,null,function($){return n$2.createElement(i$2,o$2({},$))})},SwitchThemeMenuItem:function($){return n$2.createElement(A,null,function(H){return n$2.createElement(u$2,{onClick:function(){H.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=theme_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$c,r$1=reactExports,n$1=libExports$b,o$1=libExports$a,a$1=libExports$9,l$1=libExports$8,i$1=libExports$7,c$1=libExports$6,m$1=libExports$5,u$1=libExports$4,s$1=libExports$3,d$1=libExports$2,p=libExports$g;function v(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(A){var $=A.toolbarSlot,H=_.useContext(e$1.LocalizationContext).l10n,O=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,R=$.DownloadMenuItem,B=$.EnterFullScreenMenuItem,Y=$.GoToFirstPageMenuItem,ve=$.GoToLastPageMenuItem,fe=$.GoToNextPageMenuItem,de=$.GoToPreviousPageMenuItem,K=$.OpenMenuItem,Ee=$.PrintMenuItem,le=$.RotateBackwardMenuItem,ne=$.RotateForwardMenuItem,re=$.ShowPropertiesMenuItem,Q=$.SwitchScrollModeMenuItem,q=$.SwitchSelectionModeMenuItem,oe=$.SwitchViewModeMenuItem,se=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:O,target:function(ue,pe){var ee=H&&H.toolbar?H.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:O,target:_.createElement(e$1.MinimalButton,{ariaLabel:ee,isSelected:pe,testId:"toolbar__more-actions-popover-target",onClick:ue},_.createElement(E,null)),content:function(){return ee},offset:g})},content:function(ue){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(se,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(B,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(K,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(Ee,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(R,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(Y,{onClick:ue}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(de,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(fe,{onClick:ue})),_.createElement(ve,{onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement(ne,{onClick:ue}),_.createElement(le,{onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement(q,{mode:t$1.SelectionMode.Text,onClick:ue}),_.createElement(q,{mode:t$1.SelectionMode.Hand,onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement(Q,{mode:e$1.ScrollMode.Page,onClick:ue}),_.createElement(Q,{mode:e$1.ScrollMode.Vertical,onClick:ue}),_.createElement(Q,{mode:e$1.ScrollMode.Horizontal,onClick:ue}),_.createElement(Q,{mode:e$1.ScrollMode.Wrapped,onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(oe,{mode:e$1.ViewMode.SinglePage,onClick:ue})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(oe,{mode:e$1.ViewMode.DualPage,onClick:ue})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(oe,{mode:e$1.ViewMode.DualPageWithCover,onClick:ue})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(re,{onClick:ue}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},M.apply(this,arguments)},h=function(A){return function($){var H=_.useMemo(function(){return A($)},[]),O=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,R=H.CurrentPageInput,B=H.Download,Y=H.EnterFullScreen,ve=H.GoToNextPage,fe=H.GoToPreviousPage,de=H.NumberOfPages,K=H.Open,Ee=H.Print,le=H.ShowSearchPopover,ne=H.SwitchTheme,re=H.Zoom,Q=H.ZoomIn,q=H.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":O}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(le,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(fe,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(R,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(de,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ve,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(q,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(re,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Q,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ne,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Y,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(K,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(B,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Ee,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:H}))))}},f$1=function(A){var $=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var $=A.children,H=A.slot;return($||S)(H)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var $=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),H=o$1.getFilePlugin(A?A.getFilePlugin:{}),O=a$1.openPlugin(A?A.openPlugin:{}),R=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),B=i$1.printPlugin(A?A.printPlugin:{}),Y=c$1.propertiesPlugin(),ve=m$1.rotatePlugin(),fe=u$1.scrollModePlugin(),de=s$1.searchPlugin(A?A.searchPlugin:{}),K=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),Ee=d$1.themePlugin(),le=p.zoomPlugin(A?A.zoomPlugin:{}),ne=[$,H,O,R,B,Y,ve,fe,de,K,Ee,le],re=_.useCallback(function(Q){var q=$.EnterFullScreen,oe=$.EnterFullScreenMenuItem,se=H.Download,ue=H.DownloadMenuItem,pe=O.Open,ee=O.OpenMenuItem,ae=R.CurrentPageInput,Ae=R.CurrentPageLabel,ge=R.GoToFirstPage,te=R.GoToFirstPageMenuItem,_e=R.GoToLastPage,he=R.GoToLastPageMenuItem,Pe=R.GoToNextPage,De=R.GoToNextPageMenuItem,be=R.GoToPreviousPage,$e=R.GoToPreviousPageMenuItem,Ve=R.NumberOfPages,et=B.Print,Fe=B.PrintMenuItem,rt=Y.ShowProperties,ot=Y.ShowPropertiesMenuItem,ft=ve.Rotate,St=ve.RotateBackwardMenuItem,we=ve.RotateForwardMenuItem,W=fe.SwitchScrollMode,J=fe.SwitchScrollModeMenuItem,G=fe.SwitchViewMode,ie=fe.SwitchViewModeMenuItem,ce=de.Search,ye=de.ShowSearchPopover,Ce=K.SwitchSelectionMode,Re=K.SwitchSelectionModeMenuItem,Ke=Ee.SwitchTheme,qe=Ee.SwitchThemeMenuItem,nt=le.CurrentScale,ct=le.Zoom,bt=le.ZoomIn,dt=le.ZoomInMenuItem,pt=le.ZoomOut,vt=le.ZoomOutMenuItem;return _.createElement(I,M({},Q,{slot:{CurrentPageInput:ae,CurrentPageLabel:Ae,CurrentScale:nt,Download:se,DownloadMenuItem:ue,EnterFullScreen:q,EnterFullScreenMenuItem:oe,GoToFirstPage:ge,GoToFirstPageMenuItem:te,GoToLastPage:_e,GoToLastPageMenuItem:he,GoToNextPage:Pe,GoToNextPageMenuItem:De,GoToPreviousPage:be,GoToPreviousPageMenuItem:$e,NumberOfPages:Ve,Open:pe,OpenMenuItem:ee,Print:et,PrintMenuItem:Fe,Rotate:ft,RotateBackwardMenuItem:St,RotateForwardMenuItem:we,Search:ce,ShowProperties:rt,ShowPropertiesMenuItem:ot,ShowSearchPopover:ye,SwitchScrollMode:W,SwitchScrollModeMenuItem:J,SwitchSelectionMode:Ce,SwitchSelectionModeMenuItem:Re,SwitchViewMode:G,SwitchViewModeMenuItem:ie,SwitchTheme:Ke,SwitchThemeMenuItem:qe,Zoom:ct,ZoomIn:bt,ZoomInMenuItem:dt,ZoomOut:pt,ZoomOutMenuItem:vt}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:H,openPluginInstance:O,pageNavigationPluginInstance:R,printPluginInstance:B,propertiesPluginInstance:Y,rotatePluginInstance:ve,scrollModePluginInstance:fe,searchPluginInstance:de,selectionModePluginInstance:K,themePluginInstance:Ee,zoomPluginInstance:le,install:function(Q){ne.forEach(function(q){q.install&&q.install(Q)})},renderPageLayer:function(Q){return _.createElement(_.Fragment,null,ne.map(function(q,oe){return q.renderPageLayer?_.createElement(_.Fragment,{key:oe},q.renderPageLayer(Q)):_.createElement(_.Fragment,{key:oe})}))},renderViewer:function(Q){var q=Q.slot;return ne.forEach(function(oe){oe.renderViewer&&(q=oe.renderViewer(M(M({},Q),{slot:q})))}),q},uninstall:function(Q){ne.forEach(function(q){q.uninstall&&q.uninstall(Q)})},onDocumentLoad:function(Q){ne.forEach(function(q){q.onDocumentLoad&&q.onDocumentLoad(Q)})},onAnnotationLayerRender:function(Q){ne.forEach(function(q){q.onAnnotationLayerRender&&q.onAnnotationLayerRender(Q)})},onTextLayerRender:function(Q){ne.forEach(function(q){q.onTextLayerRender&&q.onTextLayerRender(Q)})},onViewerStateChange:function(Q){var q=Q;return ne.forEach(function(oe){oe.onViewerStateChange&&(q=oe.onViewerStateChange(q))}),q},renderDefaultToolbar:h,Toolbar:re}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=toolbar_min;var libExports$1=lib$b.exports,e=libExports$h,t=reactExports,n=libExports$f,a=libExports$e,r=libExports$d,o=libExports$1;function l(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var $=A.attachmentTabContent,H=A.bookmarkTabContent,O=A.store,R=A.thumbnailTabContent,B=A.tabs,Y=u.useRef(),ve=u.useContext(e.LocalizationContext).l10n,fe=u.useState(O.get("isCurrentTabOpened")||!1),de=fe[0],K=fe[1],Ee=u.useState(Math.max(O.get("currentTab")||0,0)),le=Ee[0],ne=Ee[1],re=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,Q=[{content:R,icon:u.createElement(d,null),title:ve&&ve.defaultLayout?ve.defaultLayout.thumbnail:"Thumbnail"},{content:H,icon:u.createElement(c,null),title:ve&&ve.defaultLayout?ve.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:ve&&ve.defaultLayout?ve.defaultLayout.attachment:"Attachment"}],q=B?B(Q):Q,oe=function(ue){ue>=0&&ue<=q.length-1&&(O.update("isCurrentTabOpened",!0),ne(ue))},se=function(ue){K(ue)};return u.useEffect(function(){return O.subscribe("currentTab",oe),O.subscribe("isCurrentTabOpened",se),function(){O.unsubscribe("currentTab",oe),O.unsubscribe("isCurrentTabOpened",se)}},[]),q.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":de,"rpv-default-layout__sidebar--ltr":!re,"rpv-default-layout__sidebar--rtl":re}),ref:Y},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},q.map(function(ue,pe){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":le===pe,key:pe,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(pe),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(pe),position:re?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:ue.title,isSelected:le===pe,onClick:function(){return function(ee){if(le===ee){O.update("isCurrentTabOpened",!O.get("isCurrentTabOpened"));var ae=Y.current;ae&&ae.style.width&&ae.style.removeProperty("width")}else O.update("currentTab",ee)}(pe)}},ue.icon),content:function(){return ue.title},offset:re?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(le),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":de,"rpv-default-layout__sidebar-content--ltr":!re,"rpv-default-layout__sidebar-content--rtl":re}),role:"tabpanel",tabIndex:-1},q[le].content))),de&&u.createElement(e.Splitter,{constrain:function(ue){return ue.firstHalfPercentage>=20&&ue.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),H=n.attachmentPlugin(),O=a.bookmarkPlugin(),R=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),B=o.toolbarPlugin(A?A.toolbarPlugin:{}),Y=H.Attachments,ve=O.Bookmarks,fe=R.Thumbnails,de=B.Toolbar,K=A?A.sidebarTabs:function(le){return le},Ee=[H,O,R,B];return{attachmentPluginInstance:H,bookmarkPluginInstance:O,thumbnailPluginInstance:R,toolbarPluginInstance:B,activateTab:function(le){$.update("currentTab",le)},toggleTab:function(le){var ne=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),ne!==le&&$.update("currentTab",le)},install:function(le){Ee.forEach(function(ne){ne.install&&ne.install(le)})},renderPageLayer:function(le){return u.createElement(u.Fragment,null,Ee.map(function(ne,re){return ne.renderPageLayer?u.createElement(u.Fragment,{key:re},ne.renderPageLayer(le)):u.createElement(u.Fragment,{key:re},u.createElement(u.Fragment,null))}))},renderViewer:function(le){var ne=le.slot;Ee.forEach(function(Q){Q.renderViewer&&(ne=Q.renderViewer(i(i({},le),{slot:ne})))});var re=ne.subSlot&&ne.subSlot.attrs?{className:ne.subSlot.attrs.className,"data-testid":ne.subSlot.attrs["data-testid"],ref:ne.subSlot.attrs.ref,style:ne.subSlot.attrs.style}:{};return ne.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":le.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(Y,null),bookmarkTabContent:u.createElement(ve,null),store:$,thumbnailTabContent:u.createElement(fe,null),tabs:K}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(de):u.createElement(de,null)),u.createElement("div",i({},re),ne.subSlot.children))),ne.children),ne.subSlot.attrs={},ne.subSlot.children=u.createElement(u.Fragment,null),ne},uninstall:function(le){Ee.forEach(function(ne){ne.uninstall&&ne.uninstall(le)})},onDocumentLoad:function(le){Ee.forEach(function(ne){ne.onDocumentLoad&&ne.onDocumentLoad(le)}),A&&A.setInitialTab&&A.setInitialTab(le.doc).then(function(ne){$.update("currentTab",ne),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(le){Ee.forEach(function(ne){ne.onAnnotationLayerRender&&ne.onAnnotationLayerRender(le)})},onTextLayerRender:function(le){Ee.forEach(function(ne){ne.onTextLayerRender&&ne.onTextLayerRender(le)})},onViewerStateChange:function(le){var ne=le;return Ee.forEach(function(re){re.onViewerStateChange&&(ne=re.onViewerStateChange(ne))}),ne}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function($,H){A.getPageMode().then(function(O){if(O)switch(O){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=defaultLayout_min;var libExports=lib$f.exports;const Container=He.div`
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  background-color: #000000a7;
  display: flex;
  align-items: top;
  justify-content: center;
  overflow-y: scroll;
  transition: all 0.5s ease;
`,Wrapper=He.div`
  max-width: 800px;
  width: 100%;
  border-radius: 16px;
  margin: 50px 12px;
  height: min-content;
  background-color: ${({theme:A})=>A.card};
  color: ${({theme:A})=>A.text_primary};
  padding: 20px;
  display: flex;
  flex-direction: column;
  position: relative;
`,Title$1=He.div`
  font-size: 28px;
  font-weight: 600;
  color: ${({theme:A})=>A.text_primary};
  margin: 8px 6px 0px 16px;
  @media only screen and (max-width: 600px) {
    font-size: 24px;
    margin: 6px 6px 0px 6px;
  }
`,Image$2=He.img`
  width: 100%;
  object-fit: cover;
  border-radius: 12px;
  margin-top: 30px;
  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.3);
`,SCPdfs=He.section`
  height: calc(100dvh - 80px);
  overflow: auto;
  padding: 1rem;

  &::-webkit-scrollbar {
    display: none;
  }
  -ms-overflow-style: none;
  scrollbar-width: none;

  @media only screen and (max-width: 600px) {
    height: 450px;
  }
`,Desc=He.div`
  font-size: 16px;
  font-weight: 400;
  color: ${({theme:A})=>A.text_primary};
  margin: 8px 6px;
  white-space: pre-line;
  @media only screen and (max-width: 600px) {
    font-size: 14px;
    margin: 6px 6px;
  }
`;pdfjs.GlobalWorkerOptions.workerSrc=new URL("/portfolio/assets/pdf.worker.min-DKQKFyKK.js",import.meta.url).toString();const Index=({openBlogModal:A,setOpenBlogModal:$})=>{const[H,O]=reactExports.useState(null),R=A==null?void 0:A.blog;function B({numPages:fe}){O(fe)}const Y=libExports$g.zoomPlugin({enableShortcuts:!0}),ve=libExports.defaultLayoutPlugin(Y);return jsxRuntimeExports.jsx(Modal,{open:!0,onClose:()=>$({state:!1,blog:null}),children:jsxRuntimeExports.jsx(Container,{children:jsxRuntimeExports.jsxs(Wrapper,{children:[jsxRuntimeExports.jsx(CloseRounded,{style:{position:"absolute",top:"10px",right:"20px",cursor:"pointer"},onClick:()=>$({state:!1,blog:null})}),jsxRuntimeExports.jsx(Title$1,{children:R==null?void 0:R.title}),(R==null?void 0:R.pdfUrl)&&jsxRuntimeExports.jsx(SCPdfs,{children:jsxRuntimeExports.jsx(libExports$h.Worker,{workerUrl:`https://unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`,children:jsxRuntimeExports.jsx(libExports$h.Viewer,{fileUrl:R==null?void 0:R.pdfUrl,plugins:[ve],onLoadSuccess:B})})}),(R==null?void 0:R.photoUrl)&&jsxRuntimeExports.jsx(Image$2,{src:R==null?void 0:R.photoUrl}),jsxRuntimeExports.jsx(Desc,{children:R==null?void 0:R.description})]})})})},Button=He.button`
  display: none;
  width: 100%;
  padding: 10px;
  background-color: ${({theme:A})=>A.white};
  color: ${({theme:A})=>A.text_black};
  font-size: 14px;
  font-weight: 700;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.8s ease-in-out;
`,Card=He.div`
  width: 330px;
  height: 350px;
  background-color: ${({theme:A})=>A.card};
  cursor: pointer;
  border-radius: 10px;
  box-shadow: 0 0 12px 4px rgba(0, 0, 0, 0.2);
  overflow: hidden;
  padding: 26px 20px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: 14px;
  transition: all 0.2s ease-in-out;
  &:hover {
    transform: translateY(-6px);
    box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.3);
    filter: brightness(1.1);
  }
  &:hover ${Button} {
    display: block;
  }
`,Image$1=He.img`
  width: 100%;
  height: 220px;
  object-fit: cover;
  background-color: ${({theme:A})=>A.white};
  border-radius: 10px;
  box-shadow: 0 0 16px 2px rgba(0, 0, 0, 0.3);
`,Details=He.div`
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 0px;
  padding: 0px 2px;
`,Title=He.div`
  font-size: 20px;
  font-weight: 600;
  color: ${({theme:A})=>A.text_secondary};
  overflow: hidden;
  display: -webkit-box;
  max-width: 100%;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
`,Date$1=He.div`
  font-size: 12px;
  margin-left: 2px;
  font-weight: 400;
  text-align: center;
  color: ${({theme:A})=>A.text_secondary+80};
  @media only screen and (max-width: 768px) {
    font-size: 10px;
  }
`,BlogCards=({blog:A,setOpenModal:$})=>{const H=useNavigate();return jsxRuntimeExports.jsxs(Card,{onClick:()=>A!=null&&A.pdfUrl?$({state:!0,blog:A}):H(`/portfolio/blogs/${A==null?void 0:A.id}`,{state:{blog:A}}),children:[jsxRuntimeExports.jsx(Image$1,{src:A==null?void 0:A.image}),jsxRuntimeExports.jsxs(Details,{children:[jsxRuntimeExports.jsx(Title,{children:A==null?void 0:A.title}),jsxRuntimeExports.jsx(Date$1,{children:A==null?void 0:A.date})]})]})};export{BlogCards as B,Index as I};
